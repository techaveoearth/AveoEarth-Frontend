{"file_contents":{"src/components/cart/CartItem.jsx":{"content":"\"use client\";\n\nimport Image from \"next/image\";\nimport { useState } from \"react\";\n\n// Close/Remove Icon\nconst CloseIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path \n      d=\"M18 6L6 18M6 6L18 18\" \n      stroke=\"#999999\" \n      strokeWidth=\"2\" \n      strokeLinecap=\"round\" \n      strokeLinejoin=\"round\"\n    />\n  </svg>\n);\n\n// Minus Icon\nconst MinusIcon = () => (\n  <svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M2.91669 7H11.0834\" stroke=\"#4D4D4D\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\n// Plus Icon  \nconst PlusIcon = () => (\n  <svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M7 2.91669V11.0834M2.91669 7H11.0834\" stroke=\"#4D4D4D\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport default function CartItem({ item, onUpdateQuantity, onRemove }) {\n  const [isRemoving, setIsRemoving] = useState(false);\n\n  const handleQuantityChange = (newQuantity) => {\n    onUpdateQuantity(item.id, newQuantity);\n  };\n\n  const handleRemove = () => {\n    setIsRemoving(true);\n    setTimeout(() => {\n      onRemove(item.id);\n    }, 200);\n  };\n\n  const itemSubtotal = (item.unit_price || 0) * (item.quantity || 1);\n  \n  // Get product image - try multiple sources for consistency\n  const getProductImage = () => {\n    if (item.product?.image) return item.product.image;\n    if (item.product?.images && item.product.images.length > 0) {\n      return item.product.images[0].url;\n    }\n    return item.image || '/placeholder-product.jpg';\n  };\n\n  return (\n    <div className={`px-4 py-4 transition-all duration-200 ${isRemoving ? 'opacity-50 scale-95' : 'opacity-100 scale-100'}`}>\n      <div className=\"grid grid-cols-12 gap-4 items-center\">\n        {/* Product Info */}\n        <div className=\"col-span-5 flex items-center gap-3\">\n          <div className=\"relative w-[80px] h-[80px] bg-center bg-cover bg-no-repeat rounded-lg overflow-hidden\">\n            <Image\n              src={getProductImage()}\n              alt={item.product_name || 'Product'}\n              fill\n              className=\"object-cover\"\n            />\n          </div>\n          <div>\n            <h3 className=\"font-poppins text-[#1a1a1a] text-sm font-normal\">\n              {item.product?.name || item.product_name || 'Product'}\n            </h3>\n          </div>\n        </div>\n\n        {/* Price */}\n        <div className=\"col-span-2 text-center\">\n          <span className=\"font-poppins text-[#1a1a1a] text-sm font-normal\">\n            ₹{(item.unit_price || 0).toFixed(2)}\n          </span>\n        </div>\n\n        {/* Quantity Controls */}\n        <div className=\"col-span-3 flex justify-center\">\n          <div className=\"bg-white border border-[#e6e6e6] rounded-[170px] p-1.5 flex items-center gap-1.5\">\n            {/* Minus Button */}\n            <button \n              onClick={() => handleQuantityChange((item.quantity || 1) - 1)}\n              className=\"bg-[#f2f2f2] hover:bg-[#e8e8e8] rounded-full w-[28px] h-[28px] flex items-center justify-center transition-colors\"\n              disabled={(item.quantity || 1) <= 1}\n            >\n              <MinusIcon />\n            </button>\n\n            {/* Quantity Display */}\n            <div className=\"font-poppins text-[#1a1a1a] text-sm font-normal w-8 text-center\">\n              {item.quantity || 1}\n            </div>\n\n            {/* Plus Button */}\n            <button \n              onClick={() => handleQuantityChange((item.quantity || 1) + 1)}\n              className=\"bg-[#f2f2f2] hover:bg-[#e8e8e8] rounded-full w-[28px] h-[28px] flex items-center justify-center transition-colors\"\n            >\n              <PlusIcon />\n            </button>\n          </div>\n        </div>\n\n        {/* Subtotal */}\n        <div className=\"col-span-1 text-center\">\n          <span className=\"font-poppins text-[#1a1a1a] text-sm font-medium\">\n            ₹{itemSubtotal.toFixed(2)}\n          </span>\n        </div>\n\n        {/* Remove Button */}\n        <div className=\"col-span-1 flex justify-center\">\n          <button\n            onClick={handleRemove}\n            className=\"w-5 h-5 flex items-center justify-center hover:bg-red-50 rounded-full transition-colors\"\n            aria-label={`Remove ${item.product_name || 'product'} from cart`}\n          >\n            <CloseIcon />\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":4539,"size_tokens":null},"src/components/layout/Footer.jsx":{"content":"\"use client\";\n\nexport default function Footer() {\n  return (\n    <footer className=\"bg-[#0f172a] text-white w-full relative overflow-hidden border-t border-gray-800\">\n      <div className=\"max-w-[1200px] mx-auto px-6 pt-[45px] pb-0 relative z-10\">\n        \n        {/* Main Footer Content */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-6 gap-8 lg:gap-12 mb-[45px]\">\n          \n          {/* Company Info */}\n          <div className=\"lg:col-span-2 flex flex-col gap-3\">\n            {/* Logo */}\n            <div className=\"flex items-center gap-[6px] mb-2\">\n              <div className=\"w-[26px] h-[24px] flex items-center justify-center\">\n                <img \n                  src=\"/logo.png\" \n                  alt=\"AveoEarth Logo\" \n                  className=\"w-full h-full object-contain\"\n                />\n              </div>\n              <span className=\"font-poppins font-medium text-white text-[26px] tracking-[-0.72px] leading-[30px]\">\n                AveoEarth\n              </span>\n            </div>\n            \n            {/* Company Description */}\n            <p className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] max-w-[280px]\">\n              The world's largest sustainability-focused marketplace. Connecting eco-conscious consumers with verified sustainable vendors worldwide.\n            </p>\n          </div>\n          \n          {/* My Account Column */}\n          <div className=\"flex flex-col gap-[15px]\">\n            <h3 className=\"font-poppins font-medium text-white text-[14px] leading-[1.5]\">\n              My Account\n            </h3>\n            <div className=\"flex flex-col gap-[9px]\">\n              <a href=\"#\" className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] hover:text-emerald-300 transition-colors cursor-pointer\">\n                My Account\n              </a>\n              <a href=\"#\" className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] hover:text-emerald-300 transition-colors cursor-pointer\">\n                Order History\n              </a>\n              <a href=\"#\" className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] hover:text-emerald-300 transition-colors cursor-pointer\">\n                Shopping Cart\n              </a>\n              <a href=\"#\" className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] hover:text-emerald-300 transition-colors cursor-pointer\">\n                Wishlist\n              </a>\n            </div>\n          </div>\n          \n          {/* Support Column */}\n          <div className=\"flex flex-col gap-[15px]\">\n            <h3 className=\"font-poppins font-medium text-white text-[14px] leading-[1.5]\">\n              Support\n            </h3>\n            <div className=\"flex flex-col gap-[9px]\">\n              <a href=\"#\" className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] hover:text-emerald-300 transition-colors cursor-pointer\">\n                Track Order\n              </a>\n              <a href=\"#\" className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] hover:text-emerald-300 transition-colors cursor-pointer\">\n                Shop\n              </a>\n              <a href=\"#\" className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] hover:text-emerald-300 transition-colors cursor-pointer\">\n                Product\n              </a>\n              <a href=\"#\" className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] hover:text-emerald-300 transition-colors cursor-pointer\">\n                Contact\n              </a>\n            </div>\n          </div>\n          \n          {/* About Us Column */}\n          <div className=\"flex flex-col gap-[15px]\">\n            <h3 className=\"font-poppins font-medium text-white text-[14px] leading-[1.5]\">\n              About Us\n            </h3>\n            <div className=\"flex flex-col gap-[9px]\">\n              <a href=\"#\" className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] hover:text-emerald-300 transition-colors cursor-pointer\">\n                Journey so far\n              </a>\n              <a href=\"#\" className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] hover:text-emerald-300 transition-colors cursor-pointer\">\n                Shop\n              </a>\n              <a href=\"#\" className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] hover:text-emerald-300 transition-colors cursor-pointer\">\n                Product\n              </a>\n              <a href=\"#\" className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] hover:text-emerald-300 transition-colors cursor-pointer\">\n                Track Order\n              </a>\n            </div>\n          </div>\n          \n          {/* Sustainability Column */}\n          <div className=\"flex flex-col gap-[15px]\">\n            <h3 className=\"font-poppins font-medium text-white text-[14px] leading-[1.5]\">\n              Sustainability\n            </h3>\n            <div className=\"flex flex-col gap-[9px]\">\n              <a href=\"#\" className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] hover:text-emerald-300 transition-colors cursor-pointer\">\n                ESG Verification\n              </a>\n              <a href=\"#\" className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] hover:text-emerald-300 transition-colors cursor-pointer\">\n                Carbon Footprint\n              </a>\n              <a href=\"#\" className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] hover:text-emerald-300 transition-colors cursor-pointer\">\n                Impact Reports\n              </a>\n              <a href=\"#\" className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] hover:text-emerald-300 transition-colors cursor-pointer\">\n                Become Vendor\n              </a>\n              <a href=\"/reviews/write\" className=\"font-poppins text-emerald-100 text-[12px] leading-[1.5] hover:text-emerald-300 transition-colors cursor-pointer\">\n                Write a Review\n              </a>\n            </div>\n          </div>\n        </div>\n        \n        {/* Subscribe Row */}\n        <div className=\"py-6 border-t border-gray-800 flex flex-col md:flex-row items-center justify-between gap-4\">\n          <div className=\"text-sm text-gray-300\">Stay updated with product drops and eco-tips</div>\n          <form\n            className=\"flex items-center gap-2 w-full md:w-auto\"\n            onSubmit={async (e) => {\n              e.preventDefault();\n              const form = e.currentTarget;\n              const emailInput = form.querySelector('input[name=\"newsletter-email\"]');\n              const email = emailInput?.value?.trim();\n              if (!email) return;\n              try {\n                const res = await fetch('/api/newsletter', { method: 'POST', body: JSON.stringify({ email }) });\n                if (res.ok) {\n                  emailInput.value = '';\n                  alert('Subscribed!');\n                } else {\n                  alert('Subscription failed');\n                }\n              } catch {\n                alert('Network error');\n              }\n            }}\n          >\n            <input name=\"newsletter-email\" type=\"email\" required placeholder=\"you@example.com\" className=\"px-3 py-2 rounded-md bg-[#0b1220] border border-gray-700 text-gray-100 placeholder:text-gray-400 w-full md:w-72\" />\n            <button type=\"submit\" className=\"px-4 py-2 rounded-md bg-emerald-600 hover:bg-emerald-700 text-white\">Subscribe</button>\n          </form>\n        </div>\n\n        {/* Footer Bottom - Copyright and Payment Methods */}\n        <div className=\"flex flex-col md:flex-row items-center justify-between py-[18px] border-t border-gray-800 gap-4\">\n          \n          {/* Copyright */}\n          <p className=\"font-poppins text-gray-300 text-[10.5px] leading-[1.5]\">\n            AveoEarth © 2025. All Rights Reserved\n          </p>\n          \n          {/* Payment Methods */}\n          <div className=\"flex gap-[5px] items-center\">\n            \n            {/* UPI */}\n            <div className=\"bg-[#0b1220] h-6 w-[35px] rounded-[5px] flex items-center justify-center overflow-hidden border border-gray-700\">\n              <span className=\"text-[8px] font-bold text-gray-300\">UPI</span>\n            </div>\n            \n            {/* Visa */}\n            <div className=\"bg-[#0b1220] h-6 w-[35px] rounded-[5px] flex items-center justify-center overflow-hidden border border-gray-700\">\n              <span className=\"text-[8px] font-bold text-gray-300\">VISA</span>\n            </div>\n            \n            {/* Mastercard */}\n            <div className=\"bg-[#0b1220] h-6 w-[35px] rounded-[5px] flex items-center justify-center overflow-hidden border border-gray-700\">\n              <div className=\"flex\">\n                <div className=\"w-2 h-2 bg-[#8b4513] rounded-full\"></div>\n                <div className=\"w-2 h-2 bg-[#a0522d] rounded-full -ml-1\"></div>\n              </div>\n            </div>\n            \n            {/* American Express */}\n            <div className=\"bg-[#0b1220] h-6 w-[35px] rounded-[5px] flex items-center justify-center overflow-hidden border border-gray-700\">\n              <span className=\"text-[7px] font-bold text-gray-300\">AMEX</span>\n            </div>\n            \n            {/* RuPay */}\n            <div className=\"bg-[#0b1220] h-6 w-[35px] rounded-[5px] flex items-center justify-center overflow-hidden border border-gray-700\">\n              <span className=\"text-[7px] font-bold text-gray-300\">RuPay</span>\n            </div>\n            \n            {/* Diners Club */}\n            <div className=\"bg-[#0b1220] h-6 w-[35px] rounded-[5px] flex items-center justify-center overflow-hidden border border-gray-700\">\n              <span className=\"text-[7px] font-bold text-gray-300\">Diners</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n}\n","path":null,"size_bytes":9872,"size_tokens":null},"src/services/buyerOrdersService.js":{"content":"/**\n * Buyer Orders Service\n * \n * Complete implementation of the buyer workflow:\n * 1. Cart Management (get, add, update, delete items)\n * 2. Order Creation and Management\n * 3. Payment Handling\n * 4. Returns Management\n * 5. Order Tracking\n */\n\nimport { buyerOrders, tokens, auth } from '../lib/api';\nimport addressService from './addressService';\n\nclass BuyerOrdersService {\n  constructor() {\n    this.cache = new Map();\n    this.cacheTimestamps = new Map();\n    this.cacheTTL = 5 * 60 * 1000; // 5 minutes\n  }\n\n  // Cache utilities\n  isCacheValid(key) {\n    const timestamp = this.cacheTimestamps.get(key);\n    return timestamp && (Date.now() - timestamp) < this.cacheTTL;\n  }\n\n  setCache(key, data) {\n    this.cache.set(key, data);\n    this.cacheTimestamps.set(key, Date.now());\n  }\n\n  getCache(key) {\n    if (this.isCacheValid(key)) {\n      return this.cache.get(key);\n    }\n    this.cache.delete(key);\n    this.cacheTimestamps.delete(key);\n    return null;\n  }\n\n  // Helper function to validate UUID format\n  isValidUUID(uuid) {\n    const uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;\n    return uuidRegex.test(uuid);\n  }\n\n  // Session management for guest users\n  getSessionId() {\n    if (typeof window !== 'undefined') {\n      let sessionId = localStorage.getItem('ae_session_id');\n      if (!sessionId) {\n        sessionId = 'guest_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);\n        localStorage.setItem('ae_session_id', sessionId);\n      }\n      return sessionId;\n    }\n    return null;\n  }\n\n  clearSessionId() {\n    if (typeof window !== 'undefined') {\n      localStorage.removeItem('ae_session_id');\n    }\n  }\n\n  // Check if user is authenticated\n  isAuthenticated() {\n    const userTokens = tokens.get();\n    return !!(userTokens?.access_token);\n  }\n\n  // ===================\n  // CART MANAGEMENT\n  // ===================\n\n  async getCart() {\n    try {\n      const cacheKey = 'user_cart';\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const sessionId = this.isAuthenticated() ? null : this.getSessionId();\n      const cart = await buyerOrders.getCart(sessionId);\n      \n      this.setCache(cacheKey, cart);\n      return cart;\n    } catch (error) {\n      console.error('Failed to get cart:', error);\n      // If cart doesn't exist, return empty cart\n      if (error.message?.includes('404') || error.message?.includes('Not Found')) {\n        const emptyCart = { items: [], total: 0, subtotal: 0, tax: 0, shipping: 0 };\n        return emptyCart;\n      }\n      throw error;\n    }\n  }\n\n  async addToCart(productId, quantity = 1, variantId = null) {\n    try {\n      const sessionId = this.isAuthenticated() ? null : this.getSessionId();\n      const result = await buyerOrders.addToCart(productId, quantity, variantId, sessionId);\n      \n      // Invalidate cart cache\n      this.cache.delete('user_cart');\n      this.cache.delete('cart_count');\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to add item to cart:', error);\n      throw error;\n    }\n  }\n\n  async updateCartItem(cartItemId, quantity) {\n    try {\n      const result = await buyerOrders.updateCartItem(cartItemId, quantity);\n      \n      // Invalidate cart cache\n      this.cache.delete('user_cart');\n      this.cache.delete('cart_count');\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to update cart item:', error);\n      throw error;\n    }\n  }\n\n  async removeCartItem(cartItemId) {\n    try {\n      const result = await buyerOrders.removeCartItem(cartItemId);\n      \n      // Invalidate cart cache\n      this.cache.delete('user_cart');\n      this.cache.delete('cart_count');\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to remove cart item:', error);\n      throw error;\n    }\n  }\n\n  async clearCart() {\n    try {\n      const sessionId = this.isAuthenticated() ? null : this.getSessionId();\n      const result = await buyerOrders.clearCart(sessionId);\n      \n      // Invalidate cart cache\n      this.cache.delete('user_cart');\n      this.cache.delete('cart_count');\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to clear cart:', error);\n      throw error;\n    }\n  }\n\n  async getCartCount() {\n    try {\n      const cacheKey = 'cart_count';\n      const cached = this.getCache(cacheKey);\n      if (cached !== null) return cached;\n\n      const sessionId = this.isAuthenticated() ? null : this.getSessionId();\n      const result = await buyerOrders.getCartCount(sessionId);\n      \n      this.setCache(cacheKey, result.count);\n      return result.count;\n    } catch (error) {\n      console.error('Failed to get cart count:', error);\n      return 0;\n    }\n  }\n\n  async transferCartToUser() {\n    try {\n      if (!this.isAuthenticated()) {\n        throw new Error('User must be authenticated to transfer cart');\n      }\n\n      const sessionId = this.getSessionId();\n      if (!sessionId) return null;\n\n      const result = await buyerOrders.transferCart(sessionId);\n      \n      // Clear session after transfer\n      this.clearSessionId();\n      \n      // Invalidate cart cache\n      this.cache.delete('user_cart');\n      this.cache.delete('cart_count');\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to transfer cart:', error);\n      throw error;\n    }\n  }\n\n  // ===================\n  // ORDER MANAGEMENT\n  // ===================\n\n  async createOrder(orderData) {\n    try {\n      if (!this.isAuthenticated()) {\n        throw new Error('User must be authenticated to create orders');\n      }\n\n      // Extract the order details\n      const { billingAddress, shippingAddress, paymentMethod, customerNotes, useDifferentShipping } = orderData;\n\n      let billingAddressId;\n      let shippingAddressId = null;\n\n      // Get existing addresses to check for duplicates\n      let existingAddresses = [];\n      try {\n        existingAddresses = await addressService.getAddresses();\n        // Ensure it's an array\n        if (!Array.isArray(existingAddresses)) {\n          console.warn('Address service returned non-array:', existingAddresses);\n          existingAddresses = [];\n        }\n      } catch (error) {\n        console.error('Failed to fetch existing addresses:', error);\n        existingAddresses = [];\n      }\n\n      // Find or create billing address\n      const billingMatch = existingAddresses.find(addr =>\n        addr.first_name === billingAddress.firstName &&\n        addr.last_name === billingAddress.lastName &&\n        addr.address_line_1 === billingAddress.streetAddress &&\n        addr.city === billingAddress.city &&\n        addr.postal_code === billingAddress.postalCode &&\n        addr.country === billingAddress.country\n      );\n\n      if (billingMatch) {\n        console.log('Found existing billing address:', billingMatch.id);\n        billingAddressId = billingMatch.id;\n      } else {\n        console.log('Creating new billing address...');\n        const createdBillingAddress = await auth.createAddress({\n          type: 'billing',\n          first_name: billingAddress.firstName,\n          last_name: billingAddress.lastName,\n          company: billingAddress.companyName || null,\n          address_line_1: billingAddress.streetAddress,\n          address_line_2: billingAddress.addressLine2 || null,\n          city: billingAddress.city || '',\n          state: billingAddress.state,\n          postal_code: billingAddress.postalCode || '',\n          country: billingAddress.country,\n          phone: billingAddress.phone,\n          is_default: false\n        }, tokens.get()?.access_token);\n        console.log('Created billing address:', createdBillingAddress.id);\n        billingAddressId = createdBillingAddress.id;\n      }\n\n      // Find or create shipping address if different\n      if (useDifferentShipping && shippingAddress) {\n        const shippingMatch = existingAddresses.find(addr =>\n          addr.first_name === shippingAddress.firstName &&\n          addr.last_name === shippingAddress.lastName &&\n          addr.address_line_1 === shippingAddress.streetAddress &&\n          addr.city === shippingAddress.city &&\n          addr.postal_code === shippingAddress.postalCode &&\n          addr.country === shippingAddress.country\n        );\n\n        if (shippingMatch) {\n          console.log('Found existing shipping address:', shippingMatch.id);\n          shippingAddressId = shippingMatch.id;\n        } else {\n          console.log('Creating new shipping address...');\n          const createdShippingAddress = await auth.createAddress({\n            type: 'shipping',\n            first_name: shippingAddress.firstName,\n            last_name: shippingAddress.lastName,\n            company: shippingAddress.companyName || null,\n            address_line_1: shippingAddress.streetAddress,\n            address_line_2: shippingAddress.addressLine2 || null,\n            city: shippingAddress.city || '',\n            state: shippingAddress.state,\n            postal_code: shippingAddress.postalCode || '',\n            country: shippingAddress.country,\n            phone: shippingAddress.phone,\n            is_default: false\n          }, tokens.get()?.access_token);\n          console.log('Created shipping address:', createdShippingAddress.id);\n          shippingAddressId = createdShippingAddress.id;\n        }\n      }\n\n      // Validate address IDs before creating order\n      if (!billingAddressId || typeof billingAddressId !== 'string' || billingAddressId.trim() === '' || !this.isValidUUID(billingAddressId)) {\n        throw new Error(`Invalid billing address ID: ${billingAddressId}`);\n      }\n\n      if (shippingAddressId && (!this.isValidUUID(shippingAddressId))) {\n        throw new Error(`Invalid shipping address ID: ${shippingAddressId}`);\n      }\n\n      // Create the order\n      console.log('Creating order with:', {\n        billingAddressId,\n        shippingAddressId,\n        paymentMethod,\n        customerNotes\n      });\n\n      const order = await buyerOrders.createOrder(billingAddressId, shippingAddressId, paymentMethod, customerNotes);\n      \n      // Invalidate relevant caches\n      this.cache.delete('user_cart');\n      this.cache.delete('cart_count');\n      this.cache.delete('user_orders');\n      \n      return order;\n    } catch (error) {\n      console.error('Failed to create order:', error);\n      throw error;\n    }\n  }\n\n  async getUserOrders(page = 1, limit = 20, status = null) {\n    try {\n      if (!this.isAuthenticated()) {\n        throw new Error('User must be authenticated to view orders');\n      }\n\n      const cacheKey = `user_orders_${page}_${limit}_${status || 'all'}`;\n      // Clear cache to ensure fresh data\n      this.cache.delete(cacheKey);\n      \n      console.log('buyerOrdersService: Calling API buyerOrders.getUserOrders...');\n      const orders = await buyerOrders.getUserOrders(page, limit, status);\n      console.log('buyerOrdersService: API response:', orders);\n      \n      this.setCache(cacheKey, orders);\n      return orders;\n    } catch (error) {\n      console.error('buyerOrdersService: Failed to get user orders:', error);\n      throw error;\n    }\n  }\n\n  async getOrderDetails(orderId) {\n    try {\n      if (!this.isAuthenticated()) {\n        throw new Error('User must be authenticated to view order details');\n      }\n\n      const cacheKey = `order_details_${orderId}`;\n      // Clear cache to ensure fresh data for order status updates\n      this.cache.delete(cacheKey);\n      this.cacheTimestamps.delete(cacheKey);\n\n      const order = await buyerOrders.getOrderDetails(orderId);\n      \n      this.setCache(cacheKey, order);\n      return order;\n    } catch (error) {\n      console.error('Failed to get order details:', error);\n      throw error;\n    }\n  }\n\n  async cancelOrder(orderId, cancelReason) {\n    try {\n      if (!this.isAuthenticated()) {\n        throw new Error('User must be authenticated to cancel orders');\n      }\n\n      const result = await buyerOrders.cancelOrder(orderId, cancelReason);\n      \n      // Invalidate relevant caches\n      this.cache.delete(`order_details_${orderId}`);\n      this.cache.delete('user_orders');\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to cancel order:', error);\n      throw error;\n    }\n  }\n\n  // ===================\n  // PAYMENT MANAGEMENT\n  // ===================\n\n  async getOrderPayments(orderId) {\n    try {\n      if (!this.isAuthenticated()) {\n        throw new Error('User must be authenticated to view payments');\n      }\n\n      const cacheKey = `order_payments_${orderId}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const payments = await buyerOrders.getOrderPayments(orderId);\n      \n      this.setCache(cacheKey, payments);\n      return payments;\n    } catch (error) {\n      console.error('Failed to get order payments:', error);\n      throw error;\n    }\n  }\n\n  async getUserPayments(page = 1, limit = 20) {\n    try {\n      if (!this.isAuthenticated()) {\n        throw new Error('User must be authenticated to view payments');\n      }\n\n      const cacheKey = `user_payments_${page}_${limit}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const payments = await buyerOrders.getUserPayments(page, limit);\n      \n      this.setCache(cacheKey, payments);\n      return payments;\n    } catch (error) {\n      console.error('Failed to get user payments:', error);\n      throw error;\n    }\n  }\n\n  // ===================\n  // RETURNS MANAGEMENT\n  // ===================\n\n  async createReturn(orderItemId, reason, description, quantity, images = []) {\n    try {\n      if (!this.isAuthenticated()) {\n        throw new Error('User must be authenticated to create returns');\n      }\n\n      const result = await buyerOrders.createReturn(orderItemId, reason, description, quantity, images);\n      \n      // Invalidate relevant caches\n      this.cache.delete('user_returns');\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to create return:', error);\n      throw error;\n    }\n  }\n\n  async getUserReturns(page = 1, limit = 20) {\n    try {\n      if (!this.isAuthenticated()) {\n        throw new Error('User must be authenticated to view returns');\n      }\n\n      const cacheKey = `user_returns_${page}_${limit}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const returns = await buyerOrders.getUserReturns(page, limit);\n      \n      this.setCache(cacheKey, returns);\n      return returns;\n    } catch (error) {\n      console.error('Failed to get user returns:', error);\n      throw error;\n    }\n  }\n\n  async getReturnDetails(returnId) {\n    try {\n      if (!this.isAuthenticated()) {\n        throw new Error('User must be authenticated to view return details');\n      }\n\n      const cacheKey = `return_details_${returnId}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const returnDetails = await buyerOrders.getReturnDetails(returnId);\n      \n      this.setCache(cacheKey, returnDetails);\n      return returnDetails;\n    } catch (error) {\n      console.error('Failed to get return details:', error);\n      throw error;\n    }\n  }\n\n  // ===================\n  // ORDER TRACKING\n  // ===================\n\n  async trackOrder(orderId) {\n    try {\n      if (!this.isAuthenticated()) {\n        throw new Error('User must be authenticated to track orders');\n      }\n\n      const cacheKey = `order_tracking_${orderId}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const tracking = await buyerOrders.trackOrder(orderId);\n      \n      // Shorter cache for tracking info (1 minute)\n      this.cache.set(cacheKey, tracking);\n      this.cacheTimestamps.set(cacheKey, Date.now());\n      setTimeout(() => {\n        this.cache.delete(cacheKey);\n        this.cacheTimestamps.delete(cacheKey);\n      }, 60000); // 1 minute\n      \n      return tracking;\n    } catch (error) {\n      console.error('Failed to track order:', error);\n      throw error;\n    }\n  }\n\n  // ===================\n  // UTILITY METHODS\n  // ===================\n\n  // Clear all caches\n  clearCache() {\n    this.cache.clear();\n    this.cacheTimestamps.clear();\n  }\n\n  // Get order status display text\n  getOrderStatusText(status) {\n    const statusMap = {\n      'pending': 'Pending',\n      'confirmed': 'Confirmed',\n      'processing': 'Processing',\n      'shipped': 'Shipped',\n      'delivered': 'Delivered',\n      'cancelled': 'Cancelled',\n      'returned': 'Returned',\n      'refunded': 'Refunded'\n    };\n    return statusMap[status] || status;\n  }\n\n  // Get payment status display text\n  getPaymentStatusText(status) {\n    const statusMap = {\n      'pending': 'Pending',\n      'processing': 'Processing',\n      'completed': 'Completed',\n      'failed': 'Failed',\n      'cancelled': 'Cancelled',\n      'refunded': 'Refunded'\n    };\n    return statusMap[status] || status;\n  }\n\n  // Calculate cart totals\n  calculateCartTotals(cart) {\n    if (!cart?.items) return { subtotal: 0, total: 0, itemCount: 0 };\n\n    let subtotal = 0;\n    let itemCount = 0;\n    \n    cart.items.forEach(item => {\n      // Use unit_price from cart item (backend calculation) or fallback to product price\n      const price = parseFloat(item.unit_price || item.variant?.price || item.product?.price || 0);\n      const quantity = parseInt(item.quantity || 1);\n      subtotal += price * quantity;\n      itemCount += quantity;\n    });\n\n    // Use backend totals if available, otherwise use calculated totals\n    const backendSubtotal = parseFloat(cart.subtotal || 0);\n    const backendTotal = parseFloat(cart.total_amount || cart.total || 0);\n    \n    return {\n      subtotal: backendSubtotal > 0 ? backendSubtotal : subtotal,\n      total: backendTotal > 0 ? backendTotal : subtotal,\n      itemCount,\n      currency: cart.currency || 'INR'\n    };\n  }\n\n  // Format currency\n  formatCurrency(amount, currency = 'INR') {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: currency,\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 2\n    }).format(amount);\n  }\n}\n\n// Create and export a singleton instance\nconst buyerOrdersService = new BuyerOrdersService();\nexport default buyerOrdersService;\n","path":null,"size_bytes":18292,"size_tokens":null},"src/components/vendor/ProductsContent.jsx":{"content":"import React, { useState } from 'react';\nimport ProductsHeader from './products/ProductsHeader';\nimport ProductsSearch from './products/ProductsSearch';\nimport ProductsTable from './products/ProductsTable';\n\nexport default function ProductsContent() {\n  const [refreshTrigger, setRefreshTrigger] = useState(0);\n\n  const handleProductAdded = (product) => {\n    // Trigger a refresh of the products table\n    setRefreshTrigger(prev => prev + 1);\n  };\n\n  return (\n    <div className=\"bg-white w-full h-full p-4 sm:p-7 pb-4\">\n      <div className=\"w-full\">\n        <ProductsHeader onProductAdded={handleProductAdded} />\n        <ProductsSearch />\n        <ProductsTable refreshTrigger={refreshTrigger} />\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":732,"size_tokens":null},"src/components/search/ProductRecommendations.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport ProductCard from '@/components/ui/ProductCard';\n\nexport default function ProductRecommendations({ \n  type = \"trending\",\n  productId = null,\n  category = null,\n  limit = 8,\n  title = null,\n  className = \"\",\n  showTitle = true\n}) {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n\n  const defaultTitles = {\n    trending: \"Trending Products\",\n    \"top-rated\": \"Top Rated Products\", \n    \"new-arrivals\": \"New Arrivals\",\n    \"best-sellers\": \"Best Sellers\",\n    personalized: \"Recommended for You\",\n    \"cross-sell\": \"You might also like\",\n    upsell: \"Upgrade Options\",\n    similar: \"Similar Products\",\n    seasonal: \"Seasonal Picks\"\n  };\n\n  const displayTitle = title || defaultTitles[type] || \"Recommended Products\";\n\n  // Mock product data\n  const mockProducts = [\n    {\n      id: 1,\n      name: \"Bamboo Toothbrush Set\",\n      slug: \"bamboo-toothbrush-set\",\n      short_description: \"Eco-friendly bamboo toothbrushes for the whole family\",\n      price: 25,\n      compare_at_price: 35,\n      rating: 4.8,\n      review_count: 156,\n      primary_image: \"/hero1.png\",\n      category_name: \"Personal Care\",\n      images: [\"/hero1.png\"]\n    },\n    {\n      id: 2,\n      name: \"Organic Cotton Tote Bag\",\n      slug: \"organic-cotton-tote-bag\",\n      short_description: \"Durable and stylish organic cotton shopping bag\",\n      price: 18,\n      compare_at_price: 25,\n      rating: 4.6,\n      review_count: 89,\n      primary_image: \"/hero1.png\",\n      category_name: \"Fashion\",\n      images: [\"/hero1.png\"]\n    },\n    {\n      id: 3,\n      name: \"Stainless Steel Water Bottle\",\n      slug: \"stainless-steel-water-bottle\",\n      short_description: \"Insulated water bottle keeps drinks cold for 24 hours\",\n      price: 35,\n      compare_at_price: 45,\n      rating: 4.9,\n      review_count: 234,\n      primary_image: \"/hero1.png\",\n      category_name: \"Drinkware\",\n      images: [\"/hero1.png\"]\n    },\n    {\n      id: 4,\n      name: \"Recycled Paper Notebook\",\n      slug: \"recycled-paper-notebook\",\n      short_description: \"Eco-friendly notebook made from 100% recycled paper\",\n      price: 12,\n      compare_at_price: 18,\n      rating: 4.4,\n      review_count: 67,\n      primary_image: \"/hero1.png\",\n      category_name: \"Stationery\",\n      images: [\"/hero1.png\"]\n    },\n    {\n      id: 5,\n      name: \"Solar Power Bank\",\n      slug: \"solar-power-bank\",\n      short_description: \"Portable solar charger for all your devices\",\n      price: 45,\n      compare_at_price: 60,\n      rating: 4.5,\n      review_count: 123,\n      primary_image: \"/hero1.png\",\n      category_name: \"Tech\",\n      images: [\"/hero1.png\"]\n    },\n    {\n      id: 6,\n      name: \"Hemp Fiber Yoga Mat\",\n      slug: \"hemp-fiber-yoga-mat\",\n      short_description: \"Natural hemp yoga mat for sustainable practice\",\n      price: 65,\n      compare_at_price: 85,\n      rating: 4.7,\n      review_count: 198,\n      primary_image: \"/hero1.png\",\n      category_name: \"Fitness\",\n      images: [\"/hero1.png\"]\n    },\n    {\n      id: 7,\n      name: \"Wooden Kitchen Utensil Set\",\n      slug: \"wooden-kitchen-utensil-set\",\n      short_description: \"Complete set of sustainable bamboo kitchen tools\",\n      price: 28,\n      compare_at_price: 40,\n      rating: 4.6,\n      review_count: 145,\n      primary_image: \"/hero1.png\",\n      category_name: \"Kitchen\",\n      images: [\"/hero1.png\"]\n    },\n    {\n      id: 8,\n      name: \"Organic Skincare Set\",\n      slug: \"organic-skincare-set\",\n      short_description: \"Natural skincare routine with organic ingredients\",\n      price: 55,\n      compare_at_price: 75,\n      rating: 4.8,\n      review_count: 267,\n      primary_image: \"/hero1.png\",\n      category_name: \"Beauty\",\n      images: [\"/hero1.png\"]\n    }\n  ];\n\n  useEffect(() => {\n    setLoading(true);\n    setError(false);\n    \n    try {\n      // Simulate loading delay and provide products\n      const timer = setTimeout(() => {\n        const shuffledProducts = [...mockProducts].sort(() => Math.random() - 0.5);\n        setProducts(shuffledProducts.slice(0, limit));\n        setLoading(false);\n      }, 500); // Reduced loading time\n\n      return () => clearTimeout(timer);\n    } catch (err) {\n      console.error('Error loading products:', err);\n      setError(true);\n      setLoading(false);\n    }\n  }, [type, productId, category, limit]);\n\n  if (loading) {\n    return (\n      <div className={`${className}`}>\n        {showTitle && (\n          <h2 className=\"font-reem font-bold text-3xl sm:text-4xl text-[#1a4032] mb-8 text-center\">{displayTitle}</h2>\n        )}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n          {[...Array(limit)].map((_, index) => (\n            <div key={index} className=\"animate-pulse bg-white rounded-2xl p-4 shadow-lg\">\n              <div className=\"bg-gray-200 aspect-square rounded-xl mb-4\"></div>\n              <div className=\"bg-gray-200 h-4 rounded mb-3\"></div>\n              <div className=\"bg-gray-200 h-4 w-2/3 rounded mb-3\"></div>\n              <div className=\"bg-gray-200 h-6 w-1/3 rounded\"></div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className={`${className} relative py-8 sm:py-12`}>\n        <div className=\"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          {showTitle && (\n            <div className=\"text-center mb-8 sm:mb-12\">\n              <h2 className=\"font-reem font-bold text-3xl sm:text-4xl lg:text-5xl text-[#1a4032] mb-4\">\n                {displayTitle}\n              </h2>\n              <div className=\"w-24 h-1 bg-eco-gradient rounded-full mx-auto\"></div>\n            </div>\n          )}\n          <div className=\"text-center py-12\">\n            <div className=\"text-gray-500 mb-4\">\n              <svg className=\"w-16 h-16 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n              </svg>\n            </div>\n            <p className=\"text-gray-600 font-poppins\">Unable to load recommendations</p>\n            <button \n              onClick={() => typeof window !== 'undefined' && window.location.reload()} \n              className=\"mt-4 text-[#1a4032] hover:text-[#2d5a45] font-medium underline\"\n            >\n              Try again\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (products.length === 0 && !loading) {\n    return null;\n  }\n\n  return (\n    <div className={`${className} relative py-8 sm:py-12`}>\n      <div className=\"absolute inset-0 bg-gradient-to-br from-[#f8f6f4] via-[#e8e4e1] to-[#ddd7d2] opacity-50 rounded-3xl\"></div>\n      \n      <div className=\"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        {showTitle && (\n          <div className=\"text-center mb-8 sm:mb-12\">\n            <h2 className=\"font-reem font-bold text-3xl sm:text-4xl lg:text-5xl text-[#1a4032] mb-4\">\n              {displayTitle}\n            </h2>\n            <div className=\"w-24 h-1 bg-eco-gradient rounded-full mx-auto\"></div>\n          </div>\n        )}\n        \n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 lg:gap-8\">\n          {products.map((product, index) => (\n            <div \n              key={product.id}\n              className=\"animate-slide-in-up hover-lift\"\n              style={{ animationDelay: `${index * 0.1}s` }}\n            >\n              <ProductCard \n                imageUrl={product.primary_image || '/hero1.png'}\n                category={product.category_name || 'Eco Products'}\n                title={product.name || 'Eco Product'}\n                description={product.short_description || 'Sustainable and eco-friendly product'}\n                price={product.price || 25}\n                originalPrice={product.compare_at_price || product.price + 10}\n                rating={product.rating || 4.5}\n                reviews={product.review_count || 100}\n                className=\"w-full\"\n              />\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":8257,"size_tokens":null},"src/components/explore/ExploreProductGrid.jsx":{"content":"\"use client\";\n\nimport Image from \"next/image\";\nimport ProductCard from \"../ui/ProductCard\";\n\nexport default function ExploreProductGrid({ products, loading, onProductClick }) {\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n        {[...Array(8)].map((_, index) => (\n          <div key={index} className=\"animate-pulse\">\n            <div className=\"bg-gray-200 aspect-square rounded-lg mb-3\"></div>\n            <div className=\"bg-gray-200 h-4 rounded mb-2\"></div>\n            <div className=\"bg-gray-200 h-4 w-2/3 rounded mb-2\"></div>\n            <div className=\"bg-gray-200 h-4 w-1/3 rounded\"></div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  if (!products || products.length === 0) {\n    return (\n      <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n        <div className=\"mb-4\">\n          <svg\n            className=\"w-16 h-16 text-gray-400\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n            />\n          </svg>\n        </div>\n        <h3 className=\"font-poppins font-semibold text-[18px] text-[#1a1a1a] mb-2\">\n          No products found\n        </h3>\n        <p className=\"font-poppins text-[14px] text-[#666666] max-w-md\">\n          Try adjusting your filters or search terms to find what you're looking for.\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n      {products.map((product) => (\n        <ProductCard \n          key={product.id} \n          productId={product.id}\n          imageUrl={product.images?.[0]?.url || '/placeholder-product.jpg'}\n          images={product.images || []}\n          category={product.category?.name || 'Product'}\n          title={product.name}\n          description={product.short_description || ''}\n          price={product.price}\n          originalPrice={product.compare_at_price}\n          rating={4.5}\n          reviews={0}\n          className=\"w-full\"\n          inStock={product?.status === 'active' && (product?.available_stock > 0)}\n          onClick={() => onProductClick && onProductClick(product)}\n        />\n      ))}\n    </div>\n  );\n}\n","path":null,"size_bytes":2566,"size_tokens":null},"src/app/collections/page.jsx":{"content":"export const metadata = { title: \"Collections\" };\n\nexport default function CollectionsPage() {\n  return (\n    <div className=\"container mx-auto px-4 py-10\">\n      <h1 className=\"text-3xl font-semibold mb-3\">Curated Collections</h1>\n      <p className=\"text-neutral-600 mb-8\">Discover themed bundles designed for lower environmental impact.</p>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {[1,2,3,4,5,6].map((i) => (\n          <div key={i} className=\"bg-white rounded-2xl border border-neutral-200 shadow-card hover:shadow-card-hover transition transform hover:-translate-y-1\">\n            <div className=\"aspect-[4/3] bg-neutral-100 rounded-t-2xl\" />\n            <div className=\"p-4\">\n              <h3 className=\"font-medium\">Collection {i}</h3>\n              <p className=\"text-sm text-neutral-600 mt-1\">Curated • Low Waste • Carbon Offset</p>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n\n","path":null,"size_bytes":972,"size_tokens":null},"src/services/supplierAnalyticsService.js":{"content":"// Supplier Analytics service layer - handles business logic for analytics and metrics\nimport { tokens } from '../lib/api';\n\n// API Base URL\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:8000\";\n\n// Generic request handler\nasync function request(path, { method = \"GET\", body, token } = {}) {\n  const headers = { \"Content-Type\": \"application/json\" };\n  if (token) {\n    headers[\"Authorization\"] = `Bearer ${token}`;\n  }\n\n  const res = await fetch(`${API_BASE}${path}`, {\n    method,\n    headers,\n    body: body ? JSON.stringify(body) : undefined,\n  });\n\n  let data = null;\n  try {\n    data = await res.json();\n  } catch {\n    // non-JSON response\n  }\n\n  if (!res.ok) {\n    let message = `Request failed (${res.status})`;\n    if (data) {\n      if (typeof data.detail === \"string\") message = data.detail;\n      else if (Array.isArray(data.detail)) {\n        message = data.detail\n          .map((d) => (d?.msg ? `${d.msg}${d?.loc ? ` at ${d.loc.join('.')}` : ''}` : JSON.stringify(d)))\n          .join(\"; \");\n      } else if (data.message) message = data.message;\n    }\n    const error = new Error(message);\n    error.status = res.status;\n    error.data = data;\n    throw error;\n  }\n\n  return data;\n}\n\nclass SupplierAnalyticsService {\n  constructor() {\n    this.cache = new Map();\n    this.cacheTimestamps = new Map();\n    this.CACHE_DURATION = 10 * 60 * 1000; // 10 minutes for analytics\n  }\n\n  // Get current auth token\n  getToken() {\n    const userTokens = tokens.get();\n    return userTokens?.access_token;\n  }\n\n  // Check if cache is valid\n  isCacheValid(key) {\n    const timestamp = this.cacheTimestamps.get(key);\n    return timestamp && (Date.now() - timestamp) < this.CACHE_DURATION;\n  }\n\n  // Set cache with timestamp\n  setCache(key, data) {\n    this.cache.set(key, data);\n    this.cacheTimestamps.set(key, Date.now());\n  }\n\n  // Get cache if valid\n  getCache(key) {\n    if (this.isCacheValid(key)) {\n      return this.cache.get(key);\n    }\n    return null;\n  }\n\n  // Get supplier analytics overview\n  async getAnalyticsOverview(days = 30) {\n    try {\n      const cacheKey = `analytics_overview_${days}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await request(`/supplier/products/analytics/overview?days=${days}`, { token });\n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get analytics overview:', error);\n      throw error;\n    }\n  }\n\n  // Get low stock products\n  async getLowStockProducts() {\n    try {\n      const cacheKey = 'low_stock_products';\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await request('/supplier/products/inventory/low-stock', { token });\n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get low stock products:', error);\n      throw error;\n    }\n  }\n\n  // Get product analytics for specific product\n  async getProductAnalytics(productId, days = 30) {\n    try {\n      const cacheKey = `product_analytics_${productId}_${days}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await request(`/supplier/products/analytics/products/${productId}?days=${days}`, { token });\n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get product analytics:', error);\n      throw error;\n    }\n  }\n\n  // Get order analytics\n  async getOrderAnalytics(days = 30) {\n    try {\n      const cacheKey = `order_analytics_${days}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await request(`/supplier/orders/analytics/orders?days=${days}`, { token });\n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get order analytics:', error);\n      throw error;\n    }\n  }\n\n  // Get shipment analytics\n  async getShipmentAnalytics(days = 30) {\n    try {\n      const cacheKey = `shipment_analytics_${days}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await request(`/supplier/orders/analytics/shipments?days=${days}`, { token });\n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get shipment analytics:', error);\n      throw error;\n    }\n  }\n\n  // Get inventory data for all products with stock levels\n  async getInventoryOverview(params = {}) {\n    try {\n      const cacheKey = `inventory_overview_${JSON.stringify(params)}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      // Get products with their inventory data\n      const queryParams = new URLSearchParams();\n      if (params.page) queryParams.append('page', params.page);\n      if (params.page_size) queryParams.append('limit', params.page_size); // Backend expects 'limit' not 'page_size'\n      if (params.search) queryParams.append('search', params.search);\n      if (params.status) queryParams.append('status', params.status);\n\n      const path = `/supplier/products${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      console.log('Fetching inventory from:', path);\n      const result = await request(path, { token });\n      console.log('Inventory fetch result:', result);\n      \n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get inventory overview:', error);\n      throw error;\n    }\n  }\n\n  // Get individual product inventory\n  async getProductInventory(productId) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await request(`/supplier/products/${productId}/inventory`, { token });\n      return result;\n    } catch (error) {\n      console.error(`Failed to get inventory for product ${productId}:`, error);\n      throw error;\n    }\n  }\n\n  // Update product inventory\n  async updateProductInventory(productId, inventoryData) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await request(`/supplier/products/${productId}/inventory`, {\n        method: 'PUT',\n        body: inventoryData,\n        token\n      });\n\n      // Invalidate inventory caches\n      this.cache.delete('inventory_overview');\n      this.cache.delete('low_stock_products');\n      this.cacheTimestamps.delete('inventory_overview');\n      this.cacheTimestamps.delete('low_stock_products');\n\n      return result;\n    } catch (error) {\n      console.error('Failed to update product inventory:', error);\n      throw error;\n    }\n  }\n\n  // Clear all caches\n  clearCache() {\n    this.cache.clear();\n    this.cacheTimestamps.clear();\n  }\n}\n\n// Create a singleton instance\nconst supplierAnalyticsService = new SupplierAnalyticsService();\nexport default supplierAnalyticsService;\n","path":null,"size_bytes":7614,"size_tokens":null},"src/app/reset-password/page.jsx":{"content":"import ResetPasswordForm from \"../../components/forms/ResetPasswordForm\";\n\nexport const metadata = { title: \"Reset Password - Aveoearth\" };\n\nexport default function ResetPasswordPage() {\n  return <ResetPasswordForm />;\n}\n","path":null,"size_bytes":221,"size_tokens":null},"src/components/admin/TabSelector.jsx":{"content":"\"use client\";\n\nexport default function TabSelector({ options, selected, onSelect, className = \"\" }) {\n  return (\n    <div className={`bg-gray-100 rounded-full p-1 inline-flex ${className}`}>\n      {options.map((option) => (\n        <button\n          key={option.value}\n          onClick={() => onSelect(option.value)}\n          className={`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${\n            selected === option.value\n              ? \"bg-white text-gray-900 shadow-sm\"\n              : \"text-gray-600 hover:text-gray-900\"\n          }`}\n        >\n          {option.label}\n        </button>\n      ))}\n    </div>\n  );\n}\n","path":null,"size_bytes":642,"size_tokens":null},"src/components/ai/ChatModal.jsx":{"content":"\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { chatService } from \"../../services/chatService\";\n\n// Utility function to generate UUID (fallback for browsers that don't support crypto.randomUUID)\nconst generateUUID = () => {\n  if (typeof crypto !== 'undefined' && crypto.randomUUID) {\n    return crypto.randomUUID();\n  }\n  // Fallback UUID generation for older browsers\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n    const r = Math.random() * 16 | 0;\n    const v = c === 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n};\n\n// Simple SVG Icons\nconst XIcon = () => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nconst SendIcon = () => (\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <line x1=\"22\" y1=\"2\" x2=\"11\" y2=\"13\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <polygon points=\"22,2 15,22 11,13 2,9 22,2\" fill=\"currentColor\"/>\n  </svg>\n);\n\nconst BotIcon = () => (\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"3\" y=\"11\" width=\"18\" height=\"10\" rx=\"2\" ry=\"2\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\"/>\n    <circle cx=\"12\" cy=\"5\" r=\"2\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\"/>\n    <path d=\"M12 7v4\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n    <line x1=\"8\" y1=\"16\" x2=\"8\" y2=\"16\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n    <line x1=\"16\" y1=\"16\" x2=\"16\" y2=\"16\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n  </svg>\n);\n\nconst ChatModal = ({ isOpen, onClose, buttonRef }) => {\n  const [messages, setMessages] = useState([\n    {\n      id: 1,\n      role: \"assistant\",\n      content: \"Hello! I'm your AveoEarth AI assistant. I can help you search for products, manage your cart, track orders, and much more. How can I assist you today?\",\n      timestamp: new Date()\n    }\n  ]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [sessionId, setSessionId] = useState(null);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n  const modalRef = useRef(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (modalRef.current && !modalRef.current.contains(event.target) && \n          buttonRef?.current && !buttonRef.current.contains(event.target)) {\n        onClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside);\n      };\n    }\n  }, [isOpen, onClose, buttonRef]);\n\n  // Auto-scroll to bottom when new messages arrive\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Focus input when modal opens\n  useEffect(() => {\n    if (isOpen && inputRef.current) {\n      setTimeout(() => {\n        inputRef.current.focus();\n      }, 100);\n    }\n  }, [isOpen]);\n\n  // Generate session ID on first load\n  useEffect(() => {\n    if (!sessionId) {\n      setSessionId(generateUUID());\n    }\n  }, []);\n\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim() || isLoading) return;\n\n    const userMessage = {\n      id: Date.now(),\n      role: \"user\",\n      content: inputMessage.trim(),\n      timestamp: new Date()\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setInputMessage(\"\");\n    setIsLoading(true);\n\n    try {\n      // Get user token if available\n      const userToken = localStorage.getItem('accessToken');\n      \n      const response = await chatService.sendMessage({\n        message: userMessage.content,\n        user_token: userToken,\n        session_id: sessionId\n      });\n\n      const aiMessage = {\n        id: Date.now() + 1,\n        role: \"assistant\",\n        content: response.response,\n        timestamp: new Date(),\n        function_calls: response.function_calls\n      };\n\n      setMessages(prev => [...prev, aiMessage]);\n      \n      // Update session ID if provided\n      if (response.session_id) {\n        setSessionId(response.session_id);\n      }\n    } catch (error) {\n      console.error('Chat error:', error);\n      const errorMessage = {\n        id: Date.now() + 1,\n        role: \"assistant\",\n        content: \"I'm sorry, I'm having trouble connecting right now. Please try again in a moment.\",\n        timestamp: new Date(),\n        isError: true\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const formatTime = (timestamp) => {\n    return new Date(timestamp).toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div \n      ref={modalRef}\n      className=\"absolute top-full right-0 mt-2 bg-white rounded-lg shadow-2xl border border-gray-200 w-80 h-96 flex flex-col z-50\"\n      style={{ minWidth: '320px', maxWidth: '400px' }}\n    >\n      {/* Header */}\n      <div className=\"flex items-center justify-between p-3 border-b border-gray-200 bg-gray-50 rounded-t-lg\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-6 h-6 bg-[#76c7c0] rounded-full flex items-center justify-center\">\n            <BotIcon />\n          </div>\n          <div>\n            <h3 className=\"text-sm font-semibold text-gray-900\">AI Assistant</h3>\n            <p className=\"text-xs text-gray-500\">Online</p>\n          </div>\n        </div>\n        <button\n          onClick={onClose}\n          className=\"p-1 hover:bg-gray-200 rounded-full transition-colors\"\n        >\n          <XIcon />\n        </button>\n      </div>\n\n      {/* Messages */}\n      <div className=\"flex-1 overflow-y-auto p-3 space-y-3 bg-gray-50\">\n        {messages.map((message) => (\n          <div\n            key={message.id}\n            className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}\n          >\n            <div className={`max-w-[85%] ${message.role === 'user' ? 'order-2' : 'order-1'}`}>\n              {message.role === 'assistant' && (\n                <div className=\"flex items-center gap-1 mb-1\">\n                  <div className=\"w-4 h-4 bg-[#76c7c0] rounded-full flex items-center justify-center\">\n                    <BotIcon />\n                  </div>\n                  <span className=\"text-xs text-gray-500\">AI</span>\n                </div>\n              )}\n              <div\n                className={`rounded-lg px-3 py-2 ${\n                  message.role === 'user'\n                    ? 'bg-[#76c7c0] text-white'\n                    : message.isError\n                    ? 'bg-red-100 text-red-800 border border-red-200'\n                    : 'bg-white text-gray-900 border border-gray-200'\n                }`}\n              >\n                <p className=\"text-xs whitespace-pre-wrap\">{message.content}</p>\n                {message.function_calls && message.function_calls.length > 0 && (\n                  <div className=\"mt-1 pt-1 border-t border-gray-200\">\n                    <p className=\"text-xs text-gray-600\">\n                      Executed {message.function_calls.length} action(s)\n                    </p>\n                  </div>\n                )}\n              </div>\n              <div className={`text-xs text-gray-400 mt-1 ${message.role === 'user' ? 'text-right' : 'text-left'}`}>\n                {formatTime(message.timestamp)}\n              </div>\n            </div>\n          </div>\n        ))}\n        \n        {isLoading && (\n          <div className=\"flex justify-start\">\n            <div className=\"max-w-[85%]\">\n              <div className=\"flex items-center gap-1 mb-1\">\n                <div className=\"w-4 h-4 bg-[#76c7c0] rounded-full flex items-center justify-center\">\n                  <BotIcon />\n                </div>\n                <span className=\"text-xs text-gray-500\">AI</span>\n              </div>\n              <div className=\"bg-white border border-gray-200 rounded-lg px-3 py-2\">\n                <div className=\"flex items-center gap-1\">\n                  <div className=\"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce\"></div>\n                  <div className=\"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\n                  <div className=\"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Input */}\n      <div className=\"border-t border-gray-200 p-3 bg-white rounded-b-lg\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"flex-1 relative\">\n            <textarea\n              ref={inputRef}\n              value={inputMessage}\n              onChange={(e) => setInputMessage(e.target.value)}\n              onKeyPress={handleKeyPress}\n              placeholder=\"Type a message...\"\n              className=\"w-full px-3 py-2 text-xs border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-1 focus:ring-[#76c7c0] focus:border-transparent\"\n              rows=\"1\"\n              style={{ maxHeight: '60px' }}\n              disabled={isLoading}\n            />\n          </div>\n          <button\n            onClick={handleSendMessage}\n            disabled={!inputMessage.trim() || isLoading}\n            className={`p-2 rounded-lg transition-colors ${\n              inputMessage.trim() && !isLoading\n                ? 'bg-[#76c7c0] hover:bg-[#6bb5ae] text-white'\n                : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n            }`}\n          >\n            <SendIcon />\n          </button>\n        </div>\n        <p className=\"text-xs text-gray-500 mt-1\">\n          Ask about products, orders, or account help!\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatModal;\n","path":null,"size_bytes":10549,"size_tokens":null},"src/components/ui/HotDealsCard.jsx":{"content":"export default function HotDealsCard({ \n  title, \n  price, \n  originalPrice, \n  rating, \n  reviews, \n  tags = [], \n  discount, \n  imageUrl,\n  category,\n}) {\n  const calculateSavings = () => {\n    if (originalPrice && price) {\n      return originalPrice - price;\n    }\n    return 0;\n  };\n\n  return (\n    <div className=\"group relative bg-white rounded-2xl overflow-hidden cursor-pointer shadow-lg hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 hover:scale-[1.02] border border-white/20 backdrop-blur-sm flex flex-col h-full min-h-[420px]\">\n      \n      {/* Image */}\n      <div className=\"relative w-full h-48 sm:h-52 overflow-hidden rounded-t-2xl\">\n        <img \n          src={imageUrl} \n          alt={title}\n          className=\"w-full h-full object-cover transition-all duration-700 group-hover:scale-110\"\n        />\n\n        {/* Gradient overlay */}\n        <div className=\"absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500\"></div>\n\n        {/* Discount + Tags */}\n        <div className=\"absolute top-3 left-3 flex flex-col gap-2\">\n          {discount && (\n            <div className=\"bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold animate-pulse shadow-lg\">\n              {discount}\n            </div>\n          )}\n          <div className=\"flex flex-wrap gap-1 min-h-[24px]\">\n            {tags.slice(0, 1).map((tag, tagIndex) => (\n              <span \n                key={tagIndex}\n                className=\"bg-eco-gradient/90 text-white px-2 py-1 rounded-full text-xs font-medium backdrop-blur-sm shadow-sm\"\n              >\n                {tag}\n              </span>\n            ))}\n          </div>\n        </div>\n\n        {/* Wishlist button */}\n        <div className=\"absolute top-3 right-3\">\n          <button className=\"w-8 h-8 bg-white/80 backdrop-blur-sm rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-300 hover:bg-white hover:scale-110 shadow-lg\">\n            <svg className=\"w-4 h-4 text-red-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\" />\n            </svg>\n          </button>\n        </div>\n\n        {/* Category */}\n        {category && (\n          <div className=\"absolute bottom-3 left-3\">\n            <span className=\"bg-white/90 backdrop-blur-sm text-[#1a4032] px-2 py-1 rounded-full text-xs font-medium shadow-sm\">\n              {category}\n            </span>\n          </div>\n        )}\n      </div>\n\n      {/* Details */}\n      <div className=\"relative p-4 space-y-3 flex flex-col flex-grow\">\n        {/* Title */}\n        <h3 className=\"font-reem font-semibold text-[#1a4032] text-sm sm:text-base leading-tight line-clamp-2 group-hover:text-[#2d5a45] transition-colors min-h-[3.5rem]\">\n          {title}\n        </h3>\n\n        {/* Rating */}\n        <div className=\"flex items-center gap-2\">\n          <div className=\"flex items-center gap-1\">\n            <div className=\"flex text-yellow-400 text-sm\">\n              {[...Array(5)].map((_, i) => (\n                <span key={i} className={i < Math.floor(rating) ? \"text-yellow-400\" : \"text-gray-300\"}>\n                  ★\n                </span>\n              ))}\n            </div>\n            <span className=\"text-xs text-gray-600 font-medium\">{rating}</span>\n          </div>\n          <span className=\"text-xs text-gray-500\">({reviews} reviews)</span>\n        </div>\n\n        {/* Price */}\n        <div className=\"flex items-center justify-between mt-auto\">\n          <div className=\"space-y-1\">\n            <div className=\"flex items-center gap-2\">\n              <span className=\"font-bold text-[#1a4032] text-lg\">₹{price}</span>\n              {originalPrice && (\n                <span className=\"text-gray-400 text-sm line-through\">₹{originalPrice}</span>\n              )}\n            </div>\n            {originalPrice && (\n              <div className=\"text-xs text-green-600 font-medium\">Save ₹{calculateSavings()}</div>\n            )}\n          </div>\n\n          {/* Add to cart */}\n          <button className=\"group/btn relative bg-eco-gradient hover:shadow-lg text-white px-4 py-2 rounded-xl font-medium text-sm transition-all duration-300 hover:scale-105 overflow-hidden\">\n            <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover/btn:translate-x-full transition-transform duration-1000\"></div>\n            <div className=\"relative flex items-center gap-2\">\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.293 2.293c-.39.39-.39 1.024 0 1.414L6.414 17M7 13v4a2 2 0 002 2h9m-9-2h9m-9-2v2m9-2v2\" />\n              </svg>\n              <span className=\"hidden sm:inline\">Add</span>\n            </div>\n          </button>\n        </div>\n\n        {/* Bottom info */}\n        <div className=\"flex items-center justify-between pt-2 border-t border-gray-100 text-xs\">\n          <div className=\"flex items-center gap-2 text-gray-500\">\n            <svg className=\"w-3 h-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1\" />\n            </svg>\n            <span>Free shipping</span>\n          </div>\n          <div className=\"flex items-center gap-1 text-green-600\">\n            <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n            <span>In stock</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Hover ring */}\n      <div className=\"absolute inset-0 rounded-2xl ring-2 ring-transparent group-hover:ring-eco-gradient/30 transition-all duration-500 pointer-events-none\"></div>\n    </div>\n  );\n}\n","path":null,"size_bytes":6226,"size_tokens":null},"src/components/admin/screens/ProductsScreen.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { \n  MagnifyingGlassIcon,\n  EyeIcon,\n  CheckIcon,\n  XMarkIcon,\n  PencilIcon,\n  TrashIcon,\n  PowerIcon\n} from \"@heroicons/react/24/outline\";\nimport adminService from \"@/services/adminService\";\n\nexport default function ProductsScreen() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"all\");\n  const [categoryFilter, setCategoryFilter] = useState(\"all\");\n  \n  // Data state\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 20,\n    total: 0,\n    total_pages: 0\n  });\n\n  // Modal state\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [showReviewModal, setShowReviewModal] = useState(false);\n  const [reviewAction, setReviewAction] = useState(null); // 'approve' or 'reject'\n  const [reviewComment, setReviewComment] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  useEffect(() => {\n    fetchProducts();\n  }, [pagination.page, statusFilter, categoryFilter]);\n\n  const fetchProducts = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      let result;\n      if (statusFilter === 'pending') {\n        result = await adminService.getPendingProducts({\n          page: pagination.page,\n          limit: pagination.limit\n        });\n      } else {\n        result = await adminService.getAllProducts({\n          page: pagination.page,\n          limit: pagination.limit,\n          status: statusFilter === 'all' ? undefined : statusFilter,\n          category: categoryFilter === 'all' ? undefined : categoryFilter\n        });\n      }\n      \n      setProducts(result.items || []);\n      setPagination(prev => ({\n        ...prev,\n        total: result.total || 0,\n        total_pages: result.total_pages || 0\n      }));\n      \n    } catch (error) {\n      console.error('Failed to fetch products:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const openReviewModal = (product, action) => {\n    setSelectedProduct(product);\n    setReviewAction(action);\n    setReviewComment(\"\");\n    setShowReviewModal(true);\n  };\n\n  const closeReviewModal = () => {\n    setSelectedProduct(null);\n    setReviewAction(null);\n    setReviewComment(\"\");\n    setShowReviewModal(false);\n  };\n\n  const handleProductReview = async () => {\n    if (!selectedProduct || !reviewAction) return;\n\n    try {\n      setIsSubmitting(true);\n      \n      const approved = reviewAction === 'approve';\n      const approvalNotes = reviewComment;\n\n      await adminService.reviewProduct(selectedProduct.id, approved, approvalNotes);\n      \n      // Refresh products list\n      await fetchProducts();\n      \n      // Close modal\n      closeReviewModal();\n      \n    } catch (error) {\n      console.error('Failed to review product:', error);\n      alert('Failed to review product: ' + error.message);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleDeleteProduct = async (productId) => {\n    if (!confirm('Are you sure you want to delete this product? This action cannot be undone.')) {\n      return;\n    }\n\n    try {\n      await adminService.deleteProduct(productId);\n      await fetchProducts(); // Refresh the list\n    } catch (error) {\n      console.error('Failed to delete product:', error);\n      alert('Failed to delete product: ' + error.message);\n    }\n  };\n\n  const handleToggleProductStatus = async (productId, currentStatus) => {\n    const newStatus = currentStatus === 'active' ? 'inactive' : 'active';\n    const action = newStatus === 'active' ? 'enable' : 'disable';\n    \n    if (!confirm(`Are you sure you want to ${action} this product?`)) {\n      return;\n    }\n\n    try {\n      await adminService.updateProductStatus(productId, newStatus);\n      await fetchProducts(); // Refresh the list\n    } catch (error) {\n      console.error(`Failed to ${action} product:`, error);\n      alert(`Failed to ${action} product: ` + error.message);\n    }\n  };\n\n  const getStatusBadge = (status) => {\n    const statusConfig = {\n      pending: { color: 'bg-yellow-100 text-yellow-800', text: 'Pending Review' },\n      approved: { color: 'bg-green-100 text-green-800', text: 'Approved' },\n      rejected: { color: 'bg-red-100 text-red-800', text: 'Rejected' },\n      active: { color: 'bg-green-100 text-green-800', text: 'Active' },\n      inactive: { color: 'bg-gray-100 text-gray-800', text: 'Inactive' },\n    };\n    \n    const config = statusConfig[status] || { color: 'bg-gray-100 text-gray-800', text: status };\n    return (\n      <span className={`inline-flex px-2 py-1 text-xs font-medium rounded-full ${config.color}`}>\n        {config.text}\n      </span>\n    );\n  };\n\n  const filteredProducts = products.filter(product => {\n    const matchesSearch = product.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         product.description?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         product.supplier?.business_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         product.supplier?.email?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         (product.supplier?.first_name && product.supplier?.last_name \n                           ? `${product.supplier.first_name} ${product.supplier.last_name}`.toLowerCase().includes(searchTerm.toLowerCase())\n                           : false);\n    return matchesSearch;\n  });\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <h1 className=\"text-2xl font-semibold text-black\">Products Management</h1>\n        <div className=\"animate-pulse\">\n          <div className=\"bg-gray-200 h-12 rounded-lg mb-4\"></div>\n          <div className=\"space-y-4\">\n            {[1, 2, 3, 4, 5].map(i => (\n              <div key={i} className=\"bg-gray-200 h-16 rounded-lg\"></div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"space-y-6\">\n        <h1 className=\"text-2xl font-semibold text-black\">Products Management</h1>\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <p className=\"text-red-600\">Failed to load products: {error}</p>\n          <button \n            onClick={fetchProducts}\n            className=\"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Page Header */}\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-2xl font-semibold text-black\">Products Management</h1>\n        <button \n          onClick={fetchProducts}\n          className=\"bg-[#1a4032] hover:bg-[#0f2319] text-white px-4 py-2 rounded-lg transition-colors\"\n        >\n          Refresh\n        </button>\n      </div>\n\n      {/* Filters and Search */}\n      <div className=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n        <div className=\"flex flex-col lg:flex-row gap-4\">\n          <div className=\"flex-1\">\n            <div className=\"relative\">\n              <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search products by name, description, or supplier...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4032] focus:border-transparent\"\n              />\n            </div>\n          </div>\n          \n          <div className=\"flex gap-3\">\n            <select\n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n              className=\"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4032] focus:border-transparent\"\n            >\n              <option value=\"all\">All Status</option>\n              <option value=\"pending\">Pending Review</option>\n              <option value=\"approved\">Approved</option>\n              <option value=\"rejected\">Rejected</option>\n              <option value=\"active\">Active</option>\n              <option value=\"inactive\">Inactive</option>\n            </select>\n            \n            <select\n              value={categoryFilter}\n              onChange={(e) => setCategoryFilter(e.target.value)}\n              className=\"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4032] focus:border-transparent\"\n            >\n              <option value=\"all\">All Categories</option>\n              <option value=\"home-kitchen\">Home & Kitchen</option>\n              <option value=\"personal-care\">Personal Care</option>\n              <option value=\"clothing\">Clothing</option>\n              <option value=\"food-beverages\">Food & Beverages</option>\n              <option value=\"health-wellness\">Health & Wellness</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Products Table */}\n      <div className=\"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Product\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Supplier\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Price\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Stock\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Status\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {filteredProducts.length === 0 ? (\n                <tr>\n                  <td colSpan={6} className=\"px-6 py-12 text-center text-gray-500\">\n                    No products found\n                  </td>\n                </tr>\n              ) : (\n                filteredProducts.map((product) => (\n                  <tr key={product.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"flex items-center\">\n                        <div className=\"flex-shrink-0 h-12 w-12\">\n                          {product.images && product.images.length > 0 ? (\n                            <img \n                              className=\"h-12 w-12 rounded-lg object-cover\" \n                              src={product.images[0].url} \n                              alt={product.name} \n                            />\n                          ) : (\n                            <div className=\"h-12 w-12 bg-gray-200 rounded-lg flex items-center justify-center\">\n                              <span className=\"text-gray-400 text-xs\">No Image</span>\n                            </div>\n                          )}\n                        </div>\n                        <div className=\"ml-4\">\n                          <div className=\"text-sm font-medium text-gray-900 max-w-xs truncate\">\n                            {product.name}\n                          </div>\n                          <div className=\"text-sm text-gray-500 max-w-xs truncate\">\n                            {product.category?.name || 'Uncategorized'}\n                          </div>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">\n                        {product.supplier?.business_name || \n                         (product.supplier?.first_name && product.supplier?.last_name \n                           ? `${product.supplier.first_name} ${product.supplier.last_name}`.trim()\n                           : product.supplier?.email || 'Unknown Supplier')}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        ID: {product.supplier_id || 'N/A'}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm font-medium text-gray-900\">\n                        ₹{(product.price || 0).toLocaleString()}\n                      </div>\n                      {product.original_price && product.original_price > product.price && (\n                        <div className=\"text-sm text-gray-500 line-through\">\n                          ₹{product.original_price.toLocaleString()}\n                        </div>\n                      )}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">\n                        {product.available_quantity || 0} units\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        SKU: {product.sku || 'N/A'}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {getStatusBadge(product.status)}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <div className=\"flex items-center space-x-2\">\n                        <button\n                          onClick={() => openReviewModal(product, 'view')}\n                          className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\n                          title=\"View Product Details\"\n                        >\n                          <EyeIcon className=\"h-4 w-4\" />\n                        </button>\n                        {product.status === 'pending' && (\n                          <>\n                            <button\n                              onClick={() => openReviewModal(product, 'approve')}\n                              className=\"text-green-600 hover:text-green-900 p-1 rounded\"\n                              title=\"Approve Product\"\n                            >\n                              <CheckIcon className=\"h-4 w-4\" />\n                            </button>\n                            <button\n                              onClick={() => openReviewModal(product, 'reject')}\n                              className=\"text-red-600 hover:text-red-900 p-1 rounded\"\n                              title=\"Reject Product\"\n                            >\n                              <XMarkIcon className=\"h-4 w-4\" />\n                            </button>\n                          </>\n                        )}\n                        {/* Enable/Disable Button - only for approved/active/inactive products */}\n                        {(product.status === 'approved' || product.status === 'active' || product.status === 'inactive') && (\n                          <button\n                            onClick={() => handleToggleProductStatus(product.id, product.status)}\n                            className={`p-1 rounded ${\n                              product.status === 'active' \n                                ? 'text-orange-600 hover:text-orange-900' \n                                : 'text-green-600 hover:text-green-900'\n                            }`}\n                            title={product.status === 'active' ? 'Disable Product' : 'Enable Product'}\n                          >\n                            <PowerIcon className=\"h-4 w-4\" />\n                          </button>\n                        )}\n                        <button\n                          onClick={() => handleDeleteProduct(product.id)}\n                          className=\"text-red-600 hover:text-red-900 p-1 rounded\"\n                          title=\"Delete Product\"\n                        >\n                          <TrashIcon className=\"h-4 w-4\" />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n\n        {/* Pagination */}\n        {pagination.total_pages > 1 && (\n          <div className=\"px-6 py-4 border-t border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"text-sm text-gray-700\">\n                Showing {((pagination.page - 1) * pagination.limit) + 1} to{' '}\n                {Math.min(pagination.page * pagination.limit, pagination.total)} of{' '}\n                {pagination.total} results\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={() => setPagination(prev => ({ ...prev, page: prev.page - 1 }))}\n                  disabled={pagination.page === 1}\n                  className=\"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\n                >\n                  Previous\n                </button>\n                <span className=\"px-3 py-1 text-sm\">\n                  Page {pagination.page} of {pagination.total_pages}\n                </span>\n                <button\n                  onClick={() => setPagination(prev => ({ ...prev, page: prev.page + 1 }))}\n                  disabled={pagination.page === pagination.total_pages}\n                  className=\"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\n                >\n                  Next\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Product Review Modal */}\n      {showReviewModal && selectedProduct && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n              {reviewAction === 'view' ? 'Product Details' : \n               reviewAction === 'approve' ? 'Approve Product' : 'Reject Product'}\n            </h3>\n            \n            {/* Product Info */}\n            <div className=\"mb-6\">\n              <div className=\"flex items-start space-x-4\">\n                <div className=\"flex-shrink-0\">\n                  {selectedProduct.images && selectedProduct.images.length > 0 ? (\n                    <img \n                      className=\"h-24 w-24 rounded-lg object-cover\" \n                      src={selectedProduct.images[0].url} \n                      alt={selectedProduct.name} \n                    />\n                  ) : (\n                    <div className=\"h-24 w-24 bg-gray-200 rounded-lg flex items-center justify-center\">\n                      <span className=\"text-gray-400 text-sm\">No Image</span>\n                    </div>\n                  )}\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <h4 className=\"text-lg font-medium text-gray-900 mb-2\">\n                    {selectedProduct.name}\n                  </h4>\n                  <p className=\"text-sm text-gray-600 mb-3\">\n                    {selectedProduct.description || 'No description available'}\n                  </p>\n                  <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                    <div>\n                      <span className=\"font-medium text-gray-700\">Price:</span>\n                      <span className=\"ml-2\">₹{(selectedProduct.price || 0).toLocaleString()}</span>\n                    </div>\n                    <div>\n                      <span className=\"font-medium text-gray-700\">Stock:</span>\n                      <span className=\"ml-2\">{selectedProduct.available_quantity || 0} units</span>\n                    </div>\n                    <div>\n                      <span className=\"font-medium text-gray-700\">Category:</span>\n                      <span className=\"ml-2\">{selectedProduct.category?.name || 'Uncategorized'}</span>\n                    </div>\n                    <div>\n                      <span className=\"font-medium text-gray-700\">SKU:</span>\n                      <span className=\"ml-2\">{selectedProduct.sku || 'N/A'}</span>\n                    </div>\n                    <div>\n                      <span className=\"font-medium text-gray-700\">Supplier:</span>\n                      <span className=\"ml-2\">{selectedProduct.supplier?.business_name || \n                                             (selectedProduct.supplier?.first_name && selectedProduct.supplier?.last_name \n                                               ? `${selectedProduct.supplier.first_name} ${selectedProduct.supplier.last_name}`.trim()\n                                               : selectedProduct.supplier?.email || 'Unknown')}</span>\n                    </div>\n                    <div>\n                      <span className=\"font-medium text-gray-700\">Status:</span>\n                      <span className=\"ml-2\">{getStatusBadge(selectedProduct.status)}</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Review Comment Section */}\n            {reviewAction !== 'view' && (\n              <div className=\"mb-6\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  {reviewAction === 'approve' ? 'Approval Comment (Optional)' : 'Rejection Reason'}\n                </label>\n                <textarea\n                  value={reviewComment}\n                  onChange={(e) => setReviewComment(e.target.value)}\n                  placeholder={reviewAction === 'approve' ? \n                    'Add any approval notes...' : \n                    'Please provide a reason for rejection...'}\n                  rows={3}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4032] focus:border-transparent\"\n                  required={reviewAction === 'reject'}\n                />\n              </div>\n            )}\n\n            {/* Modal Actions */}\n            <div className=\"flex justify-end space-x-3\">\n              <button\n                onClick={closeReviewModal}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\"\n              >\n                {reviewAction === 'view' ? 'Close' : 'Cancel'}\n              </button>\n              {reviewAction !== 'view' && (\n                <button\n                  onClick={handleProductReview}\n                  disabled={isSubmitting || (reviewAction === 'reject' && !reviewComment.trim())}\n                  className={`px-4 py-2 rounded-lg text-white transition-colors ${\n                    reviewAction === 'approve' \n                      ? 'bg-green-600 hover:bg-green-700 disabled:bg-green-400' \n                      : 'bg-red-600 hover:bg-red-700 disabled:bg-red-400'\n                  }`}\n                >\n                  {isSubmitting ? 'Processing...' : \n                   reviewAction === 'approve' ? 'Approve Product' : 'Reject Product'}\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":24232,"size_tokens":null},"src/lib/api.js":{"content":"// Modular API client for FastAPI backend\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:8000\";\nconst VERIFICATION_API_BASE = process.env.NEXT_PUBLIC_VERIFICATION_API_BASE || \"http://localhost:8001\";\n\n// Generic request handler for JSON requests\nasync function request(path, { method = \"GET\", body, token } = {}) {\n  const headers = { \"Content-Type\": \"application/json\" };\n  // Only add Authorization header if token is provided and not null/undefined\n  if (token) {\n    headers[\"Authorization\"] = `Bearer ${token}`;\n  }\n\n  const res = await fetch(`${API_BASE}${path}`, {\n    method,\n    headers,\n    body: body ? JSON.stringify(body) : undefined,\n  });\n\n  let data = null;\n  try {\n    data = await res.json();\n  } catch {\n    // non-JSON response\n  }\n\n  if (!res.ok) {\n    let message = `Request failed (${res.status})`;\n    if (data) {\n      if (typeof data.detail === \"string\") message = data.detail;\n      else if (Array.isArray(data.detail)) {\n        // FastAPI/Pydantic validation errors\n        message = data.detail\n          .map((d) => (d?.msg ? `${d.msg}${d?.loc ? ` at ${d.loc.join('.')}` : ''}` : JSON.stringify(d)))\n          .join(\"; \");\n      } else if (data.message) message = data.message;\n    }\n    const error = new Error(message);\n    error.status = res.status;\n    error.data = data;\n    throw error;\n  }\n\n  return data;\n}\n\n// File upload handler for multipart/form-data requests\nasync function uploadRequest(path, { method = \"POST\", formData, token } = {}) {\n  const headers = {};\n  if (token) headers[\"Authorization\"] = `Bearer ${token}`;\n  // Don't set Content-Type header for FormData - browser will set it with boundary\n\n  const res = await fetch(`${API_BASE}${path}`, {\n    method,\n    headers,\n    body: formData,\n  });\n\n  let data = null;\n  try {\n    data = await res.json();\n  } catch {\n    // non-JSON response\n  }\n\n  if (!res.ok) {\n    let message = `Request failed (${res.status})`;\n    if (data) {\n      if (typeof data.detail === \"string\") message = data.detail;\n      else if (Array.isArray(data.detail)) {\n        message = data.detail\n          .map((d) => (d?.msg ? `${d.msg}${d?.loc ? ` at ${d.loc.join('.')}` : ''}` : JSON.stringify(d)))\n          .join(\"; \");\n      } else if (data.message) message = data.message;\n    }\n    const error = new Error(message);\n    error.status = res.status;\n    error.data = data;\n    throw error;\n  }\n\n  return data;\n}\n\n// File upload handler for verification service (port 8001)\nasync function verificationUploadRequest(path, { method = \"POST\", formData, token } = {}) {\n  const headers = {};\n  if (token) headers[\"Authorization\"] = `Bearer ${token}`;\n  // Don't set Content-Type header for FormData - browser will set it with boundary\n\n  const res = await fetch(`${VERIFICATION_API_BASE}${path}`, {\n    method,\n    headers,\n    body: formData,\n  });\n\n  let data = null;\n  try {\n    data = await res.json();\n  } catch {\n    // non-JSON response\n  }\n\n  if (!res.ok) {\n    let message = `Request failed (${res.status})`;\n    if (data) {\n      if (typeof data.detail === \"string\") message = data.detail;\n      else if (Array.isArray(data.detail)) {\n        message = data.detail\n          .map((d) => (d?.msg ? `${d.msg}${d?.loc ? ` at ${d.loc.join('.')}` : ''}` : JSON.stringify(d)))\n          .join(\"; \");\n      } else if (data.message) message = data.message;\n    }\n    const error = new Error(message);\n    error.status = res.status;\n    error.data = data;\n    throw error;\n  }\n\n  return data;\n}\n\nexport const auth = {\n  signup: (payload) => request(\"/auth/signup\", { method: \"POST\", body: payload }),\n  login: (email, password) => request(\"/auth/login\", { method: \"POST\", body: { email, password } }),\n  loginPhone: (phone, password) => request(\"/auth/login-phone\", { method: \"POST\", body: { phone, password } }),\n  sendOtp: (phone) => request(\"/auth/send-otp\", { method: \"POST\", body: { phone } }),\n  verifyOtp: (phone, otp_code) => request(\"/auth/verify-otp\", { method: \"POST\", body: { phone, otp_code } }),\n  forgotPassword: (email) => request(\"/auth/forgot-password\", { method: \"POST\", body: { email } }),\n  resetPassword: (new_password, token) => request(\"/auth/reset-password\", { method: \"POST\", body: { new_password }, token }),\n  getProfile: (token) => {\n    // Use provided token or get from storage\n    const authToken = token || tokens.get()?.access_token;\n    if (!authToken) {\n      throw new Error(\"No authentication token available\");\n    }\n    return request(\"/auth/me\", { method: \"GET\", token: authToken });\n  },\n  refreshToken: (token) => request(\"/auth/refresh-token\", { method: \"POST\", token }),\n  \n  // Profile Management\n  updateProfile: (data, token) => request(\"/auth/me\", { method: \"PUT\", body: data, token }),\n  updateCompleteProfile: (data, token) => request(\"/auth/complete\", { method: \"PUT\", body: data, token }),\n  \n  // Address Management\n  getAddresses: (token) => request(\"/addresses\", { method: \"GET\", token }),\n  createAddress: (data, token) => request(\"/addresses\", { method: \"POST\", body: data, token }),\n  updateAddress: (addressId, data, token) => request(`/addresses/${addressId}`, { method: \"PUT\", body: data, token }),\n  deleteAddress: (addressId, token) => request(`/addresses/${addressId}`, { method: \"DELETE\", token }),\n  setDefaultAddress: (addressId, token) => request(`/addresses/${addressId}/set-default`, { method: \"PATCH\", token }),\n  getDefaultAddress: (addressType, token) => request(`/addresses/default/${addressType}`, { method: \"GET\", token }),\n};\n\n// Supplier Onboarding API\nexport const supplierOnboarding = {\n  getStatus: (token) => request(\"/supplier/onboarding/status\", { method: \"GET\", token }),\n  \n  // Business Profile\n  createBusiness: (data, token) => {\n    const formData = new FormData();\n    Object.entries(data).forEach(([key, value]) => {\n      if (value !== null && value !== undefined) {\n        formData.append(key, value);\n      }\n    });\n    return uploadRequest(\"/supplier/onboarding/business-profile\", { method: \"POST\", formData, token });\n  },\n  \n  updateBusiness: (data, token) => {\n    const formData = new FormData();\n    Object.entries(data).forEach(([key, value]) => {\n      if (value !== null && value !== undefined) {\n        formData.append(key, value);\n      }\n    });\n    return uploadRequest(\"/supplier/onboarding/business-profile\", { method: \"PUT\", formData, token });\n  },\n  \n  getBusiness: (token) => request(\"/supplier/onboarding/business-profile\", { method: \"GET\", token }),\n  \n  // Safe version of getBusiness that returns null if not found\n  getBusinessSafe: async (token) => {\n    try {\n      return await request(\"/supplier/onboarding/business-profile\", { method: \"GET\", token });\n    } catch (error) {\n      // Return null if business not found (404), but throw other errors\n      if (error.status === 404) {\n        return null;\n      }\n      throw error;\n    }\n  },\n  \n  // Complete Onboarding\n  completeOnboarding: (data, token) => {\n    const formData = new FormData();\n    Object.entries(data).forEach(([key, value]) => {\n      if (value !== null && value !== undefined) {\n        if (value instanceof File) {\n          formData.append(key, value);\n        } else {\n          formData.append(key, value.toString());\n        }\n      }\n    });\n    return uploadRequest(\"/supplier/onboarding/complete\", { method: \"POST\", formData, token });\n  },\n  \n  // File Uploads\n  uploadLogo: (file, token) => {\n    const formData = new FormData();\n    formData.append(\"logo\", file);\n    return uploadRequest(\"/supplier/onboarding/upload-logo\", { method: \"POST\", formData, token });\n  },\n  \n  uploadBanner: (file, token) => {\n    const formData = new FormData();\n    formData.append(\"banner\", file);\n    return uploadRequest(\"/supplier/onboarding/upload-banner\", { method: \"POST\", formData, token });\n  },\n  \n  // Documents\n  getDocuments: (token) => request(\"/supplier/onboarding/documents\", { method: \"GET\", token }),\n  deleteDocument: (documentId, token) => request(`/supplier/onboarding/document/${documentId}`, { method: \"DELETE\", token }),\n  \n  // Sustainability\n  createSustainability: (data, token) => request(\"/supplier/onboarding/sustainability\", { method: \"POST\", body: data, token }),\n  getSustainability: (token) => request(\"/supplier/onboarding/sustainability\", { method: \"GET\", token }),\n  updateSustainability: (data, token) => request(\"/supplier/onboarding/sustainability\", { method: \"PUT\", body: data, token }),\n  \n  // Assets\n  listAssets: (token) => request(\"/supplier/onboarding/assets\", { method: \"GET\", token }),\n  deleteAsset: (fileName, token) => request(`/supplier/onboarding/assets/${fileName}`, { method: \"DELETE\", token }),\n};\n\n// Products API - Supplier\nexport const productsSupplier = {\n  createProduct: (data, token) => {\n    // Convert data to FormData since backend expects multipart/form-data\n    const formData = new FormData();\n    \n    console.log('Creating product with data:', data);\n    \n    // Add all form fields\n    Object.entries(data).forEach(([key, value]) => {\n      if (key === 'images' && Array.isArray(value)) {\n        // Handle images array\n        console.log(`Adding ${value.length} images to FormData`);\n        value.forEach((image, index) => {\n          if (image instanceof File) {\n            console.log(`Adding image ${index + 1}: ${image.name} (${image.type})`);\n            formData.append('images', image);\n          } else {\n            console.warn(`Image ${index + 1} is not a File object:`, image);\n          }\n        });\n      } else if (value !== null && value !== undefined && key !== 'images') {\n        // Handle other fields, convert objects/arrays to JSON strings\n        if (typeof value === 'object') {\n          formData.append(key, JSON.stringify(value));\n        } else {\n          formData.append(key, value.toString());\n        }\n      }\n    });\n    \n    // Debug: Log all FormData entries\n    console.log('FormData entries:');\n    for (let pair of formData.entries()) {\n      console.log(`${pair[0]}:`, pair[1]);\n    }\n    \n    return uploadRequest(\"/supplier/products\", { method: \"POST\", formData, token });\n  },\n  listProducts: (params = {}, token) => {\n    const queryString = new URLSearchParams(params).toString();\n    const endpoint = `/supplier/products${queryString ? `?${queryString}` : ''}`;\n    return request(endpoint, { method: \"GET\", token });\n  },\n  getProduct: (productId, token) => request(`/supplier/products/${productId}`, { method: \"GET\", token }),\n  updateProduct: (productId, data, token) => request(`/supplier/products/${productId}`, { method: \"PUT\", body: data, token }),\n  deleteProduct: (productId, token) => request(`/supplier/products/${productId}`, { method: \"DELETE\", token }),\n  publishProduct: (productId, token) => request(`/supplier/products/${productId}/publish`, { method: \"POST\", token }),\n  \n  // Product Images\n  uploadImages: (productId, files, token) => {\n    const formData = new FormData();\n    files.forEach((file, index) => {\n      formData.append(`images`, file);\n    });\n    return uploadRequest(`/supplier/products/${productId}/images`, { method: \"POST\", formData, token });\n  },\n  \n  // Inventory\n  updateInventory: (productId, data, token) => request(`/supplier/products/${productId}/inventory`, { method: \"PUT\", body: data, token }),\n  \n  // Analytics & Reports\n  getAnalytics: (token) => request(\"/supplier/products/analytics/overview\", { method: \"GET\", token }),\n  getLowStock: (token) => request(\"/supplier/products/inventory/low-stock\", { method: \"GET\", token }),\n  \n  // Categories & Brands\n  getCategories: (token) => request(\"/products/categories/tree\", { method: \"GET\", token }),\n  getBrands: (token) => request(\"/products/brands/active\", { method: \"GET\", token }),\n\n  // Product Variants\n  createVariant: (productId, data, token) => {\n    // Convert data to FormData since backend expects multipart/form-data\n    const formData = new FormData();\n    \n    console.log('Creating variant with data:', data);\n    \n    // Add all form fields\n    Object.entries(data).forEach(([key, value]) => {\n      if (key === 'images' && Array.isArray(value)) {\n        // Handle images array\n        console.log(`Adding ${value.length} images to FormData`);\n        value.forEach((image, index) => {\n          if (image instanceof File) {\n            console.log(`Adding image ${index + 1}: ${image.name} (${image.type})`);\n            formData.append('images', image);\n          }\n        });\n      } else if (value !== null && value !== undefined && key !== 'images') {\n        // Handle other fields, convert objects/arrays to JSON strings\n        if (typeof value === 'object') {\n          formData.append(key, JSON.stringify(value));\n        } else {\n          formData.append(key, value.toString());\n        }\n      }\n    });\n    \n    return uploadRequest(`/supplier/products/${productId}/variants`, { method: \"POST\", formData, token });\n  },\n  getVariants: (productId, token) => request(`/supplier/products/${productId}/variants`, { method: \"GET\", token }),\n  updateVariant: (productId, variantId, data, token) => request(`/supplier/products/${productId}/variants/${variantId}`, { method: \"PUT\", body: data, token }),\n  deleteVariant: (productId, variantId, token) => request(`/supplier/products/${productId}/variants/${variantId}`, { method: \"DELETE\", token }),\n  createVariant: (productId, data, token) => {\n    // Convert data to FormData since backend expects multipart/form-data\n    const formData = new FormData();\n    \n    console.log('Creating product variant with data:', data);\n    \n    // Add all form fields\n    Object.entries(data).forEach(([key, value]) => {\n      if (key === 'images' && Array.isArray(value)) {\n        // Handle images array\n        value.forEach((image) => {\n          if (image instanceof File) {\n            formData.append('images', image);\n          }\n        });\n      } else if (key === 'dimensions' && typeof value === 'object' && value !== null) {\n        formData.append(key, JSON.stringify(value));\n      } else if (value !== null && value !== undefined && key !== 'images') {\n        formData.append(key, value.toString());\n      }\n    });\n    \n    return uploadRequest(`/supplier/products/${productId}/variants`, { method: \"POST\", formData, token });\n  },\n  getVariants: (productId, token) => request(`/supplier/products/${productId}/variants`, { method: \"GET\", token }),\n  updateVariant: (productId, variantId, data, token) => request(`/supplier/products/${productId}/variants/${variantId}`, { method: \"PUT\", body: data, token }),\n  deleteVariant: (productId, variantId, token) => request(`/supplier/products/${productId}/variants/${variantId}`, { method: \"DELETE\", token }),\n  \n  // Product Verification\n  verifyProduct: (data, token) => {\n    const formData = new FormData();\n    formData.append('title', data.title);\n    formData.append('file', data.image); // Changed from 'image' to 'file'\n    return verificationUploadRequest(\"/verify-product\", { method: \"POST\", formData, token });\n  },\n  \n  verifyProductBatch: (data, token) => {\n    const formData = new FormData();\n    data.products.forEach((product, index) => {\n      formData.append('titles', product.title);\n      formData.append('files', product.image); // Changed from 'images' to 'files'\n    });\n    return verificationUploadRequest(\"/verify-product-batch\", { method: \"POST\", formData, token });\n  },\n  \n  // Verify before creation (preview)\n  verifyBeforeCreation: (data, token) => {\n    const formData = new FormData();\n    formData.append('title', data.title);\n    if (data.image instanceof File) {\n      formData.append('file', data.image); // Changed from 'image' to 'file'\n    }\n    return verificationUploadRequest(\"/verify-product\", { method: \"POST\", formData, token });\n  },\n  \n  // Verification health check\n  verificationHealth: (token) => {\n    const headers = {};\n    if (token) headers[\"Authorization\"] = `Bearer ${token}`;\n    return fetch(`${VERIFICATION_API_BASE}/health`, { method: \"GET\", headers }).then(res => res.json());\n  },\n};\n\n// Products API - Buyer\nexport const productsBuyer = {\n  listProducts: (params = {}) => {\n    const queryString = new URLSearchParams(params).toString();\n    const endpoint = `/products${queryString ? `?${queryString}` : ''}`;\n    // Get token if available for authenticated features\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    return request(endpoint, { method: \"GET\", token });\n  },\n  getProduct: (productSlug) => {\n    // Get token if available for authenticated features\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    return request(`/products/${productSlug}`, { method: \"GET\", token });\n  },\n  getCategoriesTree: () => request(\"/products/categories/tree\", { method: \"GET\" }),\n  getBrands: () => request(\"/products/brands/active\", { method: \"GET\" }),\n  getActiveBrands: () => request(\"/products/brands/active\", { method: \"GET\" }),\n  \n  // Reviews\n  createReview: (productId, data, token) => request(`/products/${productId}/reviews`, { method: \"POST\", body: data, token }),\n  getReviews: (productId, params = {}) => {\n    const queryString = new URLSearchParams(params).toString();\n    const endpoint = `/products/${productId}/reviews${queryString ? `?${queryString}` : ''}`;\n    return request(endpoint, { method: \"GET\" });\n  },\n  getReviewStats: (productId) => request(`/products/${productId}/reviews/stats`, { method: \"GET\" }),\n  updateReview: (reviewId, data, token) => request(`/products/reviews/${reviewId}`, { method: \"PUT\", body: data, token }),\n  deleteReview: (reviewId, token) => request(`/products/reviews/${reviewId}`, { method: \"DELETE\", token }),\n  getMyReviews: (token) => request(\"/products/reviews/my\", { method: \"GET\", token }),\n};\n\n// Product Search API\nexport const productSearch = {\n  // Main search with filters\n  search: (searchData) => request(\"/search/\", { method: \"POST\", body: searchData }),\n  \n  // Autocomplete and suggestions\n  autocomplete: (query, limit = 10) => {\n    const params = new URLSearchParams({ query, limit: limit.toString() });\n    return request(`/search/autocomplete?${params}`, { method: \"GET\" });\n  },\n  \n  getSuggestions: (query) => {\n    const params = new URLSearchParams({ query });\n    return request(`/search/suggestions?${params}`, { method: \"GET\" });\n  },\n  \n  // Filter options\n  getFilterOptions: () => request(\"/search/filters\", { method: \"GET\" }),\n  \n  // Advanced filtering\n  advancedFilter: (filterData) => request(\"/search/advanced-filter\", { method: \"POST\", body: filterData }),\n  \n  // Recommendations\n  getRecommendations: (productId = null, type = \"similar\", limit = 10, token = null) => {\n    const params = new URLSearchParams({ \n      recommendation_type: type, \n      limit: limit.toString() \n    });\n    if (productId) params.set('product_id', productId);\n    return request(`/search/recommendations?${params}`, { method: \"GET\", token });\n  },\n  \n  // Trending and popular products\n  getTrending: (limit = 10) => {\n    const params = new URLSearchParams({ limit: limit.toString() });\n    return request(`/search/trending?${params}`, { method: \"GET\" });\n  },\n  \n  getTrendingAdvanced: (category = null, timeframe = \"week\", limit = 10) => {\n    const params = new URLSearchParams({ timeframe, limit: limit.toString() });\n    if (category) params.set('category', category);\n    return request(`/search/trending-advanced?${params}`, { method: \"GET\" });\n  },\n  \n  getTopRated: (limit = 10) => {\n    const params = new URLSearchParams({ limit: limit.toString() });\n    return request(`/search/top-rated?${params}`, { method: \"GET\" });\n  },\n  \n  // Product collections\n  getNewArrivals: (category = null, days = 30, limit = 10) => {\n    const params = new URLSearchParams({ days: days.toString(), limit: limit.toString() });\n    if (category) params.set('category', category);\n    return request(`/search/new-arrivals?${params}`, { method: \"GET\" });\n  },\n  \n  getBestSellers: (category = null, timeframe = \"month\", limit = 10) => {\n    const params = new URLSearchParams({ timeframe, limit: limit.toString() });\n    if (category) params.set('category', category);\n    return request(`/search/best-sellers?${params}`, { method: \"GET\" });\n  },\n  \n  getSeasonal: (season = null, category = null, limit = 10) => {\n    const params = new URLSearchParams({ limit: limit.toString() });\n    if (season) params.set('season', season);\n    if (category) params.set('category', category);\n    return request(`/search/seasonal?${params}`, { method: \"GET\" });\n  },\n  \n  // Product relationships\n  getCrossSell: (productId, limit = 5) => {\n    const params = new URLSearchParams({ limit: limit.toString() });\n    return request(`/search/cross-sell/${productId}?${params}`, { method: \"GET\" });\n  },\n  \n  getUpsell: (productId, limit = 5) => {\n    const params = new URLSearchParams({ limit: limit.toString() });\n    return request(`/search/upsell/${productId}?${params}`, { method: \"GET\" });\n  },\n  \n  // Personalized recommendations\n  getPersonalized: (limit = 10, token = null) => {\n    const params = new URLSearchParams({ limit: limit.toString() });\n    return request(`/search/personalized?${params}`, { method: \"GET\", token });\n  },\n  \n  // Product comparison\n  compareProducts: (productIds) => {\n    return request(\"/search/compare\", { method: \"POST\", body: { product_ids: productIds } });\n  },\n  \n  // Price and stock\n  getPriceHistory: (productId, days = 30) => {\n    const params = new URLSearchParams({ days: days.toString() });\n    return request(`/search/price-history/${productId}?${params}`, { method: \"GET\" });\n  },\n  \n  createStockAlert: (productId, threshold, token) => {\n    return request(\"/search/stock-alerts\", { \n      method: \"POST\", \n      body: { product_id: productId, threshold }, \n      token \n    });\n  },\n  \n  // Bulk operations\n  bulkSearch: (queries) => {\n    return request(\"/search/bulk-search\", { method: \"POST\", body: { queries } });\n  },\n  \n  // Analytics\n  getSearchAnalytics: (timeframe = \"week\", token = null) => {\n    const params = new URLSearchParams({ timeframe });\n    return request(`/search/analytics?${params}`, { method: \"GET\", token });\n  }\n};\n\nexport const tokens = {\n  set: (toks) => {\n    try {\n      localStorage.setItem(\"ae_tokens\", JSON.stringify(toks));\n      try {\n        // Notify listeners in this window that tokens changed\n        if (typeof window !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('ae_tokens_changed', { detail: toks }));\n        }\n      } catch (e) {}\n    } catch {}\n  },\n  get: () => {\n    try {\n      const raw = localStorage.getItem(\"ae_tokens\");\n      return raw ? JSON.parse(raw) : null;\n    } catch {\n      return null;\n    }\n  },\n  clear: () => {\n    try {\n      localStorage.removeItem(\"ae_tokens\");\n      try {\n        // Notify listeners that tokens were cleared\n        if (typeof window !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('ae_tokens_changed', { detail: null }));\n        }\n      } catch (e) {}\n    } catch {}\n  },\n};\n\n// Buyer Orders API - Complete buyer workflow\nexport const buyerOrders = {\n  // CART MANAGEMENT\n  getCart: (sessionId = null) => {\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    const endpoint = sessionId ? `/buyer/orders/cart?session_id=${sessionId}` : \"/buyer/orders/cart\";\n    return request(endpoint, { method: \"GET\", token });\n  },\n  \n  addToCart: (productId, quantity, variantId = null, sessionId = null) => {\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    const body = { product_id: productId, quantity, variant_id: variantId };\n    const endpoint = sessionId ? `/buyer/orders/cart/items?session_id=${sessionId}` : \"/buyer/orders/cart/items\";\n    return request(endpoint, { method: \"POST\", body, token });\n  },\n  \n  updateCartItem: (cartItemId, quantity) => {\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    return request(`/buyer/orders/cart/items/${cartItemId}`, { \n      method: \"PUT\", \n      body: { quantity }, \n      token \n    });\n  },\n  \n  removeCartItem: (cartItemId) => {\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    return request(`/buyer/orders/cart/items/${cartItemId}`, { method: \"DELETE\", token });\n  },\n  \n  clearCart: (sessionId = null) => {\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    const endpoint = sessionId ? `/buyer/orders/cart/clear?session_id=${sessionId}` : \"/buyer/orders/cart/clear\";\n    return request(endpoint, { method: \"DELETE\", token });\n  },\n  \n  transferCart: (sessionId) => {\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    return request(\"/buyer/orders/cart/transfer\", { \n      method: \"POST\", \n      body: { session_id: sessionId }, \n      token \n    });\n  },\n  \n  getCartCount: (sessionId = null) => {\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    const endpoint = sessionId ? `/buyer/orders/cart/count?session_id=${sessionId}` : \"/buyer/orders/cart/count\";\n    return request(endpoint, { method: \"GET\", token });\n  },\n  \n  // ORDER MANAGEMENT\n  createOrder: (billingAddressId, shippingAddressId, paymentMethod, customerNotes = null) => {\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    if (!token) throw new Error(\"Authentication required for creating orders\");\n    \n    return request(\"/buyer/orders\", { \n      method: \"POST\", \n      body: { \n        billing_address_id: billingAddressId,\n        shipping_address_id: shippingAddressId,\n        use_different_shipping: !!shippingAddressId,\n        payment_method: paymentMethod,\n        customer_notes: customerNotes \n      }, \n      token \n    });\n  },\n  \n  getUserOrders: (page = 1, limit = 20, status = null) => {\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    if (!token) throw new Error(\"Authentication required for viewing orders\");\n    \n    const params = new URLSearchParams({ page: page.toString(), limit: limit.toString() });\n    if (status) params.set('status', status);\n    return request(`/buyer/orders?${params}`, { method: \"GET\", token });\n  },\n  \n  getOrderDetails: (orderId) => {\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    if (!token) throw new Error(\"Authentication required for viewing order details\");\n    \n    return request(`/buyer/orders/${orderId}`, { method: \"GET\", token });\n  },\n  \n  cancelOrder: (orderId, cancelReason) => {\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    if (!token) throw new Error(\"Authentication required for canceling orders\");\n    \n    return request(`/buyer/orders/${orderId}/cancel`, { \n      method: \"POST\", \n      body: { cancel_reason: cancelReason }, \n      token \n    });\n  },\n  \n  // PAYMENT MANAGEMENT\n  getOrderPayments: (orderId) => {\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    if (!token) throw new Error(\"Authentication required for viewing payments\");\n    \n    return request(`/buyer/orders/${orderId}/payments`, { method: \"GET\", token });\n  },\n  \n  getUserPayments: (page = 1, limit = 20) => {\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    if (!token) throw new Error(\"Authentication required for viewing payments\");\n    \n    const params = new URLSearchParams({ page: page.toString(), limit: limit.toString() });\n    return request(`/buyer/orders/payments/?${params}`, { method: \"GET\", token });\n  },\n  \n  // RETURNS MANAGEMENT\n  createReturn: (orderItemId, reason, description, quantity, images = []) => {\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    if (!token) throw new Error(\"Authentication required for creating returns\");\n    \n    return request(\"/buyer/orders/returns\", { \n      method: \"POST\", \n      body: { \n        order_item_id: orderItemId, \n        reason, \n        description, \n        quantity, \n        images \n      }, \n      token \n    });\n  },\n  \n  getUserReturns: (page = 1, limit = 20) => {\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    if (!token) throw new Error(\"Authentication required for viewing returns\");\n    \n    const params = new URLSearchParams({ page: page.toString(), limit: limit.toString() });\n    return request(`/buyer/orders/returns/?${params}`, { method: \"GET\", token });\n  },\n  \n  getReturnDetails: (returnId) => {\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    if (!token) throw new Error(\"Authentication required for viewing return details\");\n    \n    return request(`/buyer/orders/returns/${returnId}`, { method: \"GET\", token });\n  },\n  \n  // ORDER TRACKING\n  trackOrder: (orderId) => {\n    const userTokens = tokens.get();\n    const token = userTokens?.access_token;\n    if (!token) throw new Error(\"Authentication required for tracking orders\");\n    \n    return request(`/buyer/orders/${orderId}/track`, { method: \"GET\", token });\n  }\n};\n\n// Export uploadRequest function for use in services\nexport { uploadRequest };\n\nexport default { auth, supplierOnboarding, productsSupplier, productsBuyer, productSearch, buyerOrders, tokens };\n","path":null,"size_bytes":29258,"size_tokens":null},"src/app/vendor/onboarding/page.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { tokens, auth, productsSupplier } from \"@/lib/api\";\n\n// Import modular components\nimport OnboardingHeader from \"@/components/vendor/onboarding/OnboardingHeader\";\nimport OnboardingProgress from \"@/components/vendor/onboarding/OnboardingProgress\";\nimport StepNavigation from \"@/components/vendor/onboarding/StepNavigation\";\nimport StepHeader from \"@/components/vendor/onboarding/StepHeader\";\nimport Step1BasicInfo from \"@/components/vendor/onboarding/Step1BasicInfo\";\nimport Step2BusinessProfile from \"@/components/vendor/onboarding/Step2BusinessProfile\";\nimport Step3ProductInfo from \"@/components/vendor/onboarding/Step3ProductInfo\";\nimport Step4Inventory from \"@/components/vendor/onboarding/Step4Inventory\";\nimport Step5Sustainability from \"@/components/vendor/onboarding/Step5Sustainability\";\nimport OnboardingActions from \"@/components/vendor/onboarding/OnboardingActions\";\nimport OnboardingComplete from \"@/components/vendor/onboarding/OnboardingComplete\";\n\nexport default function VendorOnboarding() {\n  const router = useRouter();\n  const [currentStep, setCurrentStep] = useState(1);\n  const [isComplete, setIsComplete] = useState(false);\n  const [isSignedUp, setIsSignedUp] = useState(false); // Track if user completed signup\n  const [isLoading, setIsLoading] = useState(true); // Add loading state\n  const [formData, setFormData] = useState({\n    // Step 1 fields (Seller Signup)\n    businessName: \"\",\n    contactPerson: \"\",\n    email: \"\",\n    phone: \"\",\n    password: \"\",\n    agreeToTerms: false,\n    // Step 2 fields - Business Onboarding (Updated to match backend)\n    business_name: \"\",\n    legal_entity_type: \"\",\n    pan_gst_number: \"\",\n    bank_name: \"\",\n    bank_account_number: \"\",\n    ifsc_code: \"\",\n    business_address: \"\",\n    is_msme_registered: false,\n    website: \"\",\n    description: \"\",\n    // Document uploads\n    logo: null,\n    banner: null,\n    pan_card: null,\n    address_proof: null,\n    fssai_license: null,\n    trade_license: null,\n    msme_certificate: null,\n    other_document: null,\n    other_document_name: \"\",\n    // Step 3 fields - Product Basic Info\n    name: \"\", // Product name\n    sku: \"\",\n    short_description: \"\",\n    description: \"\",\n    category_id: \"\",\n    brand_id: \"\",\n    price: 0,\n    compare_at_price: 0,\n    cost_per_item: 0,\n    tags: [],\n    // Step 4 fields - Product Details & Inventory\n    weight: 0,\n    dimensions: {},\n    materials: [],\n    care_instructions: \"\",\n    origin_country: \"\",\n    manufacturing_details: {},\n    track_quantity: true,\n    continue_selling: true,\n    productVariants: [{ name: '', price: '', stockQuantity: '' }], // Placeholder for variants\n    // Step 5 fields - Sustainability Profile (Updated to match backend)\n    sustainability_practices: \"\",\n    sustainability_certificate: null\n  });\n\n  // Check authentication and business status on mount\n  useEffect(() => {\n    const checkUserStatus = async () => {\n      try {\n        setIsLoading(true);\n        \n        // Check if user is logged in\n        const userTokens = tokens.get();\n        if (!userTokens?.access_token) {\n          // No tokens, start from Step 1 (signup)\n          setCurrentStep(1);\n          setIsSignedUp(false);\n          setIsLoading(false);\n          return;\n        }\n\n        // User is logged in, get user profile\n        const userProfile = await auth.getProfile();\n        if (userProfile.user_type !== 'supplier') {\n          // Not a supplier, redirect to appropriate page\n          router.push('/login');\n          return;\n        }\n\n        // User is a supplier, check if business profile exists and onboarding status\n        try {\n          const API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:8000\";\n          console.log('Checking onboarding status with API_BASE:', API_BASE);\n          console.log('User tokens:', userTokens ? 'Present' : 'Not present');\n          console.log('Access token length:', userTokens?.access_token?.length || 'N/A');\n          \n          // Check onboarding status first\n          console.log('Making request to:', `${API_BASE}/supplier/onboarding/status`);\n          const statusResponse = await fetch(`${API_BASE}/supplier/onboarding/status`, {\n            headers: { \n              'Authorization': `Bearer ${userTokens.access_token}`,\n              'Content-Type': 'application/json'\n            }\n          }).catch(error => {\n            console.error('Network error when fetching onboarding status:', error);\n            // Let's try to provide more specific error information\n            if (error.name === 'TypeError' && error.message.includes('fetch')) {\n              throw new Error(`Network error: Unable to connect to ${API_BASE}. Please check if the backend server is running and accessible.`);\n            }\n            throw new Error(`Network error: ${error.message}`);\n          });\n\n          console.log('Status response received:', statusResponse.status, statusResponse.statusText);\n          let statusData = null;\n          if (statusResponse.ok) {\n            statusData = await statusResponse.json();\n            console.log('Onboarding status response:', statusData);\n            \n            // If onboarding is complete, check sustainability profile separately\n            if (statusData.is_onboarding_complete && statusData.supplier_business) {\n              try {\n                console.log('Checking sustainability profile...');\n                const sustainabilityResponse = await fetch(`${API_BASE}/supplier/onboarding/sustainability-profile`, {\n                  headers: { 'Authorization': `Bearer ${userTokens.access_token}` }\n                });\n                \n                if (sustainabilityResponse.ok) {\n                  const sustainabilityData = await sustainabilityResponse.json();\n                  console.log('Sustainability data:', sustainabilityData);\n                  // If sustainability profile exists with certificate, onboarding is truly complete\n                  if (sustainabilityData && sustainabilityData.certifications && sustainabilityData.certifications.length > 0) {\n                    console.log('Onboarding complete, redirecting to dashboard...');\n                    router.push('/vendor/dashboard');\n                    return;\n                  }\n                } else {\n                  console.log('Sustainability profile response not ok:', sustainabilityResponse.status);\n                }\n              } catch (sustainabilityError) {\n                console.log('Sustainability profile not found, continuing onboarding...', sustainabilityError);\n                // Continue with onboarding flow\n              }\n            }\n          } else {\n            console.log('Status response not ok, status:', statusResponse.status);\n            const errorText = await statusResponse.text().catch(() => 'Unable to read error response');\n            console.log('Status error response:', errorText);\n          }\n\n          // Check business profile\n          console.log('Checking business profile...');\n          const businessResponse = await fetch(`${API_BASE}/supplier/onboarding/business-profile`, {\n            headers: { 'Authorization': `Bearer ${userTokens.access_token}` }\n          }).catch(error => {\n            console.error('Network error when fetching business profile:', error);\n            throw new Error(`Network error: ${error.message}. Please check if the backend server is running.`);\n          });\n\n          console.log('Business profile response status:', businessResponse.status);\n          if (businessResponse.ok) {\n            // Business profile exists, check what's completed\n            const businessData = await businessResponse.json();\n            \n            // Validate that PAN card is uploaded (required for seller account)\n            const panCardDocument = businessData.documents?.find(doc => doc.document_type === 'pan_card');\n            if (!panCardDocument || panCardDocument.document_status !== 'uploaded') {\n              // PAN card is required, don't let seller proceed without it\n              alert('PAN card upload is required to proceed with your seller account. Please complete your business profile.');\n              setCurrentStep(2);\n              setIsSignedUp(true);\n              setIsLoading(false);\n              return;\n            }\n            \n            // Pre-fill form data with existing business info\n            setFormData(prev => ({\n              ...prev,\n              businessName: businessData.business_name || '',\n              business_name: businessData.business_name || '',\n              contactPerson: businessData.contact_person || userProfile.first_name + ' ' + userProfile.last_name,\n              email: businessData.email || userProfile.email,\n              phone: businessData.phone || userProfile.phone,\n              legal_entity_type: businessData.legal_entity_type || '',\n              pan_gst_number: businessData.pan_gst_number || '',\n              business_address: businessData.business_address || '',\n              is_msme_registered: businessData.is_msme_registered || false,\n              bank_name: businessData.bank_name || '',\n              bank_account_number: businessData.bank_account_number || '',\n              ifsc_code: businessData.ifsc_code || '',\n              website: businessData.website || '',\n              description: businessData.description || ''\n            }));\n\n            // Check if sustainability profile exists to determine starting step\n            if (statusResponse.ok && statusData) {\n              if (statusData.sustainability_profile) {\n                // Sustainability profile exists, redirect to dashboard\n                router.push('/vendor/dashboard');\n                return;\n              }\n            }\n\n            // Business exists but no sustainability profile, start from Step 5 (Sustainability)\n            setCurrentStep(5);\n            setIsSignedUp(true);\n          } else if (businessResponse.status === 404) {\n            // Business profile doesn't exist, start from Step 2 (Business Profile)\n            // Pre-fill user info from profile\n            setFormData(prev => ({\n              ...prev,\n              businessName: userProfile.first_name + ' ' + userProfile.last_name + ' Business',\n              business_name: userProfile.first_name + ' ' + userProfile.last_name + ' Business',\n              contactPerson: userProfile.first_name + ' ' + userProfile.last_name,\n              email: userProfile.email,\n              phone: userProfile.phone\n            }));\n            \n            setCurrentStep(2);\n            setIsSignedUp(true);\n          } else {\n            throw new Error('Failed to fetch business profile');\n          }\n        } catch (businessError) {\n          console.error('Error checking business profile:', businessError);\n          // If business check fails, assume no business and start from Step 2\n          setFormData(prev => ({\n            ...prev,\n            businessName: userProfile.first_name + ' ' + userProfile.last_name + ' Business',\n            business_name: userProfile.first_name + ' ' + userProfile.last_name + ' Business',\n            contactPerson: userProfile.first_name + ' ' + userProfile.last_name,\n            email: userProfile.email,\n            phone: userProfile.phone\n          }));\n          \n          setCurrentStep(2);\n          setIsSignedUp(true);\n        }\n\n      } catch (error) {\n        console.error('Error checking user status:', error);\n        \n        // Show user-friendly error message\n        if (error.message.includes('Network error')) {\n          alert('Unable to connect to the server. Please check your internet connection and try again. If the problem persists, the server may be down.');\n        } else {\n          alert('An error occurred while checking your account status. Please try refreshing the page.');\n        }\n        \n        // If any error occurs, start from Step 1\n        setCurrentStep(1);\n        setIsSignedUp(false);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    checkUserStatus();\n  }, [router]);\n\n  const handleChange = (field, value) => {\n    console.log(`Main: handleChange called with field: ${field}, value:`, value);\n    \n    // Special logging for file uploads\n    if (value instanceof File) {\n      console.log(`Main: File upload detected for ${field}:`, {\n        name: value.name,\n        size: value.size,\n        type: value.type\n      });\n    }\n    \n    setFormData(prev => {\n      const newData = { ...prev, [field]: value };\n      console.log('Main: Updated formData:', newData);\n      return newData;\n    });\n  };\n\n  // Handle Step 1 completion (signup with OTP verification)\n  const handleStep1Complete = () => {\n    setIsSignedUp(true);\n    setCurrentStep(2); // Move to business profile step\n  };\n\n  // Handle skipping step 3 (product creation)\n  const handleSkipStep3 = () => {\n    console.log('Skipping product creation step');\n    setCurrentStep(5); // Skip to sustainability step (Step 5)\n  };\n\n  // Handle Step 2 completion (save business data to supplier business table)\n  const handleStep2Complete = async (hasExistingBusiness = false) => {\n    try {\n      // Prepare FormData for file uploads\n      const formDataToSend = new FormData();\n      \n      // Required fields\n      formDataToSend.append('business_name', formData.business_name || formData.businessName || '');\n      formDataToSend.append('legal_entity_type', formData.legal_entity_type || '');\n      formDataToSend.append('pan_gst_number', formData.pan_gst_number || '');\n      formDataToSend.append('bank_name', formData.bank_name || '');\n      formDataToSend.append('bank_account_number', formData.bank_account_number || '');\n      formDataToSend.append('ifsc_code', formData.ifsc_code || '');\n      formDataToSend.append('business_address', formData.business_address || '');\n      \n      // Optional fields\n      formDataToSend.append('is_msme_registered', formData.is_msme_registered || false);\n      if (formData.website) formDataToSend.append('website', formData.website);\n      if (formData.description) formDataToSend.append('description', formData.description);\n      if (formData.other_document_name) formDataToSend.append('other_document_name', formData.other_document_name);\n      \n      // File uploads (only add files that are File objects, not URLs)\n      console.log('Main: Checking files for upload...');\n      if (formData.logo instanceof File) {\n        console.log('Main: Adding logo file:', formData.logo.name);\n        formDataToSend.append('logo', formData.logo);\n      }\n      if (formData.banner instanceof File) {\n        console.log('Main: Adding banner file:', formData.banner.name);\n        formDataToSend.append('banner', formData.banner);\n      }\n      if (formData.pan_card instanceof File) {\n        console.log('Main: Adding pan_card file:', formData.pan_card.name);\n        formDataToSend.append('pan_card', formData.pan_card);\n      }\n      if (formData.address_proof instanceof File) {\n        console.log('Main: Adding address_proof file:', formData.address_proof.name);\n        formDataToSend.append('address_proof', formData.address_proof);\n      }\n      if (formData.fssai_license instanceof File) {\n        console.log('Main: Adding fssai_license file:', formData.fssai_license.name);\n        formDataToSend.append('fssai_license', formData.fssai_license);\n      }\n      if (formData.trade_license instanceof File) {\n        console.log('Main: Adding trade_license file:', formData.trade_license.name);\n        formDataToSend.append('trade_license', formData.trade_license);\n      }\n      if (formData.msme_certificate instanceof File) {\n        console.log('Main: Adding msme_certificate file:', formData.msme_certificate.name);\n        formDataToSend.append('msme_certificate', formData.msme_certificate);\n      }\n      if (formData.other_document instanceof File) {\n        console.log('Main: Adding other_document file:', formData.other_document.name);\n        formDataToSend.append('other_document', formData.other_document);\n      }\n      \n      // Get tokens and make API call\n      const userTokens = tokens.get();\n      const API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:8000\";\n      \n      // Use PUT for existing business, POST for new business\n      const method = hasExistingBusiness ? 'PUT' : 'POST';\n      \n      const response = await fetch(`${API_BASE}/supplier/onboarding/business-onboarding`, {\n        method: method,\n        headers: {\n          'Authorization': `Bearer ${userTokens.access_token}`\n        },\n        body: formDataToSend\n      });\n\n      if (!response.ok) {\n        let errorMessage = `Failed to ${hasExistingBusiness ? 'update' : 'save'} business information`;\n        try {\n          const errorData = await response.json();\n          if (errorData.detail) {\n            if (typeof errorData.detail === 'string') {\n              errorMessage = errorData.detail;\n            } else if (Array.isArray(errorData.detail)) {\n              errorMessage = errorData.detail.map(err => \n                typeof err === 'string' ? err : \n                (err.msg || err.message || JSON.stringify(err))\n              ).join(', ');\n            } else {\n              errorMessage = JSON.stringify(errorData.detail);\n            }\n          }\n        } catch (parseError) {\n          console.error('Failed to parse error response:', parseError);\n          errorMessage = `${errorMessage} (HTTP ${response.status})`;\n        }\n        throw new Error(errorMessage);\n      }\n      \n      setCurrentStep(3); // Move to next step (Product Info)\n    } catch (error) {\n      console.error(`Failed to ${hasExistingBusiness ? 'update' : 'save'} business data:`, error);\n      // Handle error - maybe show a toast or error message\n      alert(`Failed to ${hasExistingBusiness ? 'update' : 'save'} business information: ` + error.message);\n      throw error; // Re-throw to handle in calling function\n    }\n  };\n\n  // Function to handle skip to next step with or without saving\n  const handleSkipToStep3 = async (skipWithoutSave = false, hasExistingBusiness = false) => {\n    if (skipWithoutSave) {\n      // Skip directly without saving\n      setCurrentStep(3);\n    } else {\n      // Save and then proceed\n      await handleStep2Complete(hasExistingBusiness); // Pass the actual hasExistingBusiness flag\n    }\n  };\n\n  const handleStep3Complete = async () => {\n    try {\n      console.log('Step 3: Starting product creation with form data:', formData);\n      \n      // Validate required fields before API call\n      const requiredFields = {\n        name: formData.name,\n        category_id: formData.category_id,\n        sku: formData.sku,\n        price: formData.price,\n        images: formData.images\n      };\n      \n      const missingFields = [];\n      Object.entries(requiredFields).forEach(([field, value]) => {\n        if (!value || (field === 'images' && (!Array.isArray(value) || value.length === 0))) {\n          missingFields.push(field);\n        }\n      });\n      \n      if (missingFields.length > 0) {\n        console.error('Missing required fields:', missingFields);\n        console.error('Current form data:', formData);\n        alert(`Please fill in the following required fields: ${missingFields.join(', ')}`);\n        return;\n      }\n\n      // Validate images are File objects\n      if (!Array.isArray(formData.images) || formData.images.some(img => !(img instanceof File))) {\n        console.error('Invalid images detected:', formData.images);\n        alert('Please ensure all images are properly uploaded');\n        return;\n      }\n\n      const userTokens = tokens.get();\n      if (!userTokens?.access_token) {\n        throw new Error('No authentication token found');\n      }\n\n      // Step 1: Auto-verify product using AI\n      console.log('Step 3: Starting auto-verification...');\n      try {\n        const verificationData = {\n          title: formData.name.trim(),\n          image: formData.images[0] // Use first image for verification\n        };\n        \n        const verificationResult = await productsSupplier.verifyBeforeCreation(verificationData, userTokens.access_token);\n        console.log('Step 3: Verification result:', verificationResult);\n        \n        // Check verification score\n        if (verificationResult.probability < 0.7) {\n          const message = `Product verification failed (score: ${verificationResult.probability.toFixed(2)}). \nThe image and title don't match well enough. \nPlease either:\n1. Change the product title to better match the image\n2. Upload a different product image that better matches the title\n\nCurrent suggestion: ${verificationResult.suggestion || 'No suggestion available'}`;\n          \n          alert(message);\n          return; // Stop product creation\n        } else {\n          // Auto-approved\n          console.log(`Step 3: Product auto-approved with score: ${verificationResult.probability.toFixed(2)}`);\n          alert(`✅ Product auto-approved! Verification score: ${verificationResult.probability.toFixed(2)}`);\n        }\n      } catch (verificationError) {\n        console.warn('Step 3: Verification service unavailable, proceeding without verification:', verificationError);\n        // Continue with product creation even if verification fails\n        alert('⚠️ Product verification service is unavailable. Proceeding without verification.');\n      }\n\n      // Step 2: Create the product\n      console.log('Step 3: Proceeding with product creation...');\n\n      // Prepare product data according to API schema\n      const productData = {\n        name: formData.name.trim(),\n        category_id: formData.category_id === '0' ? null : formData.category_id,\n        sku: formData.sku.trim(),\n        price: parseFloat(formData.price),\n        images: formData.images, // File objects array\n        // Optional fields\n        brand_id: formData.brand_id && formData.brand_id !== '0' ? formData.brand_id : null,\n        short_description: formData.short_description?.trim() || '',\n        description: formData.description?.trim() || '',\n        compare_at_price: formData.compare_at_price ? parseFloat(formData.compare_at_price) : null,\n        cost_per_item: formData.cost_per_item ? parseFloat(formData.cost_per_item) : null,\n        track_quantity: formData.track_quantity !== undefined ? formData.track_quantity : true,\n        continue_selling: formData.continue_selling !== undefined ? formData.continue_selling : false,\n        weight: formData.weight ? parseFloat(formData.weight) : null,\n        dimensions: formData.dimensions && Object.keys(formData.dimensions).length > 0 ? formData.dimensions : null,\n        materials: Array.isArray(formData.materials) && formData.materials.length > 0 ? formData.materials : null,\n        care_instructions: formData.care_instructions?.trim() || null,\n        origin_country: formData.origin_country?.trim() || null,\n        manufacturing_details: formData.manufacturing_details && Object.keys(formData.manufacturing_details).length > 0 ? formData.manufacturing_details : null,\n        visibility: \"visible\",\n        tags: Array.isArray(formData.tags) && formData.tags.length > 0 ? formData.tags : null\n      };\n\n      console.log('Step 3: Prepared product data for API:', productData);\n\n      const result = await productsSupplier.createProduct(productData, userTokens.access_token);\n      console.log('Step 3: Product created successfully:', result);\n      \n      // Store the created product ID for later use\n      setFormData(prev => ({\n        ...prev,\n        createdProductId: result.id || result.product_id\n      }));\n      \n      setCurrentStep(4); // Move to next step (inventory)\n    } catch (error) {\n      console.error('Failed to create product:', error);\n      \n      // Show user-friendly error message\n      let errorMessage = 'Failed to create product';\n      if (error.message) {\n        errorMessage += ': ' + error.message;\n      }\n      if (error.details) {\n        errorMessage += '\\nDetails: ' + JSON.stringify(error.details);\n      }\n      \n      alert(errorMessage);\n    }\n  };\n\n  const handleStep4Complete = async () => {\n    try {\n      console.log('Step 4: Starting variant creation with form data:', formData);\n      \n      // Check if we have a product ID from Step 3\n      if (!formData.createdProductId) {\n        console.error('No product ID found from Step 3');\n        alert('Product ID not found. Please go back to Step 3 and create the product first.');\n        return;\n      }\n\n      // Process variants if they exist and are valid\n      const variants = formData.productVariants || [];\n      const validVariants = variants.filter(variant => \n        variant.sku && variant.sku.trim() && \n        variant.price && parseFloat(variant.price) > 0\n      );\n\n      if (validVariants.length > 0) {\n        console.log(`Step 4: Creating ${validVariants.length} variants`);\n        \n        const userTokens = tokens.get();\n        if (!userTokens?.access_token) {\n          throw new Error('No authentication token found');\n        }\n\n        // Create variants one by one\n        const createdVariants = [];\n        for (const variant of validVariants) {\n          try {\n            const variantData = {\n              sku: variant.sku.trim(),\n              title: variant.title?.trim() || null,\n              price: parseFloat(variant.price),\n              compare_at_price: variant.compare_at_price ? parseFloat(variant.compare_at_price) : null,\n              weight: variant.weight ? parseFloat(variant.weight) : null,\n              dimensions: variant.dimensions && Object.keys(variant.dimensions).length > 0 ? variant.dimensions : null,\n              option1_name: variant.option1_name?.trim() || null,\n              option1_value: variant.option1_value?.trim() || null,\n              option2_name: variant.option2_name?.trim() || null,\n              option2_value: variant.option2_value?.trim() || null,\n              option3_name: variant.option3_name?.trim() || null,\n              option3_value: variant.option3_value?.trim() || null,\n              is_default: variant.is_default || false,\n              images: variant.images || [] // Empty array for now, can be added later\n            };\n\n            console.log('Step 4: Creating variant with data:', variantData);\n            \n            const result = await productsSupplier.createVariant(\n              formData.createdProductId, \n              variantData, \n              userTokens.access_token\n            );\n            \n            createdVariants.push(result);\n            console.log('Step 4: Variant created successfully:', result);\n            \n          } catch (variantError) {\n            console.error('Failed to create variant:', variantError);\n            // Continue with other variants, but log the error\n            alert(`Failed to create variant \"${variant.sku}\": ${variantError.message}`);\n          }\n        }\n\n        console.log(`Step 4: Successfully created ${createdVariants.length} out of ${validVariants.length} variants`);\n        \n        // Store created variant info\n        setFormData(prev => ({\n          ...prev,\n          createdVariants: createdVariants\n        }));\n      } else {\n        console.log('Step 4: No valid variants to create, skipping variant creation');\n      }\n\n      // Move to next step (sustainability)\n      setCurrentStep(5);\n      \n    } catch (error) {\n      console.error('Failed to complete Step 4:', error);\n      \n      // Show user-friendly error message\n      let errorMessage = 'Failed to complete inventory setup';\n      if (error.message) {\n        errorMessage += ': ' + error.message;\n      }\n      \n      alert(errorMessage);\n    }\n  };\n\n  const handleStep5Complete = async () => {\n    try {\n      // Prepare sustainability data\n      const formDataToSend = new FormData();\n      \n      // Required field\n      formDataToSend.append('sustainability_practices', formData.sustainability_practices || '');\n      \n      // Optional file upload\n      if (formData.sustainability_certificate instanceof File) {\n        formDataToSend.append('sustainability_certificate', formData.sustainability_certificate);\n      }\n      \n      const userTokens = tokens.get();\n      const API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:8000\";\n      \n      const response = await fetch(`${API_BASE}/supplier/onboarding/sustainability-profile`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${userTokens.access_token}`\n        },\n        body: formDataToSend\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.detail || 'Failed to save sustainability information');\n      }\n      \n      // Onboarding complete - redirect to dashboard\n      alert('Onboarding completed successfully! Redirecting to your dashboard...');\n      router.push('/vendor/dashboard');\n    } catch (error) {\n      console.error('Failed to save sustainability data:', error);\n      alert('Failed to save sustainability information: ' + error.message);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    // Skip step 1 since it's handled by signup flow\n    if (currentStep === 1) {\n      return; // Step 1 has its own signup handling\n    }\n    \n    // Skip Step 2 since it now has its own save button\n    if (currentStep === 2) {\n      return; // Step 2 has its own save handling\n    }\n    \n    // Handle Step 3 completion (create product)\n    if (currentStep === 3) {\n      await handleStep3Complete();\n      return;\n    }\n\n    // Handle Step 4 completion (inventory management)\n    if (currentStep === 4) {\n      await handleStep4Complete();\n      return;\n    }\n    \n    // Handle Step 5 completion (sustainability)\n    if (currentStep === 5) {\n      await handleStep5Complete();\n      return;\n    }\n    \n    if (currentStep < 5) {\n      setCurrentStep(currentStep + 1);\n    } else {\n      // Final step - submit sustainability profile and complete onboarding\n      try {\n        // Submit sustainability profile\n        const sustainabilityData = {\n          sustainability_practices: formData.sustainability_practices || '',\n          sustainability_certificate: formData.sustainability_certificate || null\n        };\n        \n        const userTokens = tokens.get();\n        const API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:8000\";\n        \n        // Submit sustainability profile if there are practices to submit\n        if (sustainabilityData.sustainability_practices) {\n          const sustainabilityFormData = new FormData();\n          sustainabilityFormData.append('sustainability_practices', sustainabilityData.sustainability_practices);\n          \n          if (sustainabilityData.sustainability_certificate) {\n            sustainabilityFormData.append('sustainability_certificate', sustainabilityData.sustainability_certificate);\n          }\n          \n          const response = await fetch(`${API_BASE}/supplier/onboarding/sustainability-profile`, {\n            method: 'POST',\n            headers: {\n              'Authorization': `Bearer ${userTokens.access_token}`\n            },\n            body: sustainabilityFormData\n          });\n\n          if (!response.ok) {\n            const errorData = await response.json();\n            throw new Error(errorData.detail || 'Failed to save sustainability profile');\n          }\n        }\n        \n        console.log(\"Vendor registration completed successfully\");\n        setIsComplete(true);\n      } catch (error) {\n        console.error(\"Registration failed:\", error);\n        alert('Failed to complete onboarding: ' + error.message);\n      }\n    }\n  };\n\n  const handleGoBack = () => {\n    if (currentStep > 1) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  // Show loading state while checking user status\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-white flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-[#12b74f] mx-auto mb-4\"></div>\n          <p className=\"text-[#1a4032] font-semibold\">Checking your onboarding status...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      {isComplete ? (\n        <OnboardingComplete />\n      ) : (\n        <div className=\"min-h-screen bg-white overflow-hidden\">\n          <OnboardingHeader />\n          <OnboardingProgress currentStep={currentStep} />\n\n          {/* Main Form Card */}\n          <div className=\"max-w-[785px] mx-auto px-4\">\n            <div className=\"bg-[#f8f8f8] rounded-[20px] border border-[#666666] p-12\">\n              <div className=\"max-w-[684px] mx-auto\">\n                \n                <StepHeader currentStep={currentStep} />\n                <StepNavigation currentStep={currentStep} />\n\n                <form onSubmit={handleSubmit} className=\"space-y-6\">\n                  \n                  {/* Step 1: Seller Signup */}\n                  {currentStep === 1 && (\n                    <Step1BasicInfo \n                      formData={formData} \n                      handleChange={handleChange} \n                      onStepComplete={handleStep1Complete}\n                    />\n                  )}\n\n                  {/* Step 2: Business and Sustainability Profile */}\n                  {currentStep === 2 && (\n                    <Step2BusinessProfile \n                      formData={formData} \n                      handleChange={handleChange} \n                      onSkipToNextStep={handleSkipToStep3}\n                    />\n                  )}\n\n                  {/* Step 3: Product Information Wizard */}\n                  {currentStep === 3 && (\n                    <Step3ProductInfo \n                      formData={formData} \n                      handleChange={handleChange}\n                      onSkip={handleSkipStep3}\n                    />\n                  )}\n\n                  {/* Step 4: Inventory Management */}\n                  {currentStep === 4 && (\n                    <Step4Inventory formData={formData} handleChange={handleChange} />\n                  )}\n\n                  {/* Step 5: Sustainability Practices */}\n                  {currentStep === 5 && (\n                    <Step5Sustainability formData={formData} handleChange={handleChange} />\n                  )}\n                </form>\n              </div>\n            </div>\n          </div>\n\n          <OnboardingActions \n            currentStep={currentStep} \n            handleSubmit={handleSubmit} \n            handleGoBack={handleGoBack}\n            hideActions={currentStep === 1 || currentStep === 2} // Hide actions for Step 1 (signup) and Step 2 (custom save button)\n          />\n        </div>\n      )}\n    </>\n  );\n}\n","path":null,"size_bytes":34919,"size_tokens":null},"src/components/admin/screens/UsersScreen.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { \n  UsersIcon, \n  MagnifyingGlassIcon,\n  FunnelIcon,\n  EyeIcon,\n  PencilIcon,\n  TrashIcon,\n  UserPlusIcon,\n  CheckCircleIcon,\n  XCircleIcon,\n  ClockIcon\n} from \"@heroicons/react/24/outline\";\n\nexport default function UsersScreen() {\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filterRole, setFilterRole] = useState(\"all\");\n  const [filterStatus, setFilterStatus] = useState(\"all\");\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const [showBulkActions, setShowBulkActions] = useState(false);\n\n  // Mock user data\n  const mockUsers = [\n    {\n      id: 1,\n      name: \"John Smith\",\n      email: \"john.smith@example.com\",\n      role: \"buyer\",\n      status: \"active\",\n      joinDate: \"2024-01-15\",\n      lastActive: \"2024-01-20\",\n      totalOrders: 12,\n      totalSpent: 2500,\n      avatar: null\n    },\n    {\n      id: 2,\n      name: \"Sarah Johnson\",\n      email: \"sarah.j@example.com\",\n      role: \"supplier\",\n      status: \"pending\",\n      joinDate: \"2024-01-10\",\n      lastActive: \"2024-01-19\",\n      totalOrders: 0,\n      totalSpent: 0,\n      avatar: null\n    },\n    {\n      id: 3,\n      name: \"Mike Wilson\",\n      email: \"mike.wilson@example.com\",\n      role: \"buyer\",\n      status: \"active\",\n      joinDate: \"2024-01-08\",\n      lastActive: \"2024-01-21\",\n      totalOrders: 8,\n      totalSpent: 1800,\n      avatar: null\n    },\n    {\n      id: 4,\n      name: \"Emma Davis\",\n      email: \"emma.davis@example.com\",\n      role: \"supplier\",\n      status: \"verified\",\n      joinDate: \"2024-01-05\",\n      lastActive: \"2024-01-21\",\n      totalOrders: 0,\n      totalSpent: 0,\n      avatar: null\n    },\n    {\n      id: 5,\n      name: \"Alex Brown\",\n      email: \"alex.brown@example.com\",\n      role: \"buyer\",\n      status: \"suspended\",\n      joinDate: \"2024-01-12\",\n      lastActive: \"2024-01-18\",\n      totalOrders: 3,\n      totalSpent: 450,\n      avatar: null\n    }\n  ];\n\n  useEffect(() => {\n    // Simulate API call\n    setTimeout(() => {\n      setUsers(mockUsers);\n      setLoading(false);\n    }, 1000);\n  }, []);\n\n  const filteredUsers = users.filter(user => {\n    const matchesSearch = user.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         user.email.toLowerCase().includes(searchTerm.toLowerCase());\n    const matchesRole = filterRole === \"all\" || user.role === filterRole;\n    const matchesStatus = filterStatus === \"all\" || user.status === filterStatus;\n    \n    return matchesSearch && matchesRole && matchesStatus;\n  });\n\n  const handleSelectUser = (userId) => {\n    setSelectedUsers(prev => \n      prev.includes(userId) \n        ? prev.filter(id => id !== userId)\n        : [...prev, userId]\n    );\n  };\n\n  const handleSelectAll = () => {\n    if (selectedUsers.length === filteredUsers.length) {\n      setSelectedUsers([]);\n    } else {\n      setSelectedUsers(filteredUsers.map(user => user.id));\n    }\n  };\n\n  const handleBulkAction = (action) => {\n    console.log(`Bulk action: ${action} on users:`, selectedUsers);\n    // Implement bulk actions\n    setSelectedUsers([]);\n    setShowBulkActions(false);\n  };\n\n  const handleUserAction = (userId, action) => {\n    console.log(`Action: ${action} on user:`, userId);\n    // Implement individual user actions\n  };\n\n  const getStatusBadge = (status) => {\n    const statusConfig = {\n      active: { color: \"bg-emerald-100 text-emerald-800\", icon: CheckCircleIcon },\n      pending: { color: \"bg-yellow-100 text-yellow-800\", icon: ClockIcon },\n      verified: { color: \"bg-blue-100 text-blue-800\", icon: CheckCircleIcon },\n      suspended: { color: \"bg-red-100 text-red-800\", icon: XCircleIcon }\n    };\n    \n    const config = statusConfig[status] || statusConfig.pending;\n    const IconComponent = config.icon;\n    \n    return (\n      <span className={`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${config.color}`}>\n        <IconComponent className=\"h-3 w-3\" />\n        {status.charAt(0).toUpperCase() + status.slice(1)}\n      </span>\n    );\n  };\n\n  const getRoleBadge = (role) => {\n    const roleConfig = {\n      buyer: { color: \"bg-blue-100 text-blue-800\" },\n      supplier: { color: \"bg-purple-100 text-purple-800\" },\n      admin: { color: \"bg-gray-100 text-gray-800\" }\n    };\n    \n    const config = roleConfig[role] || roleConfig.buyer;\n    \n    return (\n      <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${config.color}`}>\n        {role.charAt(0).toUpperCase() + role.slice(1)}\n      </span>\n    );\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      maximumFractionDigits: 0\n    }).format(amount || 0);\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('en-IN', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <h1 className=\"text-2xl font-semibold text-black\">Users</h1>\n        <div className=\"animate-pulse\">\n          <div className=\"bg-gray-200 h-64 rounded-xl\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-2xl font-semibold text-black\">User Management</h1>\n        <button className=\"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center gap-2\">\n          <UserPlusIcon className=\"h-4 w-4\" />\n          Add User\n          </button>\n      </div>\n\n      {/* Filters and Search */}\n      <div className=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n        <div className=\"flex flex-col lg:flex-row gap-4\">\n          {/* Search */}\n          <div className=\"flex-1\">\n            <div className=\"relative\">\n              <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search users by name or email...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n              />\n            </div>\n          </div>\n          \n          {/* Role Filter */}\n          <div className=\"lg:w-48\">\n            <select\n              value={filterRole}\n              onChange={(e) => setFilterRole(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n            >\n              <option value=\"all\">All Roles</option>\n              <option value=\"buyer\">Buyers</option>\n              <option value=\"supplier\">Suppliers</option>\n              <option value=\"admin\">Admins</option>\n            </select>\n          </div>\n\n          {/* Status Filter */}\n          <div className=\"lg:w-48\">\n            <select\n              value={filterStatus}\n              onChange={(e) => setFilterStatus(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n            >\n              <option value=\"all\">All Status</option>\n              <option value=\"active\">Active</option>\n              <option value=\"pending\">Pending</option>\n              <option value=\"verified\">Verified</option>\n              <option value=\"suspended\">Suspended</option>\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Bulk Actions */}\n      {selectedUsers.length > 0 && (\n        <div className=\"bg-emerald-50 border border-emerald-200 rounded-lg p-4\">\n          <div className=\"flex items-center justify-between\">\n            <span className=\"text-sm font-medium text-emerald-800\">\n              {selectedUsers.length} user{selectedUsers.length > 1 ? 's' : ''} selected\n            </span>\n            <div className=\"flex items-center gap-2\">\n              <button\n                onClick={() => handleBulkAction('activate')}\n                className=\"px-3 py-1 bg-emerald-600 text-white text-sm rounded hover:bg-emerald-700 transition-colors\"\n              >\n                Activate\n              </button>\n              <button\n                onClick={() => handleBulkAction('suspend')}\n                className=\"px-3 py-1 bg-yellow-600 text-white text-sm rounded hover:bg-yellow-700 transition-colors\"\n              >\n                Suspend\n              </button>\n              <button\n                onClick={() => handleBulkAction('delete')}\n                className=\"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700 transition-colors\"\n              >\n                Delete\n              </button>\n              <button\n                onClick={() => setSelectedUsers([])}\n                className=\"px-3 py-1 bg-gray-600 text-white text-sm rounded hover:bg-gray-700 transition-colors\"\n              >\n                Cancel\n            </button>\n          </div>\n        </div>\n      </div>\n      )}\n\n      {/* Users Table */}\n      <div className=\"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left\">\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedUsers.length === filteredUsers.length && filteredUsers.length > 0}\n                    onChange={handleSelectAll}\n                    className=\"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500\"\n                  />\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  User\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Role\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Status\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Orders\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Total Spent\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Last Active\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {filteredUsers.map((user) => (\n                <tr key={user.id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-6 py-4\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedUsers.includes(user.id)}\n                      onChange={() => handleSelectUser(user.id)}\n                      className=\"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500\"\n                    />\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    <div className=\"flex items-center\">\n                      <div className=\"flex-shrink-0 h-10 w-10\">\n                        {user.avatar ? (\n                          <img className=\"h-10 w-10 rounded-full\" src={user.avatar} alt={user.name} />\n                        ) : (\n                          <div className=\"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center\">\n                            <span className=\"text-sm font-medium text-gray-600\">\n                              {user.name.split(' ').map(n => n[0]).join('')}\n                            </span>\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"ml-4\">\n                        <div className=\"text-sm font-medium text-gray-900\">{user.name}</div>\n                        <div className=\"text-sm text-gray-500\">{user.email}</div>\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    {getRoleBadge(user.role)}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\n                    {getStatusBadge(user.status)}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {user.totalOrders}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {formatCurrency(user.totalSpent)}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                    {formatDate(user.lastActive)}\n                  </td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                    <div className=\"flex items-center gap-2\">\n                      <button\n                        onClick={() => handleUserAction(user.id, 'view')}\n                        className=\"text-emerald-600 hover:text-emerald-900\"\n                        title=\"View Details\"\n                      >\n                        <EyeIcon className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleUserAction(user.id, 'edit')}\n                        className=\"text-blue-600 hover:text-blue-900\"\n                        title=\"Edit User\"\n                      >\n                        <PencilIcon className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleUserAction(user.id, 'delete')}\n                        className=\"text-red-600 hover:text-red-900\"\n                        title=\"Delete User\"\n                      >\n                        <TrashIcon className=\"h-4 w-4\" />\n                        </button>\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n      </div>\n\n        {filteredUsers.length === 0 && (\n          <div className=\"text-center py-12\">\n            <UsersIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No users found</h3>\n            <p className=\"mt-1 text-sm text-gray-500\">\n              Try adjusting your search or filter criteria.\n          </p>\n        </div>\n        )}\n      </div>\n\n      {/* Pagination */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"text-sm text-gray-700\">\n          Showing <span className=\"font-medium\">1</span> to <span className=\"font-medium\">{filteredUsers.length}</span> of{' '}\n          <span className=\"font-medium\">{filteredUsers.length}</span> results\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <button className=\"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50\">\n            Previous\n          </button>\n          <button className=\"px-3 py-1 text-sm bg-emerald-600 text-white rounded\">\n            1\n          </button>\n          <button className=\"px-3 py-1 text-sm border border-gray-300 rounded hover:bg-gray-50\">\n            Next\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":16073,"size_tokens":null},"src/components/vendor/orders/OrdersSearch.jsx":{"content":"// Search Icon SVG\nconst SearchIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M21 21L16.5 16.5M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z\" stroke=\"#666666\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\n// Categories Icon SVG\nconst CategoriesIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M3 7H21M3 12H21M3 17H21\" stroke=\"#666666\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M9 3V7M9 12V17M9 17V21\" stroke=\"#666666\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport default function OrdersSearch() {\n  return (\n    <div className=\"bg-white rounded-[14px] border border-[#c6c6c6] p-4 sm:p-7 mb-4 sm:mb-6\">\n      <h3 className=\"font-inter font-semibold text-[14px] sm:text-[16px] text-black mb-3 sm:mb-4\">\n        Search Orders\n      </h3>\n\n      <div className=\"flex flex-col sm:flex-row gap-3 sm:gap-4\">\n        {/* Search Input */}\n        <div className=\"flex-1 bg-[#f5f6fa] rounded-[14px] border-[0.6px] border-[#bbbbbb] px-4 py-3 flex items-center gap-3\">\n          <div className=\"w-4 h-4 flex items-center justify-center flex-shrink-0\">\n            <SearchIcon />\n          </div>\n          <input\n            type=\"text\"\n            placeholder=\"Search orders...\"\n            className=\"bg-transparent text-[14px] font-nunito text-[#202224] opacity-50 outline-none flex-1 min-w-0\"\n          />\n        </div>\n\n        {/* Categories Filter */}\n        <div className=\"bg-[#f5f6fa] rounded-[14px] border-[0.6px] border-[#bbbbbb] px-4 py-3 flex items-center gap-3 w-full sm:min-w-[150px] flex-shrink-0\">\n          <div className=\"w-4 h-4 flex items-center justify-center flex-shrink-0\">\n            <CategoriesIcon />\n          </div>\n          <span className=\"text-[14px] font-nunito text-[#202224] opacity-50 flex-1 min-w-0\">Categories</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":2119,"size_tokens":null},"src/components/OrderConfirmation.jsx":{"content":"\"use client\";\n\n// Back arrow icon\nconst ArrowLeftIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path \n      d=\"M4.20996 4.412L9.79796 9.999L4.20996 15.587\" \n      stroke=\"#858C94\" \n      strokeWidth=\"1.6\" \n      strokeLinecap=\"round\" \n      strokeLinejoin=\"round\"\n      transform=\"rotate(180 8 8)\"\n    />\n  </svg>\n);\n\n// Sample images - replace with actual product images\nconst sampleImages = {\n  chiaSeeds: \"/spoons.png\", // Replace with actual chia seeds image\n  woodenChair: \"/sample1.jpg\", // Replace with actual wooden chair image\n  checkIcon: \"/bookmark.svg\" // Use existing check icon or replace with specific one\n};\n\nexport default function OrderConfirmation({ orderData, onContinueShopping, onGoBack, onOrderDetails, onMakeChanges }) {\n  // Sample order data - replace with actual order data passed from parent\n  const defaultOrderData = {\n    orderNumber: \"OR-001\",\n    customerEmail: \"ravi@gmail.com\",\n    items: [\n      {\n        id: 1,\n        name: \"Chia Seeds\",\n        quantity: \"1kg\",\n        price: 50.00,\n        image: sampleImages.chiaSeeds\n      },\n      {\n        id: 2,\n        name: \"Wooden Chair\",\n        quantity: \"1\",\n        price: 500.00,\n        image: sampleImages.woodenChair\n      }\n    ],\n    subtotal: 550.00,\n    shipping: 0, // Free shipping\n    total: 550.00,\n    amendDeadline: \"Saturday 07 September 2025, 23:00\"\n  };\n\n  const order = orderData || defaultOrderData;\n\n  return (\n    <div className=\"min-h-screen bg-white relative\">\n      {/* Main Content */}\n      <div className=\"px-4 sm:px-6 lg:px-16 xl:px-[62px] pb-8\">\n        {/* Go Back Button */}\n        <div className=\"mb-8 pt-4\">\n          <button \n            onClick={onGoBack}\n            className=\"bg-white border border-[#b8b8b8] rounded-[4.8px] px-[25.6px] py-[12px] flex items-center gap-[25.6px] hover:bg-gray-50 transition-colors\"\n          >\n            <ArrowLeftIcon />\n            <span className=\"font-poppins font-medium text-[#484848] text-[14.4px]\">Go back</span>\n          </button>\n        </div>\n\n        <div className=\"flex flex-col xl:flex-row gap-8 max-w-[1440px] mx-auto\">\n          {/* Left Column - Success Message and Actions */}\n          <div className=\"flex-1 flex flex-col items-center\">\n            {/* Success Icon */}\n            <div className=\"w-[74px] h-[74px] mb-6\">\n              <svg viewBox=\"0 0 74 74\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M37 74C57.435 74 74 57.435 74 37C74 16.565 57.435 0 37 0C16.565 0 0 16.565 0 37C0 57.435 16.565 74 37 74Z\" fill=\"#4CAF50\"/>\n                <path d=\"M20 37L32 49L54 25\" stroke=\"white\" strokeWidth=\"3\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              </svg>\n            </div>\n\n            {/* Success Message */}\n            <h1 className=\"font-poppins font-semibold text-[#1a1a1a] text-[32px] text-center leading-[1.2] mb-6\">\n              Your Order has been placed\n            </h1>\n\n            {/* Order Details */}\n            <div className=\"bg-white border border-[#e6e6e6] rounded-[6px] p-5 mb-6 w-full max-w-[484px]\">\n              <div className=\"text-center\">\n                <p className=\"font-poppins font-regular text-[#999999] text-[16px] leading-[1.3] mb-1\">\n                  Your Order number is {order.order_number || order.orderNumber || 'N/A'}\n                </p>\n                <p className=\"font-poppins font-regular text-[#999999] text-[16px] leading-[1.3]\">\n                  A confirmation of your order has been sent to {order.customerEmail || 'your email'}\n                </p>\n              </div>\n            </div>\n\n            {/* Continue Shopping Button */}\n            <button \n              onClick={onContinueShopping}\n              className=\"bg-[#272727] hover:bg-[#1a1a1a] text-white font-poppins font-semibold text-[16px] px-10 py-4 rounded-[43px] transition-colors w-full max-w-[495px]\"\n            >\n              Continue Shopping\n            </button>\n          </div>\n\n          {/* Right Column - Order Summary and Additional Info */}\n          <div className=\"xl:w-[424px] flex flex-col gap-6\">\n            {/* Order Summary */}\n            <div className=\"bg-white border border-[#e6e6e6] rounded-[8px] p-6\">\n              <h2 className=\"font-poppins font-medium text-[#1a1a1a] text-[20px] leading-[1.5] mb-6\">\n                Order Summary\n              </h2>\n\n              {/* Product List */}\n              <div className=\"space-y-4 mb-6\">\n                {(order?.items || []).map((item) => (\n                  <div key={item.id} className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-1.5\">\n                      <div \n                        className=\"w-[60px] h-[60px] bg-center bg-cover bg-no-repeat rounded\"\n                        style={{ backgroundImage: `url('${item.product?.images?.[0]?.url || '/placeholder-product.jpg'}')` }}\n                      />\n                      <span className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                        {item.product?.name || 'Product'}\n                      </span>\n                      <span className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                        x {item.quantity || 1}\n                      </span>\n                    </div>\n                    <div className=\"font-poppins font-medium text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                      ₹{((item.unit_price || 0) * (item.quantity || 1)).toFixed(2)}\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              {/* Totals */}\n              <div className=\"space-y-1\">\n                <div className=\"flex justify-between items-center py-3 border-b border-[#e6e6e6]\">\n                  <span className=\"font-poppins font-regular text-[#4d4d4d] text-[14px] leading-[1.5]\">\n                    Subtotal:\n                  </span>\n                  <span className=\"font-poppins font-medium text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                    ₹{(order.subtotal || 0).toFixed(2)}\n                  </span>\n                </div>\n                \n                <div className=\"flex justify-between items-center py-3 border-b border-[#e6e6e6]\">\n                  <span className=\"font-poppins font-regular text-[#4d4d4d] text-[14px] leading-[1.5]\">\n                    Shipping:\n                  </span>\n                  <span className=\"font-poppins font-medium text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                    {(order.shipping_amount || 0) === 0 ? 'Free' : `₹${(order.shipping_amount || 0).toFixed(2)}`}\n                  </span>\n                </div>\n                \n                <div className=\"flex justify-between items-center pt-3\">\n                  <span className=\"font-poppins font-regular text-[#4d4d4d] text-[16px] leading-[1.5]\">\n                    Total:\n                  </span>\n                  <span className=\"font-poppins font-semibold text-[#1a1a1a] text-[18px] leading-[1.2]\">\n                    ₹{(order.total_amount || 0).toFixed(2)}\n                  </span>\n                </div>\n              </div>\n\n              {/* Order Details Button */}\n              <button \n                onClick={onOrderDetails}\n                className=\"w-full bg-[#7e7e7e] hover:bg-[#6e6e6e] text-white font-poppins font-semibold text-[16px] px-10 py-4 rounded-[43px] transition-colors mt-6\"\n              >\n                Order Details\n              </button>\n            </div>\n\n            {/* Amendment Notice */}\n            <div className=\"bg-white border border-[#e6e6e6] rounded-[6px] p-6\">\n              <div className=\"text-center mb-4\">\n                <p className=\"font-poppins font-regular text-[#999999] text-[16px] leading-[1.3] mb-1\">\n                  You can amend or cancel your order until:\n                </p>\n                <p className=\"font-poppins font-bold text-black text-[16px] leading-[1.3]\">\n                  {order.amendDeadline || '24 hours from order placement'}\n                </p>\n              </div>\n\n              <button \n                onClick={onMakeChanges}\n                className=\"w-full bg-[#7e7e7e] hover:bg-[#6e6e6e] text-white font-poppins font-semibold text-[16px] px-10 py-4 rounded-[43px] transition-colors mb-4\"\n              >\n                Make Changes to Your Order\n              </button>\n\n              <p className=\"font-poppins font-regular text-[#999999] text-[16px] leading-[1.3] text-center\">\n                You can also make changes to your order via{' '}\n                <span className=\"text-black underline cursor-pointer\">My Orders</span>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}","path":null,"size_bytes":8833,"size_tokens":null},"src/app/account/orders/[orderId]/page.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter, useParams } from 'next/navigation';\nimport Navbar from \"../../../../components/layout/Navbar\";\nimport Footer from \"../../../../components/layout/Footer\";\nimport { useOrders } from \"../../../../hooks/useOrders\";\nimport { useAuth } from \"../../../../hooks/useAuth\";\n\n// Back arrow icon\nconst ArrowLeftIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path \n      d=\"M4.20996 4.412L9.79796 9.999L4.20996 15.587\" \n      stroke=\"#858C94\" \n      strokeWidth=\"1.6\" \n      strokeLinecap=\"round\" \n      strokeLinejoin=\"round\"\n      transform=\"rotate(180 8 8)\"\n    />\n  </svg>\n);\n\n// Order status timeline\nconst OrderTimeline = ({ order }) => {\n  const statuses = [\n    { key: 'pending', label: 'Order Placed', icon: '📋' },\n    { key: 'confirmed', label: 'Confirmed', icon: '✅' },\n    { key: 'processing', label: 'Processing', icon: '⚙️' },\n    { key: 'shipped', label: 'Shipped', icon: '🚚' },\n    { key: 'delivered', label: 'Delivered', icon: '📦' },\n    { key: 'cancelled', label: 'Cancelled', icon: '❌' }\n  ];\n\n  // Calculate overall order status based on item fulfillment statuses\n  const calculateOverallStatus = (order) => {\n    if (!order?.items || order.items.length === 0) {\n      return order?.status || 'pending';\n    }\n\n    const itemStatuses = order.items.map(item => item.fulfillment_status?.toLowerCase());\n    \n    // Priority order: cancelled > delivered > shipped > processing > confirmed > pending\n    if (itemStatuses.includes('cancelled')) {\n      return 'cancelled';\n    } else if (itemStatuses.includes('delivered')) {\n      return 'delivered';\n    } else if (itemStatuses.includes('shipped')) {\n      return 'shipped';\n    } else if (itemStatuses.includes('processing')) {\n      return 'processing';\n    } else if (itemStatuses.includes('confirmed')) {\n      return 'confirmed';\n    } else {\n      return 'pending';\n    }\n  };\n\n  const overallStatus = calculateOverallStatus(order);\n  const currentStatusIndex = statuses.findIndex(s => s.key === overallStatus.toLowerCase());\n\n  return (\n    <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Order Status</h3>\n      <div className=\"space-y-4\">\n        {statuses.map((status, index) => {\n          // Only show cancelled status if the order is actually cancelled\n          if (status.key === 'cancelled' && overallStatus !== 'cancelled') {\n            return null;\n          }\n          \n          const isCompleted = index <= currentStatusIndex;\n          const isCurrent = index === currentStatusIndex;\n          const isCancelled = status.key === 'cancelled';\n          \n          return (\n            <div key={status.key} className=\"flex items-center\">\n              <div className={`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm ${\n                isCancelled \n                  ? 'bg-red-100 text-red-800 border-2 border-red-200'\n                  : isCompleted \n                  ? 'bg-green-100 text-green-800 border-2 border-green-200' \n                  : 'bg-gray-100 text-gray-400 border-2 border-gray-200'\n              }`}>\n                {status.icon}\n              </div>\n              <div className=\"ml-4 flex-1\">\n                <p className={`font-medium ${isCompleted ? 'text-gray-900' : 'text-gray-400'}`}>\n                  {status.label}\n                </p>\n                {isCurrent && !isCancelled && (\n                  <p className=\"text-sm text-green-600 font-medium\">Current Status</p>\n                )}\n                {isCurrent && isCancelled && (\n                  <p className=\"text-sm text-red-600 font-medium\">Order Cancelled</p>\n                )}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\n// Order item component\nconst OrderItem = ({ item }) => {\n  // Get consistent product image\n  const getProductImage = () => {\n    if (item.product?.image) return item.product.image;\n    if (item.product?.images && item.product.images.length > 0) {\n      return item.product.images[0].url;\n    }\n    return item.image || '/placeholder-product.jpg';\n  };\n\n  // Get consistent product name\n  const getProductName = () => {\n    return item.product_name || item.product?.name || item.name || 'Product';\n  };\n\n  // Get fulfillment status color\n  const getFulfillmentStatusColor = (status) => {\n    switch (status?.toLowerCase()) {\n      case 'delivered':\n        return 'bg-green-100 text-green-800';\n      case 'shipped':\n        return 'bg-blue-100 text-blue-800';\n      case 'processing':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'confirmed':\n        return 'bg-purple-100 text-purple-800';\n      case 'cancelled':\n        return 'bg-red-100 text-red-800';\n      case 'pending':\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  return (\n    <div className=\"flex items-center space-x-4 p-4 border-b border-gray-200 last:border-b-0\">\n      <div className=\"flex-shrink-0\">\n        <img\n          src={getProductImage()}\n          alt={getProductName()}\n          className=\"w-16 h-16 object-cover rounded-lg\"\n        />\n      </div>\n      <div className=\"flex-1 min-w-0\">\n        <h4 className=\"text-sm font-medium text-gray-900 truncate\">\n          {getProductName()}\n        </h4>\n        <p className=\"text-sm text-gray-500\">\n          Quantity: {item.quantity}\n        </p>\n        <div className=\"mt-2\">\n          <span className={`inline-flex px-2 py-1 text-xs font-medium rounded-full ${getFulfillmentStatusColor(item.fulfillment_status)}`}>\n            {item.fulfillment_status || 'Pending'}\n          </span>\n        </div>\n      </div>\n      <div className=\"flex-shrink-0\">\n        <p className=\"text-sm font-semibold text-gray-900\">\n          ₹{((item.unit_price || item.price || 0) * item.quantity).toFixed(2)}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default function OrderDetailsPage() {\n  const router = useRouter();\n  const params = useParams();\n  const orderNumber = params.orderId; // This is actually the order_number from URL\n  const { orders, loadOrders, loadOrderDetails: loadOrderDetailsFromHook, loadOrderPayments, createReturn, loading } = useOrders();\n  const { isLoggedIn, userProfile, isLoading, isClient } = useAuth();\n  const [order, setOrder] = useState(null);\n  const [payments, setPayments] = useState([]);\n  const [showReturnModal, setShowReturnModal] = useState(false);\n  const [orderId, setOrderId] = useState(null); // Store the actual order_id\n\n  // Calculate overall order status based on item fulfillment statuses\n  const calculateOverallStatus = (order) => {\n    if (!order?.items || order.items.length === 0) {\n      return order?.status || 'pending';\n    }\n\n    const itemStatuses = order.items.map(item => item.fulfillment_status?.toLowerCase());\n    \n    // Priority order: cancelled > delivered > shipped > processing > confirmed > pending\n    if (itemStatuses.includes('cancelled')) {\n      return 'cancelled';\n    } else if (itemStatuses.includes('delivered')) {\n      return 'delivered';\n    } else if (itemStatuses.includes('shipped')) {\n      return 'shipped';\n    } else if (itemStatuses.includes('processing')) {\n      return 'processing';\n    } else if (itemStatuses.includes('confirmed')) {\n      return 'confirmed';\n    } else {\n      return 'pending';\n    }\n  };\n\n  const overallStatus = order ? calculateOverallStatus(order) : 'pending';\n\n  useEffect(() => {\n    console.log('OrderDetailsPage: Auth state - isLoggedIn:', isLoggedIn, 'userProfile:', !!userProfile, 'isLoading:', isLoading, 'isClient:', isClient, 'orderNumber:', orderNumber);\n    \n    if (isClient && !isLoading) {\n      if (isLoggedIn && userProfile && orderNumber) {\n        console.log('OrderDetailsPage: Loading order details...');\n        // Load orders first if not loaded\n        if (orders.length === 0) {\n          loadOrders(1, 100).then(() => {\n            loadOrderDetails();\n          });\n        } else {\n          loadOrderDetails();\n        }\n      } else if (!isLoggedIn) {\n        console.log('OrderDetailsPage: Not logged in, redirecting to login...');\n        router.push('/login');\n      }\n    }\n  }, [isLoggedIn, userProfile, orderNumber, isLoading, isClient, orders]);\n\n  // Auto-refresh order status for active orders\n  useEffect(() => {\n    if (!order || !orderId) return;\n\n    const shouldAutoRefresh = ['pending', 'confirmed', 'processing', 'shipped'].includes(overallStatus.toLowerCase()) && overallStatus !== 'cancelled';\n    \n    if (!shouldAutoRefresh) return;\n\n    const interval = setInterval(() => {\n      console.log('Auto-refreshing order status...');\n      loadOrderDetails();\n    }, 60000); // Refresh every 60 seconds\n\n    return () => clearInterval(interval);\n  }, [overallStatus, orderId]);\n\n  const loadOrderDetails = async () => {\n    try {\n      // If orders are not loaded yet, load them first\n      if (orders.length === 0) {\n        console.log('Loading orders to find order with number:', orderNumber);\n        await loadOrders(1, 100); // Load more orders to ensure we find the right one\n      }\n      \n      // Find the order with matching order_number from the loaded orders\n      const matchingOrder = orders.find(order => order.order_number === orderNumber);\n      \n      if (!matchingOrder) {\n        console.error('Order not found with order_number:', orderNumber, 'Available orders:', orders.map(o => o.order_number));\n        return;\n      }\n      \n      const actualOrderId = matchingOrder.id;\n      console.log('Found order with ID:', actualOrderId);\n      setOrderId(actualOrderId);\n      \n      // Now load the order details using the actual order_id\n      const orderDetails = await loadOrderDetailsFromHook(actualOrderId);\n      console.log('Order details loaded:', orderDetails);\n      console.log('Order status:', orderDetails?.status);\n      setOrder(orderDetails);\n      \n      // Load payment details\n      const paymentDetails = await loadOrderPayments(actualOrderId);\n      setPayments(paymentDetails);\n    } catch (error) {\n      console.error('Error loading order details:', error);\n    }\n  };\n\n  const handleGoBack = () => {\n    router.push('/account/dashboard');\n  };\n\n  const handleInitiateReturn = async () => {\n    try {\n      if (!orderId) return;\n      await createReturn(orderId, {\n        reason: 'Product not as described',\n        comment: 'Requesting return'\n      });\n      setShowReturnModal(false);\n      loadOrderDetails(); // Refresh order data\n    } catch (error) {\n      console.error('Error initiating return:', error);\n    }\n  };\n\n  const handleTrackOrder = () => {\n    // Navigate to tracking page\n    console.log('handleTrackOrder called with orderId:', orderId);\n    if (orderId) {\n      router.push(`/account/orders/${orderId}/track`);\n    } else {\n      console.error('orderId is not available for tracking');\n    }\n  };\n\n  if (!isClient || isLoading) {\n    return (\n      <div className=\"min-h-screen\">\n        <Navbar />\n        <div className=\"flex justify-center items-center py-12\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900\"></div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  if (!isLoggedIn) {\n    return null; // Will redirect to login\n  }\n\n  if (loading || !order) {\n    return (\n      <div className=\"min-h-screen\">\n        <Navbar />\n        <div className=\"flex justify-center items-center py-12\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900\"></div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navbar />\n      \n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"mb-6\">\n          <button \n            onClick={handleGoBack}\n            className=\"bg-white border border-gray-300 rounded-md px-4 py-2 flex items-center gap-2 hover:bg-gray-50 transition-colors text-sm mb-4\"\n          >\n            <ArrowLeftIcon />\n            <span className=\"font-medium\">Back to Orders</span>\n          </button>\n          \n          <div className=\"flex justify-between items-start\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">\n                Order #{order.order_number || order.id}\n              </h1>\n              <p className=\"text-gray-600\">\n                Placed on {new Date(order.created_at).toLocaleDateString()}\n              </p>\n            </div>\n            <div className=\"flex gap-3\">\n              <button\n                onClick={loadOrderDetails}\n                disabled={loading}\n                className=\"bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700 transition-colors disabled:opacity-50\"\n              >\n                {loading ? 'Refreshing...' : 'Refresh Status'}\n              </button>\n              {['pending', 'confirmed', 'processing', 'shipped'].includes(overallStatus.toLowerCase()) && overallStatus !== 'cancelled' && (\n                <button\n                  onClick={handleTrackOrder}\n                  className=\"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors\"\n                >\n                  Track Order\n                </button>\n              )}\n              {overallStatus === 'delivered' && (\n                <button\n                  onClick={() => setShowReturnModal(true)}\n                  className=\"bg-gray-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-700 transition-colors\"\n                >\n                  Return Items\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid gap-6 lg:grid-cols-3\">\n          {/* Left Column */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {/* Order Items */}\n            <div className=\"bg-white rounded-lg border border-gray-200\">\n              <div className=\"p-6 border-b border-gray-200\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">Order Items</h3>\n              </div>\n              <div>\n                {order.items?.map((item, index) => (\n                  <OrderItem key={index} item={item} />\n                ))}\n              </div>\n            </div>\n\n            {/* Shipping Address */}\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Shipping Address</h3>\n              <div className=\"text-sm text-gray-600\">\n                <p className=\"font-medium text-gray-900\">\n                  {order.shipping_address?.first_name} {order.shipping_address?.last_name}\n                </p>\n                <p>{order.shipping_address?.address_line_1}</p>\n                {order.shipping_address?.address_line_2 && (\n                  <p>{order.shipping_address?.address_line_2}</p>\n                )}\n                <p>\n                  {order.shipping_address?.city}, {order.shipping_address?.state} {order.shipping_address?.postal_code}\n                </p>\n                <p>{order.shipping_address?.country}</p>\n                {order.shipping_address?.phone && (\n                  <p className=\"mt-2\">Phone: {order.shipping_address?.phone}</p>\n                )}\n              </div>\n            </div>\n\n            {/* Payment Information */}\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Payment Information</h3>\n              {payments.length > 0 ? (\n                <div className=\"space-y-2\">\n                  {payments.map((payment, index) => (\n                    <div key={index} className=\"flex justify-between text-sm\">\n                      <span className=\"text-gray-600\">\n                        {payment.payment_method} - {payment.status}\n                      </span>\n                      <span className=\"font-medium\">₹{payment.amount?.toFixed(2)}</span>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <p className=\"text-sm text-gray-600\">Payment information not available</p>\n              )}\n            </div>\n          </div>\n\n          {/* Right Column */}\n          <div className=\"space-y-6\">\n            {/* Order Timeline */}\n            <OrderTimeline order={order} />\n\n            {/* Order Summary */}\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Order Summary</h3>\n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Subtotal:</span>\n                  <span>₹{(order.subtotal || 0).toFixed(2)}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Shipping:</span>\n                  <span>₹{(order.shipping_amount || 0).toFixed(2)}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Tax:</span>\n                  <span>₹{(order.tax_amount || 0).toFixed(2)}</span>\n                </div>\n                <div className=\"border-t border-gray-200 pt-2 mt-2\">\n                  <div className=\"flex justify-between font-semibold\">\n                    <span>Total:</span>\n                    <span>₹{(order.total_amount || order.total || 0).toFixed(2)}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Return Modal */}\n      {showReturnModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n          <div className=\"bg-white rounded-lg max-w-md w-full p-6\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Return Items</h3>\n            <p className=\"text-sm text-gray-600 mb-6\">\n              Are you sure you want to initiate a return for this order? This action cannot be undone.\n            </p>\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => setShowReturnModal(false)}\n                className=\"flex-1 bg-gray-200 text-gray-800 py-2 px-4 rounded-md text-sm font-medium hover:bg-gray-300 transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleInitiateReturn}\n                className=\"flex-1 bg-red-600 text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-red-700 transition-colors\"\n              >\n                Confirm Return\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <Footer />\n    </div>\n  );\n}\n","path":null,"size_bytes":19061,"size_tokens":null},"src/components/checkout/CheckoutSummary.jsx":{"content":"\"use client\";\n\nimport { useState } from \"react\";\n\nexport default function CheckoutSummary({ cartItems = [], subtotal = 0, shipping = 0, total = 0, onPlaceOrder }) {\n  const [paymentMethod, setPaymentMethod] = useState(\"cod\");\n  const [agreeToPolicies, setAgreeToPolicies] = useState(false);\n\n  const handlePlaceOrder = () => {\n    if (!agreeToPolicies) {\n      alert('Please agree to the Terms & Conditions, Privacy Policy, and Refund Policy to proceed with the payment.');\n      return;\n    }\n\n    onPlaceOrder && onPlaceOrder({\n      paymentMethod,\n      cartItems,\n      total\n    });\n  };\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg border border-[#e6e6e6] sticky top-6\">\n      {/* Order Summary */}\n      <div className=\"space-y-6\">\n        <div className=\"space-y-3\">\n          <h3 className=\"font-poppins font-medium text-[#1a1a1a] text-xl\">\n            Order Summary\n          </h3>\n          \n          {/* Product List */}\n          <div className=\"space-y-4\">\n            {cartItems.map((item) => (\n              <div key={item.id} className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-1.5\">\n                  <div \n                    className=\"w-[60px] h-[60px] bg-center bg-cover bg-no-repeat rounded\"\n                    style={{ backgroundImage: `url('${item.product?.images?.[0]?.url || '/placeholder-product.jpg'}')` }}\n                  />\n                  <div className=\"flex flex-col\">\n                    <span className=\"font-poppins text-[#1a1a1a] text-sm\">\n                      {item.product?.name || 'Product'}\n                    </span>\n                    <span className=\"font-poppins text-[#1a1a1a] text-sm\">\n                      x {item.quantity || 1}\n                    </span>\n                  </div>\n                </div>\n                <div className=\"font-poppins font-medium text-[#1a1a1a] text-sm\">\n                  ₹{((item.unit_price || 0) * (item.quantity || 1)).toFixed(2)}\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* Totals */}\n          <div className=\"space-y-1\">\n            {/* Subtotal */}\n            <div className=\"flex items-center justify-between py-3 border-t border-[#e6e6e6]\">\n              <span className=\"font-poppins text-[#4d4d4d] text-sm\">\n                Subtotal:\n              </span>\n              <span className=\"font-poppins font-medium text-[#1a1a1a] text-sm\">\n                ₹{subtotal.toFixed(2)}\n              </span>\n            </div>\n            \n            {/* Shipping */}\n            <div className=\"flex items-center justify-between py-3 border-t border-[#e6e6e6]\">\n              <span className=\"font-poppins text-[#4d4d4d] text-sm\">\n                Shipping:\n              </span>\n              <span className=\"font-poppins font-medium text-[#1a1a1a] text-sm\">\n                {shipping === 0 ? \"Free\" : `₹${shipping.toFixed(2)}`}\n              </span>\n            </div>\n            \n            {/* Total */}\n            <div className=\"flex items-center justify-between pt-3\">\n              <span className=\"font-poppins text-[#4d4d4d] text-base\">\n                Total:\n              </span>\n              <span className=\"font-poppins font-semibold text-[#1a1a1a] text-lg\">\n                ₹{total.toFixed(2)}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        {/* Payment Method */}\n        <div className=\"space-y-4\">\n          <h3 className=\"font-poppins font-medium text-[#1a1a1a] text-xl\">\n            Payment Method\n          </h3>\n          \n          <div className=\"space-y-2.5\">\n            {/* Cash on Delivery */}\n            <div className=\"flex items-center gap-1.5\">\n              <div className=\"relative\">\n                <input\n                  type=\"radio\"\n                  id=\"cod\"\n                  name=\"paymentMethod\"\n                  value=\"cod\"\n                  checked={paymentMethod === \"cod\"}\n                  onChange={(e) => setPaymentMethod(e.target.value)}\n                  className=\"w-5 h-5 sr-only\"\n                />\n                <div className=\"w-5 h-5 bg-white border-2 border-[#272727] rounded-full flex items-center justify-center\">\n                  {paymentMethod === \"cod\" && (\n                    <div className=\"w-2 h-2 bg-[#272727] rounded-full\" />\n                  )}\n                </div>\n              </div>\n              <label \n                htmlFor=\"cod\" \n                className=\"font-poppins text-[#4d4d4d] text-sm cursor-pointer\"\n              >\n                Cash on Delivery\n              </label>\n            </div>\n            \n            {/* PayPal */}\n            <div className=\"flex items-center gap-1.5\">\n              <div className=\"relative\">\n                <input\n                  type=\"radio\"\n                  id=\"paypal\"\n                  name=\"paymentMethod\"\n                  value=\"paypal\"\n                  checked={paymentMethod === \"paypal\"}\n                  onChange={(e) => setPaymentMethod(e.target.value)}\n                  className=\"w-5 h-5 sr-only\"\n                />\n                <div className=\"w-5 h-5 bg-white border border-[#cccccc] rounded-full flex items-center justify-center\">\n                  {paymentMethod === \"paypal\" && (\n                    <div className=\"w-2 h-2 bg-[#272727] rounded-full\" />\n                  )}\n                </div>\n              </div>\n              <label \n                htmlFor=\"paypal\" \n                className=\"font-poppins text-[#4d4d4d] text-sm cursor-pointer\"\n              >\n                Paypal\n              </label>\n            </div>\n            \n            {/* Amazon Pay */}\n            <div className=\"flex items-center gap-1.5\">\n              <div className=\"relative\">\n                <input\n                  type=\"radio\"\n                  id=\"amazon\"\n                  name=\"paymentMethod\"\n                  value=\"amazon\"\n                  checked={paymentMethod === \"amazon\"}\n                  onChange={(e) => setPaymentMethod(e.target.value)}\n                  className=\"w-5 h-5 sr-only\"\n                />\n                <div className=\"w-5 h-5 bg-white border border-[#cccccc] rounded-full flex items-center justify-center\">\n                  {paymentMethod === \"amazon\" && (\n                    <div className=\"w-2 h-2 bg-[#272727] rounded-full\" />\n                  )}\n                </div>\n              </div>\n              <label \n                htmlFor=\"amazon\" \n                className=\"font-poppins text-[#4c4c4c] text-sm cursor-pointer\"\n              >\n                Amazon Pay\n              </label>\n            </div>\n          </div>\n        </div>\n\n        {/* Policy Agreement */}\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n          <div className=\"flex items-start space-x-3\">\n            <input\n              type=\"checkbox\"\n              id=\"policy-agreement-cart\"\n              checked={agreeToPolicies}\n              onChange={(e) => setAgreeToPolicies(e.target.checked)}\n              className=\"mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded\"\n            />\n            <div className=\"flex-1\">\n              <label htmlFor=\"policy-agreement-cart\" className=\"text-sm text-gray-700 cursor-pointer\">\n                I have reviewed the{' '}\n                <a\n                  href=\"/TermsandConditions\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-green-600 hover:text-green-800 underline\"\n                >\n                  Terms & Conditions\n                </a>\n                ,{' '}\n                <a\n                  href=\"/PrivacyPolicy\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-green-600 hover:text-green-800 underline\"\n                >\n                  Privacy Policy\n                </a>\n                ,{' '}\n                <a\n                  href=\"/RefundsandCancellation\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-green-600 hover:text-green-800 underline\"\n                >\n                  Shipping & Delivery and Refunds & Cancellation\n                </a>{' '}\n                policies and I agree to proceed with the payment.\n              </label>\n            </div>\n          </div>\n        </div>\n\n        {/* Place Order Button */}\n        <button\n          onClick={handlePlaceOrder}\n          disabled={!agreeToPolicies}\n          className=\"w-full bg-[#272727] text-white font-poppins font-semibold text-base py-4 rounded-[43px] hover:bg-[#1a1a1a] transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          Place Order\n        </button>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":8854,"size_tokens":null},"src/app/admin/login/page.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { EyeIcon, EyeSlashIcon } from \"@heroicons/react/24/outline\";\n\nexport default function AdminLogin() {\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [showPassword, setShowPassword] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  \n  const { login, user } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (user && user.user_role === \"admin\") {\n      router.push(\"/admin/dashboard\");\n    }\n  }, [user, router]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      await login(formData.email, formData.password);\n      // Redirect will happen in useEffect\n    } catch (err) {\n      setError(err.message || \"Login failed. Please check your credentials.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (e) => {\n    setFormData(prev => ({\n      ...prev,\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-emerald-50 to-green-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        {/* Header */}\n        <div className=\"text-center\">\n          <div className=\"mx-auto h-16 w-16 bg-emerald-600 rounded-full flex items-center justify-center\">\n            <span className=\"text-white font-bold text-xl\">AE</span>\n          </div>\n          <h2 className=\"mt-6 text-3xl font-bold text-gray-900\">\n            Admin Login\n          </h2>\n          <p className=\"mt-2 text-sm text-gray-600\">\n            Sign in to access the admin dashboard\n          </p>\n        </div>\n\n        {/* Login Form */}\n        <div className=\"bg-white py-8 px-6 shadow-xl rounded-lg\">\n          <form className=\"space-y-6\" onSubmit={handleSubmit}>\n            {error && (\n              <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n                <p className=\"text-sm text-red-600\">{error}</p>\n              </div>\n            )}\n\n            <div>\n              <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700\">\n                Email Address\n              </label>\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                required\n                value={formData.email}\n                onChange={handleChange}\n                className=\"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm\"\n                placeholder=\"admin@aveoearth.com\"\n              />\n            </div>\n\n            <div>\n              <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n                Password\n              </label>\n              <div className=\"mt-1 relative\">\n                <input\n                  id=\"password\"\n                  name=\"password\"\n                  type={showPassword ? \"text\" : \"password\"}\n                  autoComplete=\"current-password\"\n                  required\n                  value={formData.password}\n                  onChange={handleChange}\n                  className=\"appearance-none relative block w-full px-3 py-2 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-emerald-500 focus:border-emerald-500 focus:z-10 sm:text-sm\"\n                  placeholder=\"Enter your password\"\n                />\n                <button\n                  type=\"button\"\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center\"\n                  onClick={() => setShowPassword(!showPassword)}\n                >\n                  {showPassword ? (\n                    <EyeSlashIcon className=\"h-5 w-5 text-gray-400\" />\n                  ) : (\n                    <EyeIcon className=\"h-5 w-5 text-gray-400\" />\n                  )}\n                </button>\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center\">\n                <input\n                  id=\"remember-me\"\n                  name=\"remember-me\"\n                  type=\"checkbox\"\n                  className=\"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded\"\n                />\n                <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-gray-900\">\n                  Remember me\n                </label>\n              </div>\n\n              <div className=\"text-sm\">\n                <a href=\"#\" className=\"font-medium text-emerald-600 hover:text-emerald-500\">\n                  Forgot your password?\n                </a>\n              </div>\n            </div>\n\n            <div>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-emerald-600 hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {loading ? (\n                  <>\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                    Signing in...\n                  </>\n                ) : (\n                  \"Sign in\"\n                )}\n              </button>\n            </div>\n          </form>\n        </div>\n\n        {/* Footer */}\n        <div className=\"text-center\">\n          <p className=\"text-sm text-gray-600\">\n            Not an admin?{\" \"}\n            <a href=\"/\" className=\"font-medium text-emerald-600 hover:text-emerald-500\">\n              Go to main site\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}","path":null,"size_bytes":6198,"size_tokens":null},"src/components/admin/AdminSidebar.jsx":{"content":"\"use client\";\n\nimport { \n  Squares2X2Icon,\n  TruckIcon,\n  CubeIcon,\n  ShoppingBagIcon,\n  UsersIcon,\n  ChartBarIcon,\n  Cog6ToothIcon,\n  ArrowRightOnRectangleIcon\n} from \"@heroicons/react/24/outline\";\n\nconst menuItems = [\n  { \n    name: \"Dashboard\", \n    key: \"dashboard\", \n    icon: Squares2X2Icon \n  },\n  { \n    name: \"Analytics\", \n    key: \"analytics\", \n    icon: ChartBarIcon \n  },\n  { \n    name: \"Users\", \n    key: \"users\", \n    icon: UsersIcon \n  },\n  { \n    name: \"Suppliers\", \n    key: \"suppliers\", \n    icon: TruckIcon \n  },\n  { \n    name: \"Products\", \n    key: \"products\", \n    icon: CubeIcon \n  },\n  { \n    name: \"Orders\", \n    key: \"orders\", \n    icon: ShoppingBagIcon \n  },\n];\n\nconst bottomItems = [\n  { \n    name: \"Settings\", \n    key: \"settings\", \n    icon: Cog6ToothIcon \n  },\n  { \n    name: \"Logout\", \n    key: \"logout\", \n    icon: ArrowRightOnRectangleIcon \n  },\n];\n\nexport default function AdminSidebar({ activeScreen, onScreenChange }) {\n  const handleItemClick = (key) => {\n    if (key === \"logout\") {\n      // Handle logout logic here\n      window.location.href = \"/admin/login\";\n    } else {\n      onScreenChange(key);\n    }\n  };\n\n  return (\n    <div className=\"fixed left-0 top-0 bottom-0 w-60 bg-white border-r border-gray-300 flex flex-col\">\n      {/* Logo */}\n      <div className=\"p-6 border-b border-gray-200\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-8 h-8 bg-[#1a4032] rounded-md flex items-center justify-center\">\n            <span className=\"text-white font-bold text-sm\">AE</span>\n          </div>\n          <div className=\"text-xl font-semibold text-black\">AveoEarth</div>\n        </div>\n      </div>\n      \n      {/* Main Navigation */}\n      <nav className=\"flex-1 px-6 py-8\">\n        <div className=\"space-y-2\">\n          {menuItems.map((item) => {\n            const IconComponent = item.icon;\n            return (\n              <button\n                key={item.key}\n                onClick={() => handleItemClick(item.key)}\n                className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-semibold transition-colors ${\n                  activeScreen === item.key\n                    ? \"bg-[#1b6145] text-white\"\n                    : \"text-gray-700 hover:bg-gray-100\"\n                }`}\n              >\n                <IconComponent className=\"h-5 w-5\" />\n                {item.name}\n              </button>\n            );\n          })}\n        </div>\n        \n        {/* Bottom Section */}\n        <div className=\"mt-12 pt-8 border-t border-gray-200\">\n          <div className=\"space-y-2\">\n            {bottomItems.map((item) => {\n              const IconComponent = item.icon;\n              return (\n                <button\n                  key={item.key}\n                  onClick={() => handleItemClick(item.key)}\n                  className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-semibold transition-colors ${\n                    activeScreen === item.key\n                      ? \"bg-[#1b6145] text-white\"\n                      : \"text-gray-700 hover:bg-gray-100\"\n                  }`}\n                >\n                  <IconComponent className=\"h-5 w-5\" />\n                  {item.name}\n                </button>\n              );\n            })}\n          </div>\n        </div>\n      </nav>\n    </div>\n  );\n}\n","path":null,"size_bytes":3351,"size_tokens":null},"src/components/vendor/RecentOrders.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport supplierOrdersService from '../../services/supplierOrdersService';\n\n// Asset constants from Figma\nconst imgIconChevronDown = \"http://localhost:3845/assets/857beec8fb96e976198bd409c96f30f532c8bdc4.svg\";\n\nexport default function RecentOrders() {\n  const [selectedTab, setSelectedTab] = useState('recent');\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchRecentOrders = async () => {\n      try {\n        setLoading(true);\n        const result = await supplierOrdersService.getOrders({ \n          page: 1, \n          page_size: 5 \n        });\n        setOrders(result?.items || []);\n      } catch (error) {\n        console.error('Failed to fetch recent orders:', error);\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (selectedTab === 'recent') {\n      fetchRecentOrders();\n    }\n  }, [selectedTab]);\n\n  const getStatusStyle = (status) => {\n    const statusMap = {\n      'pending': { bg: '#fbbf24', text: '#000000' },\n      'confirmed': { bg: '#10b981', text: '#ffffff' },\n      'processing': { bg: '#3b82f6', text: '#ffffff' },\n      'shipped': { bg: '#8b5cf6', text: '#ffffff' },\n      'delivered': { bg: '#059669', text: '#ffffff' },\n      'cancelled': { bg: '#ef4444', text: '#ffffff' },\n      'returned': { bg: '#6b7280', text: '#ffffff' }\n    };\n    \n    return statusMap[status?.toLowerCase()] || { bg: '#cecece', text: '#000000' };\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(amount || 0);\n  };\n\n  const formatOrderId = (id) => {\n    return `ORD-${id?.slice(-6)?.toUpperCase() || 'XXXXXX'}`;\n  };\n\n  return (\n    <div className=\"px-4 sm:px-7\">\n      {/* Tab Selector */}\n      <div className=\"bg-[#e9e9e9] h-[34px] rounded-[20px] w-full sm:w-[284px] overflow-hidden mb-4 sm:mb-6 relative\">\n        {/* Active tab background */}\n        <div className=\"absolute bg-white h-6 left-1.5 rounded-[20px] top-1/2 translate-y-[-50%] w-[120px] sm:w-[138px]\">\n          <div className=\"absolute font-['Reem_Kufi'] font-medium text-[10px] sm:text-[12px] text-black text-center top-1/2 translate-y-[-50%] w-full\">\n            Recent Orders\n          </div>\n        </div>\n        \n        {/* Inactive tab */}\n        <div className=\"absolute font-['Reem_Kufi'] font-medium text-[10px] sm:text-[12px] text-black text-center top-1/2 translate-y-[-50%] left-[140px] sm:left-[170px]\">\n          Low Stock Items\n        </div>\n      </div>\n\n      {/* Recent Orders Section */}\n      <div className=\"bg-white rounded-[14px] border border-[#c6c6c6] p-4 sm:p-7\">\n        {/* Header */}\n        <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-start mb-4 sm:mb-6 gap-4 sm:gap-0\">\n          <div>\n            {/* Title */}\n            <div className=\"font-['Inter'] font-semibold text-[16px] sm:text-[16px] text-black mb-1\">\n              Recent Orders\n            </div>\n            <div className=\"font-['Inter'] font-medium text-[14px] sm:text-[15px] text-[#909090]\">\n              Your Latest Customer Orders\n            </div>\n          </div>\n          \n          {/* Month selector */}\n          <div className=\"w-20\">\n            <div className=\"bg-[#fcfdfd] border-[0.6px] border-[#818181] rounded-[4px] px-2 py-1 flex items-center justify-between\">\n              <span className=\"font-['Reem_Kufi'] font-normal text-[12px] text-[rgba(0,0,0,0.4)]\">October</span>\n              <img alt=\"\" className=\"w-3 h-3\" src={imgIconChevronDown} />\n            </div>\n          </div>\n        </div>\n\n        {/* Order Items */}\n        <div className=\"space-y-4\">\n          {loading ? (\n            <div className=\"space-y-4\">\n              {[1, 2, 3].map((i) => (\n                <div key={i} className=\"bg-white rounded-[14px] border-[0.7px] border-[#989898] p-4\">\n                  <div className=\"animate-pulse flex items-center justify-between\">\n                    <div className=\"flex flex-col gap-2 min-w-[120px]\">\n                      <div className=\"h-4 bg-gray-200 rounded w-20\"></div>\n                      <div className=\"h-4 bg-gray-200 rounded w-16\"></div>\n                    </div>\n                    <div className=\"flex-1 px-6\">\n                      <div className=\"h-3 bg-gray-200 rounded w-32 mb-1\"></div>\n                      <div className=\"h-3 bg-gray-200 rounded w-48\"></div>\n                    </div>\n                    <div className=\"flex items-center gap-4\">\n                      <div className=\"h-4 bg-gray-200 rounded w-16\"></div>\n                      <div className=\"h-8 bg-gray-200 rounded w-20\"></div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : error ? (\n            <div className=\"text-center py-8\">\n              <p className=\"text-red-500\">Failed to load orders: {error}</p>\n            </div>\n          ) : orders.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <p className=\"text-gray-500\">No recent orders found</p>\n            </div>\n          ) : (\n            orders.map((order, index) => {\n              const statusStyle = getStatusStyle(order.fulfillment_status);\n              return (\n                <div key={order.id || index} className=\"bg-white rounded-[14px] border-[0.7px] border-[#989898] p-4\">\n                  {/* Mobile Layout */}\n                  <div className=\"block sm:hidden\">\n                    <div className=\"flex justify-between items-start mb-3\">\n                      <div className=\"flex flex-col gap-1\">\n                        <div className=\"font-['Poppins'] font-medium text-[14px] text-black\">\n                          {formatOrderId(order.order_id)}\n                        </div>\n                        <div \n                          className=\"h-[18px] rounded-[4px] px-2 flex items-center justify-center text-center inline-flex w-fit\"\n                          style={{ \n                            backgroundColor: statusStyle.bg,\n                            minWidth: \"60px\"\n                          }}\n                        >\n                          <span \n                            className=\"font-['Poppins'] font-medium text-[10px] capitalize\"\n                            style={{ color: statusStyle.text }}\n                          >\n                            {order.fulfillment_status}\n                          </span>\n                        </div>\n                      </div>\n                      <div className=\"font-['Poppins'] font-medium text-[14px] text-black\">\n                        {formatCurrency(order.total_price)}\n                      </div>\n                    </div>\n                    <div className=\"mb-3\">\n                      <div className=\"font-['Poppins'] font-medium text-[12px] text-[#8b8b8b] mb-1\">\n                        SKU: {order.sku}\n                      </div>\n                      <div className=\"font-['Poppins'] font-medium text-[12px] text-[#010101]\">\n                        {order.product_name}\n                        {order.variant_title && ` - ${order.variant_title}`}\n                      </div>\n                      <div className=\"font-['Poppins'] font-medium text-[11px] text-[#666666] mt-1\">\n                        Qty: {order.quantity}\n                      </div>\n                    </div>\n                    <div className=\"flex justify-end\">\n                      <button \n                        className=\"bg-white h-[31px] w-[82px] rounded-[5px] border-[0.5px] border-[#666666] flex items-center justify-center hover:bg-gray-50 transition-colors\"\n                        onClick={() => {\n                          // Navigate to order details or open modal\n                          console.log('View order details:', order.id);\n                        }}\n                      >\n                        <span className=\"font-['Poppins'] font-normal text-[12px] text-black\">\n                          View Detail\n                        </span>\n                      </button>\n                    </div>\n                  </div>\n\n                  {/* Desktop Layout */}\n                  <div className=\"hidden sm:flex items-center justify-between\">\n                    {/* Left section - Order ID and Status */}\n                    <div className=\"flex flex-col gap-2 min-w-[120px]\">\n                      <div className=\"font-['Poppins'] font-medium text-[14px] text-black\">\n                        {formatOrderId(order.order_id)}\n                      </div>\n                      \n                      {/* Status badge */}\n                      <div \n                        className=\"h-[18px] rounded-[4px] px-3 flex items-center justify-center text-center inline-flex w-fit\"\n                        style={{ \n                          backgroundColor: statusStyle.bg,\n                          minWidth: \"75px\"\n                        }}\n                      >\n                        <span \n                          className=\"font-['Poppins'] font-medium text-[10px] capitalize\"\n                          style={{ color: statusStyle.text }}\n                        >\n                          {order.fulfillment_status}\n                        </span>\n                      </div>\n                    </div>\n                    \n                    {/* Middle section - Product and Details */}\n                    <div className=\"flex-1 px-6\">\n                      <div className=\"font-['Poppins'] font-medium text-[12px] text-[#8b8b8b] mb-1\">\n                        SKU: {order.sku}\n                      </div>\n                      <div className=\"font-['Poppins'] font-medium text-[12px] text-[#010101]\">\n                        {order.product_name}\n                        {order.variant_title && ` - ${order.variant_title}`}\n                      </div>\n                      <div className=\"font-['Poppins'] font-medium text-[11px] text-[#666666] mt-1\">\n                        Qty: {order.quantity}\n                      </div>\n                    </div>\n                    \n                    {/* Right section - Amount and Button */}\n                    <div className=\"flex items-center gap-4\">\n                      <div className=\"font-['Poppins'] font-medium text-[14px] text-black\">\n                        {formatCurrency(order.total_price)}\n                      </div>\n                      \n                      {/* View Detail Button */}\n                      <button \n                        className=\"bg-white h-[31px] w-[82px] rounded-[5px] border-[0.5px] border-[#666666] flex items-center justify-center hover:bg-gray-50 transition-colors\"\n                        onClick={() => {\n                          // Navigate to order details or open modal\n                          console.log('View order details:', order.id);\n                        }}\n                      >\n                        <span className=\"font-['Poppins'] font-normal text-[12px] text-black\">\n                          View Detail\n                        </span>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              );\n            })\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":11428,"size_tokens":null},"src/app/privacy/page.jsx":{"content":"export const metadata = { title: \"Privacy Policy\" };\n\nexport default function PrivacyPage() {\n  return (\n    <div className=\"container mx-auto px-4 py-10\">\n      <h1 className=\"text-3xl font-semibold mb-3\">Privacy Policy</h1>\n      <p className=\"text-neutral-600\">Placeholder for your privacy policy.</p>\n    </div>\n  );\n}\n\n\n","path":null,"size_bytes":325,"size_tokens":null},"src/components/checkout/CheckoutForm.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport AddressSelector from \"../address/AddressSelector\";\n\nconst ChevronDownIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path \n      d=\"M4 6L8 10L12 6\" \n      stroke=\"currentColor\" \n      strokeWidth=\"1.5\" \n      strokeLinecap=\"round\" \n      strokeLinejoin=\"round\"\n    />\n  </svg>\n);\n\nexport default function CheckoutForm({ onFormUpdate }) {\n  const [useAddressSelector, setUseAddressSelector] = useState(true);\n  const [selectedBillingAddress, setSelectedBillingAddress] = useState(null);\n  const [selectedShippingAddress, setSelectedShippingAddress] = useState(null);\n  const [formData, setFormData] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    companyName: \"\",\n    streetAddress: \"\",\n    city: \"\",\n    country: \"\",\n    state: \"\",\n    postalCode: \"\",\n    email: \"\",\n    phone: \"\",\n    orderNotes: \"\",\n    shipToDifferentAddress: false\n  });\n\n  const handleInputChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n  };\n\n  // Convert address object to form format\n  const convertAddressToFormData = (address) => {\n    if (!address) return {};\n    \n    return {\n      firstName: address.first_name || \"\",\n      lastName: address.last_name || \"\", \n      companyName: address.company || \"\",\n      streetAddress: address.address_line_1 || \"\",\n      addressLine2: address.address_line_2 || \"\",\n      city: address.city || \"\",\n      country: address.country || \"\",\n      state: address.state || \"\",\n      postalCode: address.postal_code || \"\",\n      email: address.email || \"\",\n      phone: address.phone || \"\"\n    };\n  };\n\n  // Handle billing address selection\n  const handleBillingAddressSelect = (address) => {\n    setSelectedBillingAddress(address);\n    if (address) {\n      const addressFormData = convertAddressToFormData(address);\n      setFormData(prev => ({ ...prev, ...addressFormData }));\n    }\n  };\n\n  // Handle shipping address selection  \n  const handleShippingAddressSelect = (address) => {\n    setSelectedShippingAddress(address);\n  };\n\n  // Toggle between address selector and manual form\n  const toggleAddressSelector = () => {\n    setUseAddressSelector(!useAddressSelector);\n    if (useAddressSelector) {\n      // Reset selected addresses when switching to manual\n      setSelectedBillingAddress(null);\n      setSelectedShippingAddress(null);\n    }\n  };\n\n  // Emit form changes to parent\n  useEffect(() => {\n    if (onFormUpdate) {\n      let billingAddress;\n      \n      if (useAddressSelector && selectedBillingAddress) {\n        // Use selected address\n        billingAddress = {\n          firstName: selectedBillingAddress.first_name,\n          lastName: selectedBillingAddress.last_name,\n          companyName: selectedBillingAddress.company || \"\",\n          streetAddress: selectedBillingAddress.address_line_1,\n          addressLine2: selectedBillingAddress.address_line_2 || \"\",\n          city: selectedBillingAddress.city,\n          state: selectedBillingAddress.state,\n          country: selectedBillingAddress.country,\n          postalCode: selectedBillingAddress.postal_code,\n          email: selectedBillingAddress.email,\n          phone: selectedBillingAddress.phone\n        };\n      } else {\n        // Use manual form data\n        billingAddress = {\n          firstName: formData.firstName,\n          lastName: formData.lastName,\n          companyName: formData.companyName,\n          streetAddress: formData.streetAddress,\n          addressLine2: formData.addressLine2 || \"\",\n          city: formData.city || '',\n          state: formData.state,\n          country: formData.country,\n          postalCode: formData.postalCode || '',\n          email: formData.email,\n          phone: formData.phone\n        };\n      }\n\n      let shippingAddress = billingAddress; // Default to same as billing\n      \n      if (formData.shipToDifferentAddress) {\n        if (useAddressSelector && selectedShippingAddress) {\n          shippingAddress = {\n            firstName: selectedShippingAddress.first_name,\n            lastName: selectedShippingAddress.last_name,\n            companyName: selectedShippingAddress.company || \"\",\n            streetAddress: selectedShippingAddress.address_line_1,\n            addressLine2: selectedShippingAddress.address_line_2 || \"\",\n            city: selectedShippingAddress.city,\n            state: selectedShippingAddress.state,\n            country: selectedShippingAddress.country,\n            postalCode: selectedShippingAddress.postal_code,\n            email: selectedShippingAddress.email,\n            phone: selectedShippingAddress.phone\n          };\n        }\n        // If manual form, we'll need separate shipping form fields (not implemented in this version)\n      }\n\n      onFormUpdate({\n        billingAddress,\n        shippingAddress,\n        orderNotes: formData.orderNotes,\n        shipToDifferentAddress: formData.shipToDifferentAddress\n      });\n    }\n  }, [formData, selectedBillingAddress, selectedShippingAddress, useAddressSelector, onFormUpdate]);\n\n  return (\n    <div className=\"flex flex-col gap-8\">\n      {/* Billing Information */}\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <h2 className=\"font-poppins font-medium text-[#1a1a1a] text-2xl\">\n            Billing Information\n          </h2>\n          <button\n            type=\"button\"\n            onClick={toggleAddressSelector}\n            className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\n          >\n            {useAddressSelector ? 'Enter manually' : 'Use saved address'}\n          </button>\n        </div>\n\n        {useAddressSelector ? (\n          <AddressSelector\n            title=\"Select Billing Address\"\n            addressType=\"billing\"\n            selectedAddress={selectedBillingAddress}\n            onAddressSelect={handleBillingAddressSelect}\n          />\n        ) : (\n          <div className=\"space-y-6\">\n            {/* Name Fields Row */}\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          {/* First Name */}\n          <div className=\"flex flex-col gap-2\">\n            <label className=\"font-poppins text-[#1a1a1a] text-sm\">\n              First name\n            </label>\n            <input\n              type=\"text\"\n              name=\"firstName\"\n              value={formData.firstName}\n              onChange={handleInputChange}\n              placeholder=\"Your first name\"\n              className=\"bg-white h-[49px] px-4 py-3.5 rounded-md border border-[#e6e6e6] font-poppins text-[#999999] text-base focus:outline-none focus:border-[#272727]\"\n            />\n          </div>\n          \n          {/* Last Name */}\n          <div className=\"flex flex-col gap-2\">\n            <label className=\"font-poppins text-[#1a1a1a] text-sm\">\n              Last name\n            </label>\n            <input\n              type=\"text\"\n              name=\"lastName\"\n              value={formData.lastName}\n              onChange={handleInputChange}\n              placeholder=\"Your last name\"\n              className=\"bg-white h-[49px] px-4 py-3.5 rounded-md border border-[#e6e6e6] font-poppins text-[#999999] text-base focus:outline-none focus:border-[#272727]\"\n            />\n          </div>\n          \n          {/* Company Name */}\n          <div className=\"flex flex-col gap-2\">\n            <label className=\"font-poppins text-[#1a1a1a] text-sm\">\n              Company Name <span className=\"text-[grey]\">(optional)</span>\n            </label>\n            <input\n              type=\"text\"\n              name=\"companyName\"\n              value={formData.companyName}\n              onChange={handleInputChange}\n              placeholder=\"Company name\"\n              className=\"bg-white h-[49px] px-4 py-3.5 rounded-md border border-[#e6e6e6] font-poppins text-[#999999] text-base focus:outline-none focus:border-[#272727]\"\n            />\n          </div>\n        </div>\n\n        {/* Street Address */}\n        <div className=\"flex flex-col gap-2\">\n          <label className=\"font-poppins text-[#1a1a1a] text-sm\">\n            Street Address\n          </label>\n          <input\n            type=\"text\"\n            name=\"streetAddress\"\n            value={formData.streetAddress}\n            onChange={handleInputChange}\n            placeholder=\"Street address\"\n            className=\"bg-white h-[49px] px-4 py-3.5 rounded-md border border-[#e6e6e6] font-poppins text-[#999999] text-base focus:outline-none focus:border-[#272727] w-full\"\n          />\n        </div>\n\n        {/* Country and State Row */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {/* Country */}\n          <div className=\"flex flex-col gap-2\">\n            <label className=\"font-poppins text-[#1a1a1a] text-sm\">\n              Country / Region\n            </label>\n            <div className=\"relative\">\n              <select\n                name=\"country\"\n                value={formData.country}\n                onChange={handleInputChange}\n                className=\"bg-white h-[49px] px-4 py-3.5 rounded-md border border-[#e6e6e6] font-poppins text-[#999999] text-base focus:outline-none focus:border-[#272727] w-full appearance-none\"\n              >\n                <option value=\"\">Select</option>\n                <option value=\"india\">India</option>\n                <option value=\"usa\">United States</option>\n                <option value=\"uk\">United Kingdom</option>\n              </select>\n              <div className=\"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none\">\n                <ChevronDownIcon />\n              </div>\n            </div>\n          </div>\n          \n          {/* State */}\n          <div className=\"flex flex-col gap-2\">\n            <label className=\"font-poppins text-[#1a1a1a] text-sm\">\n              States\n            </label>\n            <div className=\"relative\">\n              <select\n                name=\"state\"\n                value={formData.state}\n                onChange={handleInputChange}\n                className=\"bg-white h-[49px] px-4 py-3.5 rounded-md border border-[#e6e6e6] font-poppins text-[#999999] text-base focus:outline-none focus:border-[#272727] w-full appearance-none\"\n              >\n                <option value=\"\">Select State</option>\n                <option value=\"andhra-pradesh\">Andhra Pradesh</option>\n                <option value=\"arunachal-pradesh\">Arunachal Pradesh</option>\n                <option value=\"assam\">Assam</option>\n                <option value=\"bihar\">Bihar</option>\n                <option value=\"chhattisgarh\">Chhattisgarh</option>\n                <option value=\"goa\">Goa</option>\n                <option value=\"gujarat\">Gujarat</option>\n                <option value=\"haryana\">Haryana</option>\n                <option value=\"himachal-pradesh\">Himachal Pradesh</option>\n                <option value=\"jharkhand\">Jharkhand</option>\n                <option value=\"karnataka\">Karnataka</option>\n                <option value=\"kerala\">Kerala</option>\n                <option value=\"madhya-pradesh\">Madhya Pradesh</option>\n                <option value=\"maharashtra\">Maharashtra</option>\n                <option value=\"manipur\">Manipur</option>\n                <option value=\"meghalaya\">Meghalaya</option>\n                <option value=\"mizoram\">Mizoram</option>\n                <option value=\"nagaland\">Nagaland</option>\n                <option value=\"odisha\">Odisha</option>\n                <option value=\"punjab\">Punjab</option>\n                <option value=\"rajasthan\">Rajasthan</option>\n                <option value=\"sikkim\">Sikkim</option>\n                <option value=\"tamil-nadu\">Tamil Nadu</option>\n                <option value=\"telangana\">Telangana</option>\n                <option value=\"tripura\">Tripura</option>\n                <option value=\"uttar-pradesh\">Uttar Pradesh</option>\n                <option value=\"uttarakhand\">Uttarakhand</option>\n                <option value=\"west-bengal\">West Bengal</option>\n                <option value=\"andaman-nicobar\">Andaman and Nicobar Islands</option>\n                <option value=\"chandigarh\">Chandigarh</option>\n                <option value=\"dadra-nagar-haveli-daman-diu\">Dadra and Nagar Haveli and Daman and Diu</option>\n                <option value=\"delhi\">Delhi</option>\n                <option value=\"jammu-kashmir\">Jammu and Kashmir</option>\n                <option value=\"ladakh\">Ladakh</option>\n                <option value=\"lakshadweep\">Lakshadweep</option>\n                <option value=\"puducherry\">Puducherry</option>\n              </select>\n              <div className=\"absolute right-4 top-1/2 transform -translate-y-1/2 pointer-events-none\">\n                <ChevronDownIcon />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* City and Postal Code Row */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {/* City */}\n          <div className=\"flex flex-col gap-2\">\n            <label className=\"font-poppins text-[#1a1a1a] text-sm\">\n              City\n            </label>\n            <input\n              type=\"text\"\n              name=\"city\"\n              value={formData.city}\n              onChange={handleInputChange}\n              placeholder=\"City\"\n              className=\"bg-white h-[49px] px-4 py-3.5 rounded-md border border-[#e6e6e6] font-poppins text-[#999999] text-base focus:outline-none focus:border-[#272727]\"\n            />\n          </div>\n          \n          {/* Postal Code */}\n          <div className=\"flex flex-col gap-2\">\n            <label className=\"font-poppins text-[#1a1a1a] text-sm\">\n              Postal Code\n            </label>\n            <input\n              type=\"text\"\n              name=\"postalCode\"\n              value={formData.postalCode}\n              onChange={handleInputChange}\n              placeholder=\"Postal Code\"\n              className=\"bg-white h-[49px] px-4 py-3.5 rounded-md border border-[#e6e6e6] font-poppins text-[#999999] text-base focus:outline-none focus:border-[#272727]\"\n            />\n          </div>\n        </div>\n\n        {/* Email and Phone Row */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {/* Email */}\n          <div className=\"flex flex-col gap-2\">\n            <label className=\"font-poppins text-[#1a1a1a] text-sm\">\n              Email\n            </label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              value={formData.email}\n              onChange={handleInputChange}\n              placeholder=\"Email Address\"\n              className=\"bg-white h-[49px] px-4 py-3.5 rounded-md border border-[#e6e6e6] font-poppins text-[#999999] text-base focus:outline-none focus:border-[#272727]\"\n            />\n          </div>\n          \n          {/* Phone */}\n          <div className=\"flex flex-col gap-2\">\n            <label className=\"font-poppins text-[#1a1a1a] text-sm\">\n              Phone\n            </label>\n            <input\n              type=\"tel\"\n              name=\"phone\"\n              value={formData.phone}\n              onChange={handleInputChange}\n              placeholder=\"Phone number\"\n              className=\"bg-white h-[49px] px-4 py-3.5 rounded-md border border-[#e6e6e6] font-poppins text-[#999999] text-base focus:outline-none focus:border-[#272727]\"\n            />\n          </div>\n        </div>\n\n        {/* Ship to Different Address Checkbox */}\n        <div className=\"flex items-center gap-1.5\">\n          <input\n            type=\"checkbox\"\n            id=\"shipToDifferentAddress\"\n            name=\"shipToDifferentAddress\"\n            checked={formData.shipToDifferentAddress}\n            onChange={handleInputChange}\n            className=\"w-5 h-5 border border-[#cccccc] rounded-sm\"\n          />\n          <label \n            htmlFor=\"shipToDifferentAddress\" \n            className=\"font-poppins text-[#4d4d4d] text-sm cursor-pointer\"\n          >\n            Ship to a different address\n          </label>\n            </div>\n          </div>\n        )}\n\n        {/* Ship to Different Address Option */}\n        {formData.shipToDifferentAddress && useAddressSelector && (\n          <AddressSelector\n            title=\"Select Shipping Address\"\n            addressType=\"shipping\"\n            selectedAddress={selectedShippingAddress}\n            onAddressSelect={handleShippingAddressSelect}\n          />\n        )}\n      </div>\n\n      {/* Divider */}\n      <hr className=\"border-[#e6e6e6]\" />\n\n      {/* Additional Info */}\n      <div className=\"space-y-5\">\n        <h2 className=\"font-poppins font-medium text-[#1a1a1a] text-2xl\">\n          Additional Info\n        </h2>\n        \n        <div className=\"flex flex-col gap-2\">\n          <label className=\"font-poppins text-[#1a1a1a] text-sm\">\n            Order Notes (Optional)\n          </label>\n          <textarea\n            name=\"orderNotes\"\n            value={formData.orderNotes}\n            onChange={handleInputChange}\n            placeholder=\"Notes about your order, e.g. special notes for delivery\"\n            rows={4}\n            className=\"bg-white p-4 rounded-md border border-[#e6e6e6] font-poppins text-[#999999] text-base focus:outline-none focus:border-[#272727] resize-none\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":17428,"size_tokens":null},"src/components/ai/DraggableChatModal.jsx":{"content":"\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { chatService } from \"../../services/chatService\";\n\n// Simple SVG Icons\nconst XIcon = () => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nconst SendIcon = () => (\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <line x1=\"22\" y1=\"2\" x2=\"11\" y2=\"13\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <polygon points=\"22,2 15,22 11,13 2,9 22,2\" fill=\"currentColor\"/>\n  </svg>\n);\n\nconst BotIcon = () => (\n  <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"3\" y=\"11\" width=\"18\" height=\"10\" rx=\"2\" ry=\"2\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\"/>\n    <circle cx=\"12\" cy=\"5\" r=\"2\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\"/>\n    <path d=\"M12 7v4\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n    <line x1=\"8\" y1=\"16\" x2=\"8\" y2=\"16\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n    <line x1=\"16\" y1=\"16\" x2=\"16\" y2=\"16\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n  </svg>\n);\n\nconst MinimizeIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\n  </svg>\n);\n\nconst DraggableChatModal = ({ isOpen, onClose, userType = \"buyer\", initialPosition = null }) => {\n  const [messages, setMessages] = useState([\n    {\n      id: 1,\n      role: \"assistant\",\n      content: userType === \"supplier\" \n        ? \"Hello! I'm your AveoEarth AI assistant for suppliers. I can help you manage products, track orders, analyze performance, and provide business insights. How can I assist you today?\"\n        : \"Hello! I'm your AveoEarth AI assistant. I can help you search for products, manage your cart, track orders, and much more. How can I assist you today?\",\n      timestamp: new Date()\n    }\n  ]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [sessionId, setSessionId] = useState(null);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const [position, setPosition] = useState(initialPosition || { x: 50, y: 50 });\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\n  \n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n  const modalRef = useRef(null);\n  const headerRef = useRef(null);\n\n  // Theme colors based on user type\n  const theme = userType === \"supplier\" \n    ? { primary: \"#1b6145\", secondary: \"#22c55e\", light: \"#dcfce7\" }\n    : { primary: \"#76c7c0\", secondary: \"#6bb5ae\", light: \"#f0fdfa\" };\n\n  // Dragging functionality\n  const handleMouseDown = (e) => {\n    if (headerRef.current && headerRef.current.contains(e.target)) {\n      setIsDragging(true);\n      const rect = modalRef.current.getBoundingClientRect();\n      setDragOffset({\n        x: e.clientX - rect.left,\n        y: e.clientY - rect.top\n      });\n    }\n  };\n\n  const handleMouseMove = (e) => {\n    if (isDragging) {\n      const newX = e.clientX - dragOffset.x;\n      const newY = e.clientY - dragOffset.y;\n      \n      // Keep modal within viewport bounds\n      const modalWidth = 400;\n      const modalHeight = isMinimized ? 60 : 500;\n      const maxX = window.innerWidth - modalWidth;\n      const maxY = window.innerHeight - modalHeight;\n      \n      setPosition({\n        x: Math.max(0, Math.min(newX, maxX)),\n        y: Math.max(0, Math.min(newY, maxY))\n      });\n    }\n  };\n\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  useEffect(() => {\n    if (isDragging) {\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n      \n      return () => {\n        document.removeEventListener('mousemove', handleMouseMove);\n        document.removeEventListener('mouseup', handleMouseUp);\n      };\n    }\n  }, [isDragging, dragOffset]);\n\n  // Auto-scroll to bottom when new messages arrive\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Focus input when modal opens\n  useEffect(() => {\n    if (isOpen && !isMinimized && inputRef.current) {\n      setTimeout(() => {\n        inputRef.current.focus();\n      }, 100);\n    }\n  }, [isOpen, isMinimized]);\n\n  // Generate session ID on first load\n  useEffect(() => {\n    if (!sessionId) {\n      // Fallback UUID generation for browsers that don't support crypto.randomUUID()\n      const generateUUID = () => {\n        if (typeof crypto !== 'undefined' && crypto.randomUUID) {\n          return crypto.randomUUID();\n        }\n        // Fallback UUID v4 generation\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n          const r = Math.random() * 16 | 0;\n          const v = c === 'x' ? r : (r & 0x3 | 0x8);\n          return v.toString(16);\n        });\n      };\n      setSessionId(generateUUID());\n    }\n  }, []);\n\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim() || isLoading) return;\n\n    const userMessage = {\n      id: Date.now(),\n      role: \"user\",\n      content: inputMessage.trim(),\n      timestamp: new Date()\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setInputMessage(\"\");\n    setIsLoading(true);\n\n    try {\n      // Get user token if available\n      const userToken = localStorage.getItem('accessToken');\n      \n      const response = await chatService.sendMessage({\n        message: userMessage.content,\n        user_token: userToken,\n        session_id: sessionId,\n        user_type: userType\n      });\n\n      const aiMessage = {\n        id: Date.now() + 1,\n        role: \"assistant\",\n        content: response.response,\n        timestamp: new Date(),\n        function_calls: response.function_calls\n      };\n\n      setMessages(prev => [...prev, aiMessage]);\n      \n      // Update session ID if provided\n      if (response.session_id) {\n        setSessionId(response.session_id);\n      }\n    } catch (error) {\n      console.error('Chat error:', error);\n      const errorMessage = {\n        id: Date.now() + 1,\n        role: \"assistant\",\n        content: \"I'm sorry, I'm having trouble connecting right now. Please try again in a moment.\",\n        timestamp: new Date(),\n        isError: true\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const formatTime = (timestamp) => {\n    return new Date(timestamp).toLocaleTimeString('en-US', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div \n      ref={modalRef}\n      className=\"fixed bg-white rounded-lg shadow-2xl border border-gray-200 flex flex-col transition-all duration-200 resize overflow-hidden\"\n      style={{ \n        left: `${position.x}px`,\n        top: `${position.y}px`,\n        width: '400px',\n        height: isMinimized ? '60px' : '500px',\n        minWidth: '300px',\n        minHeight: '200px',\n        maxWidth: '800px',\n        maxHeight: '600px',\n        zIndex: 9999,\n          cursor: isDragging ? 'grabbing' : 'default'\n        }}\n        onMouseDown={handleMouseDown}\n      >\n        {/* Header */}\n        <div \n          ref={headerRef}\n          className={`flex items-center justify-between p-3 border-b border-gray-200 rounded-t-lg cursor-grab active:cursor-grabbing`}\n          style={{ backgroundColor: theme.light }}\n        >\n          <div className=\"flex items-center gap-2\">\n            <div \n              className=\"w-6 h-6 rounded-full flex items-center justify-center\"\n              style={{ backgroundColor: theme.primary }}\n            >\n              <BotIcon />\n            </div>\n            <div>\n              <h3 className=\"text-sm font-semibold text-gray-900\">\n                AI Assistant {userType === \"supplier\" ? \"- Supplier\" : \"\"}\n              </h3>\n              <p className=\"text-xs text-gray-500\">Online</p>\n            </div>\n          </div>\n          <div className=\"flex items-center gap-1\">\n            <button\n              onClick={() => setIsMinimized(!isMinimized)}\n              className=\"p-1 hover:bg-gray-200 rounded-full transition-colors\"\n              title={isMinimized ? \"Maximize\" : \"Minimize\"}\n            >\n              <MinimizeIcon />\n            </button>\n            <button\n              onClick={onClose}\n              className=\"p-1 hover:bg-gray-200 rounded-full transition-colors\"\n              title=\"Close\"\n            >\n              <XIcon />\n            </button>\n          </div>\n        </div>\n\n        {/* Messages - Hidden when minimized */}\n        {!isMinimized && (\n          <>\n            <div className=\"flex-1 overflow-y-auto p-3 space-y-3\" style={{ backgroundColor: theme.light }}>\n              {messages.map((message) => (\n                <div\n                  key={message.id}\n                  className={`flex ${message.role === 'user' ? 'justify-end' : 'justify-start'}`}\n                >\n                  <div className={`max-w-[85%] ${message.role === 'user' ? 'order-2' : 'order-1'}`}>\n                    {message.role === 'assistant' && (\n                      <div className=\"flex items-center gap-1 mb-1\">\n                        <div \n                          className=\"w-4 h-4 rounded-full flex items-center justify-center\"\n                          style={{ backgroundColor: theme.primary }}\n                        >\n                          <BotIcon />\n                        </div>\n                        <span className=\"text-xs text-gray-500\">AI</span>\n                      </div>\n                    )}\n                    <div\n                      className={`rounded-lg px-3 py-2 ${\n                        message.role === 'user'\n                          ? 'text-white'\n                          : message.isError\n                          ? 'bg-red-100 text-red-800 border border-red-200'\n                          : 'bg-white text-gray-900 border border-gray-200'\n                      }`}\n                      style={message.role === 'user' ? { backgroundColor: theme.primary } : {}}\n                    >\n                      <p className=\"text-xs whitespace-pre-wrap\">{message.content}</p>\n                      {message.function_calls && message.function_calls.length > 0 && (\n                        <div className=\"mt-1 pt-1 border-t border-gray-200\">\n                          <p className=\"text-xs text-gray-600\">\n                            Executed {message.function_calls.length} action(s)\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                    <div className={`text-xs text-gray-400 mt-1 ${message.role === 'user' ? 'text-right' : 'text-left'}`}>\n                      {formatTime(message.timestamp)}\n                    </div>\n                  </div>\n                </div>\n              ))}\n              \n              {isLoading && (\n                <div className=\"flex justify-start\">\n                  <div className=\"max-w-[85%]\">\n                    <div className=\"flex items-center gap-1 mb-1\">\n                      <div \n                        className=\"w-4 h-4 rounded-full flex items-center justify-center\"\n                        style={{ backgroundColor: theme.primary }}\n                      >\n                        <BotIcon />\n                      </div>\n                      <span className=\"text-xs text-gray-500\">AI</span>\n                    </div>\n                    <div className=\"bg-white border border-gray-200 rounded-lg px-3 py-2\">\n                      <div className=\"flex items-center gap-1\">\n                        <div className=\"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce\"></div>\n                        <div className=\"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\n                        <div className=\"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n              <div ref={messagesEndRef} />\n            </div>\n\n            {/* Input */}\n            <div className=\"border-t border-gray-200 p-3 bg-white rounded-b-lg\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"flex-1 relative\">\n                  <textarea\n                    ref={inputRef}\n                    value={inputMessage}\n                    onChange={(e) => setInputMessage(e.target.value)}\n                    onKeyPress={handleKeyPress}\n                    placeholder=\"Type a message...\"\n                    className=\"w-full px-3 py-2 text-xs border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-1 focus:border-transparent\"\n                    style={{ \n                      maxHeight: '60px',\n                      focusRingColor: theme.primary\n                    }}\n                    rows=\"1\"\n                    disabled={isLoading}\n                  />\n                </div>\n                <button\n                  onClick={handleSendMessage}\n                  disabled={!inputMessage.trim() || isLoading}\n                  className={`p-2 rounded-lg transition-colors ${\n                    inputMessage.trim() && !isLoading\n                      ? 'text-white'\n                      : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                  }`}\n                  style={inputMessage.trim() && !isLoading ? { \n                    backgroundColor: theme.primary,\n                    ':hover': { backgroundColor: theme.secondary }\n                  } : {}}\n                >\n                  <SendIcon />\n                </button>\n              </div>\n              <p className=\"text-xs text-gray-500 mt-1\">\n                {userType === \"supplier\" \n                  ? \"Ask about products, orders, analytics, or business insights!\"\n                  : \"Ask about products, orders, or account help!\"\n                }\n              </p>\n            </div>\n          </>\n        )}\n        \n        {/* Resize Handle - Hidden when minimized */}\n        {!isMinimized && (\n          <div \n            className=\"absolute bottom-0 right-0 w-4 h-4 cursor-se-resize opacity-50 hover:opacity-100 transition-opacity\"\n            style={{ \n              background: `linear-gradient(-45deg, transparent 30%, ${theme.primary} 30%, ${theme.primary} 40%, transparent 40%, transparent 60%, ${theme.primary} 60%, ${theme.primary} 70%, transparent 70%)`,\n              borderBottomRightRadius: '8px'\n            }}\n            title=\"Resize\"\n          />\n        )}\n      </div>\n  );\n};\n\nexport default DraggableChatModal;\n","path":null,"size_bytes":15438,"size_tokens":null},"src/components/vendor/onboarding/Step1BasicInfo.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { auth, tokens } from '../../../lib/api';\nimport { countryCodes } from '../../../lib/countryCodes';\nimport TermsModal from '../../../components/ui/TermsModal';\n\nexport default function Step1BasicInfo({ formData, handleChange, onValidation, onStepComplete }) {\n  const router = useRouter();\n  const [errors, setErrors] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [otpSent, setOtpSent] = useState(false);\n  const [otpCode, setOtpCode] = useState('');\n  const [dialCode, setDialCode] = useState(\"+91\");\n  const [showLogin, setShowLogin] = useState(false);\n  const [loginData, setLoginData] = useState({ email: '', password: '' });\n  const [isTermsModalOpen, setIsTermsModalOpen] = useState(false);\n\n  // Validate form data when it changes\n  useEffect(() => {\n    const validateCurrentData = () => {\n      if (showLogin) {\n        // Login validation\n        const loginValidation = {\n          email: !loginData.email?.trim() ? \"Email is required\" : \n                 !/\\S+@\\S+\\.\\S+/.test(loginData.email) ? \"Invalid email format\" : undefined,\n          password: !loginData.password ? \"Password is required\" : undefined,\n        };\n        \n        const stepErrors = Object.fromEntries(\n          Object.entries(loginValidation).filter(([_, value]) => value !== undefined)\n        );\n        setErrors(stepErrors);\n        if (onValidation) {\n          onValidation(Object.keys(stepErrors).length === 0);\n        }\n        return;\n      }\n\n      // Signup validation (removed businessName)\n      const currentStepValidation = {\n        contactPerson: !formData.contactPerson?.trim() ? \"Contact person is required\" : undefined,\n        email: !formData.email?.trim() ? \"Email is required\" : \n               !/\\S+@\\S+\\.\\S+/.test(formData.email) ? \"Invalid email format\" : undefined,\n        phone: !formData.phone?.trim() ? \"Phone number is required\" : undefined,\n        password: !formData.password || formData.password.length < 8 ? \"Password must be at least 8 characters\" : undefined,\n        agreeToTerms: !formData.agreeToTerms ? \"You must agree to terms and conditions\" : undefined,\n      };\n\n      if (otpSent && !otpCode.trim()) {\n        currentStepValidation.otpCode = \"OTP verification is required\";\n      }\n\n      const stepErrors = Object.fromEntries(\n        Object.entries(currentStepValidation).filter(([_, value]) => value !== undefined)\n      );\n\n      setErrors(stepErrors);\n      \n      // Notify parent about validation status\n      if (onValidation) {\n        onValidation(Object.keys(stepErrors).length === 0 && (!otpSent || otpCode.length === 6));\n      }\n    };\n\n    validateCurrentData();\n  }, [formData, otpCode, otpSent, showLogin, loginData, onValidation]);\n\n  const handleSignup = async () => {\n    if (Object.keys(errors).length > 0) return;\n\n    setIsLoading(true);\n    try {\n      const phone = `${dialCode}${formData.phone?.replace(/\\s+/g, '')}`;\n      \n      // Prepare signup payload for seller\n      const payload = {\n        email: formData.email.trim(),\n        password: formData.password,\n        phone: phone,\n        first_name: formData.contactPerson.split(' ')[0] || formData.contactPerson,\n        last_name: formData.contactPerson.split(' ').slice(1).join(' ') || '',\n        user_type: 'supplier', // Set as supplier/seller\n      };\n\n      console.debug(\"[Seller Signup] Payload:\", { ...payload, password: `***(${payload.password.length})` });\n      \n      const result = await auth.signup(payload);\n      console.log(\"[Seller Signup] Success:\", result);\n      \n      if (result?.tokens) {\n        tokens.set(result.tokens);\n      }\n      \n      // Send OTP\n      try {\n        console.log(\"[OTP Send] Attempting to send OTP to:\", phone);\n        await auth.sendOtp(phone);\n        console.log(\"[OTP Send] Success\");\n        setOtpSent(true);\n        setErrors({});\n      } catch (otpError) {\n        console.error(\"[OTP Send] Error:\", otpError);\n        console.error(\"[OTP Send] Error details:\", {\n          message: otpError.message,\n          status: otpError.status,\n          data: otpError.data\n        });\n        \n        // If OTP fails, we can either:\n        // 1. Show error and let user retry\n        // 2. Skip OTP for now and proceed (for testing)\n        \n        // For now, let's show an error but allow proceeding without OTP\n        setErrors({ \n          general: `Signup successful! However, OTP sending failed: ${otpError.message}. You can proceed to the next step.` \n        });\n        \n        // Auto-proceed to next step after 3 seconds\n        setTimeout(() => {\n          if (onStepComplete) {\n            onStepComplete();\n          }\n        }, 3000);\n      }\n      \n    } catch (error) {\n      console.error(\"[Seller Signup] Error:\", error);\n      setErrors({ general: error.message || 'Signup failed' });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleVerifyOtp = async () => {\n    if (!otpCode || otpCode.length !== 6) {\n      setErrors({ otpCode: \"Please enter a valid 6-digit OTP\" });\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const phone = `${dialCode}${formData.phone?.replace(/\\s+/g, '')}`;\n      await auth.verifyOtp(phone, otpCode);\n      \n      // OTP verified successfully - move to next step\n      setErrors({});\n      if (onStepComplete) {\n        onStepComplete();\n      }\n      \n    } catch (error) {\n      console.error(\"[OTP Verification] Error:\", error);\n      setErrors({ otpCode: error.message || 'Invalid or expired OTP' });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleLogin = async () => {\n    if (Object.keys(errors).length > 0) return;\n\n    setIsLoading(true);\n    try {\n      const result = await auth.login(loginData.email, loginData.password);\n      if (result?.tokens) {\n        tokens.set(result.tokens);\n      }\n      \n      // Check user type and onboarding status\n      const userProfile = await auth.getProfile(result.tokens.access_token);\n      if (userProfile.user_type !== 'supplier') {\n        setErrors({ general: 'This login is only for suppliers. Please use buyer login instead.' });\n        return;\n      }\n\n      // Check onboarding status via API\n      try {\n        const API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:8000\";\n        const statusResponse = await fetch(`${API_BASE}/supplier/onboarding/status`, {\n          headers: { 'Authorization': `Bearer ${result.tokens.access_token}` }\n        });\n        const status = await statusResponse.json();\n        \n        if (status.supplier_business) {\n          // Business already exists, redirect to dashboard\n          router.push('/vendor/dashboard');\n        } else {\n          // No business profile, continue with onboarding\n          setErrors({});\n          if (onStepComplete) {\n            onStepComplete();\n          }\n        }\n      } catch (statusError) {\n        // If status check fails, assume needs onboarding\n        setErrors({});\n        if (onStepComplete) {\n          onStepComplete();\n        }\n      }\n\n    } catch (error) {\n      console.error(\"[Supplier Login] Error:\", error);\n      setErrors({ general: error.message || 'Login failed' });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleResendOtp = async () => {\n    setIsLoading(true);\n    try {\n      const phone = `${dialCode}${formData.phone?.replace(/\\s+/g, '')}`;\n      await auth.sendOtp(phone);\n      setErrors({});\n    } catch (error) {\n      console.error(\"[Resend OTP] Error:\", error);\n      setErrors({ general: error.message || 'Failed to resend OTP' });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex justify-center items-center py-8\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#12b74f]\"></div>\n        <span className=\"ml-2 text-[#1a4032]\">\n          {otpSent ? 'Verifying OTP...' : showLogin ? 'Logging in...' : 'Creating your account...'}\n        </span>\n      </div>\n    );\n  }\n\n  // Show login form if user chooses to login\n  if (showLogin) {\n    return (\n      <div className=\"max-w-md mx-auto\">\n        <div className=\"text-center mb-6\">\n          <h3 className=\"text-xl font-semibold text-[#1a4032] mb-2\">Login to Continue Onboarding</h3>\n          <p className=\"text-[#666666]\">\n            Enter your supplier account credentials\n          </p>\n        </div>\n\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-[#1a4032] mb-2\">Email Address</label>\n            <input\n              type=\"email\"\n              value={loginData.email}\n              onChange={(e) => setLoginData(prev => ({ ...prev, email: e.target.value }))}\n              placeholder=\"Enter your email\"\n              className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3\n                       font-semibold text-[16px] text-[#1a4032] focus:outline-none transition-all\n                       ${errors.email ? 'border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n            />\n            {errors.email && (\n              <p className=\"text-red-500 text-sm mt-1\">{errors.email}</p>\n            )}\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-[#1a4032] mb-2\">Password</label>\n            <input\n              type=\"password\"\n              value={loginData.password}\n              onChange={(e) => setLoginData(prev => ({ ...prev, password: e.target.value }))}\n              placeholder=\"Enter your password\"\n              className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3\n                       font-semibold text-[16px] text-[#1a4032] focus:outline-none transition-all\n                       ${errors.password ? 'border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n            />\n            {errors.password && (\n              <p className=\"text-red-500 text-sm mt-1\">{errors.password}</p>\n            )}\n          </div>\n\n          {errors.general && (\n            <div className=\"text-red-500 text-sm text-center\">{errors.general}</div>\n          )}\n\n          <button\n            onClick={handleLogin}\n            disabled={isLoading || Object.keys(errors).length > 0}\n            className=\"w-full bg-[#12b74f] hover:bg-[#0e9c42] disabled:bg-gray-400 text-white py-3 rounded-[8px] font-semibold transition-colors mb-4\"\n          >\n            {isLoading ? 'Logging in...' : 'Login'}\n          </button>\n\n          <div className=\"text-center\">\n            <button\n              onClick={() => setShowLogin(false)}\n              className=\"text-[#12b74f] hover:text-[#0e9c42] font-semibold\"\n            >\n              Back to Sign Up\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Show OTP verification if OTP has been sent\n  if (otpSent) {\n    return (\n      <div className=\"max-w-md mx-auto\">\n        <div className=\"text-center mb-6\">\n          <h3 className=\"text-xl font-semibold text-[#1a4032] mb-2\">Verify Your Phone Number</h3>\n          <p className=\"text-[#666666]\">\n            Enter the 6-digit code sent to {dialCode}{formData.phone}\n          </p>\n        </div>\n\n        <div className=\"space-y-4\">\n          <div>\n            <input\n              type=\"text\"\n              value={otpCode}\n              onChange={(e) => setOtpCode(e.target.value.replace(/\\D/g, '').slice(0, 6))}\n              placeholder=\"Enter 6-digit OTP\"\n              className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 text-center text-xl tracking-widest\n                       font-semibold text-[#1a4032] focus:outline-none transition-all\n                       ${errors.otpCode ? 'border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n              maxLength=\"6\"\n            />\n            {errors.otpCode && (\n              <p className=\"text-red-500 text-sm mt-1\">{errors.otpCode}</p>\n            )}\n          </div>\n\n          {errors.general && (\n            <div className=\"text-red-500 text-sm text-center\">{errors.general}</div>\n          )}\n\n          <button\n            onClick={handleVerifyOtp}\n            disabled={isLoading || otpCode.length !== 6}\n            className=\"w-full bg-[#12b74f] hover:bg-[#0e9c42] disabled:bg-gray-400 text-white py-3 rounded-[8px] font-semibold transition-colors\"\n          >\n            Verify OTP\n          </button>\n\n          <div className=\"text-center space-y-2\">\n            <button\n              onClick={handleResendOtp}\n              disabled={isLoading}\n              className=\"text-[#12b74f] hover:text-[#0e9c42] font-semibold block mx-auto\"\n            >\n              Resend OTP\n            </button>\n            \n            {/* Skip OTP button for testing */}\n            <button\n              onClick={() => {\n                if (onStepComplete) {\n                  onStepComplete();\n                }\n              }}\n              className=\"text-[#666666] hover:text-[#12b74f] font-semibold text-sm block mx-auto\"\n            >\n              Skip OTP (Testing)\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      {/* Login Option */}\n      <div className=\"text-center mb-6\">\n        <p className=\"text-[#666666] mb-4\">Already have a supplier account?</p>\n        <button\n          type=\"button\"\n          onClick={() => setShowLogin(true)}\n          className=\"text-[#12b74f] hover:text-[#0e9c42] font-semibold text-lg underline\"\n        >\n          Login to Continue Onboarding\n        </button>\n      </div>\n\n      <div className=\"border-b border-gray-300 mb-6\"></div>\n\n      <div className=\"text-center mb-6\">\n        <h3 className=\"text-xl font-semibold text-[#1a4032] mb-2\">Create New Supplier Account</h3>\n        <p className=\"text-[#666666]\">Fill in your details to get started</p>\n      </div>\n\n      {/* Contact Person & Email */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"flex flex-col\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              Contact Person\n            </span>\n            <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={formData.contactPerson}\n            onChange={(e) => handleChange('contactPerson', e.target.value)}\n            placeholder=\"Your Full name\"\n            className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                     font-semibold text-[16px] text-[#1a4032] opacity-50\n                     focus:opacity-100 focus:outline-none transition-all\n                     ${errors.contactPerson ? 'border-red-500 focus:border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n            required\n          />\n          {errors.contactPerson && (\n            <p className=\"text-red-500 text-sm mt-1 px-4\">{errors.contactPerson}</p>\n          )}\n        </div>\n\n        <div className=\"flex flex-col\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              Email Address\n            </span>\n            <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n          </label>\n          <input\n            type=\"email\"\n            value={formData.email}\n            onChange={(e) => handleChange('email', e.target.value)}\n            placeholder=\"Enter Email Address\"\n            className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                     font-semibold text-[16px] text-[#1a4032] opacity-50\n                     focus:opacity-100 focus:outline-none transition-all\n                     ${errors.email ? 'border-red-500 focus:border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n            required\n          />\n          {errors.email && (\n            <p className=\"text-red-500 text-sm mt-1 px-4\">{errors.email}</p>\n          )}\n        </div>\n      </div>\n\n      {/* Phone Number */}\n      <div className=\"flex flex-col\">\n        <label className=\"flex items-center px-4 py-0 mb-2\">\n          <span className=\"font-semibold text-[16px] text-[#09101d] opacity-80\">\n            Phone Number\n          </span>\n          <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n        </label>\n        <div className=\"flex gap-2\">\n          <select\n            value={dialCode}\n            onChange={(e) => setDialCode(e.target.value)}\n            className=\"bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-3 py-3 \n                     font-semibold text-[16px] text-[#09101d] opacity-50\n                     focus:opacity-100 focus:outline-none focus:border-[#09101d] transition-all\"\n          >\n            {countryCodes.map((country, index) => (\n              <option key={`${country.dial_code}-${country.name}-${index}`} value={country.dial_code}>\n                {country.flag} {country.dial_code}\n              </option>\n            ))}\n          </select>\n          <input\n            type=\"tel\"\n            value={formData.phone}\n            onChange={(e) => handleChange('phone', e.target.value)}\n            placeholder=\"Enter Your Number\"\n            className={`flex-1 bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                     font-semibold text-[16px] text-[#09101d] opacity-50\n                     focus:opacity-100 focus:outline-none transition-all\n                     ${errors.phone ? 'border-red-500 focus:border-red-500' : 'border-[#858c94] focus:border-[#09101d]'}`}\n            required\n          />\n        </div>\n        {errors.phone && (\n          <p className=\"text-red-500 text-sm mt-1 px-4\">{errors.phone}</p>\n        )}\n      </div>\n\n      {/* Password Field */}\n      <div className=\"flex flex-col\">\n        <label className=\"flex items-center px-4 py-0 mb-2\">\n          <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n            Password\n          </span>\n          <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n        </label>\n        <input\n          type=\"password\"\n          value={formData.password}\n          onChange={(e) => handleChange('password', e.target.value)}\n          placeholder=\"Create Strong Password\"\n          className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                   font-semibold text-[16px] text-[#1a4032] opacity-50\n                   focus:opacity-100 focus:outline-none transition-all\n                   ${errors.password ? 'border-red-500 focus:border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n          required\n        />\n        {errors.password ? (\n          <p className=\"text-red-500 text-sm mt-1 px-4\">{errors.password}</p>\n        ) : (\n          <p className=\"px-4 mt-2 text-[13px] text-[#09101d] opacity-60\">\n            Password must be at least 8 characters with uppercase, lowercase, number, and special character.\n          </p>\n        )}\n      </div>\n\n      {/* General Error Display */}\n      {errors.general && (\n        <div className=\"text-red-500 text-sm text-center mb-4\">{errors.general}</div>\n      )}\n\n      {/* Terms and Conditions */}\n      <div className=\"flex items-start gap-3 px-4\">\n        <input\n          type=\"checkbox\"\n          id=\"agreeToTerms\"\n          checked={formData.agreeToTerms}\n          onChange={(e) => handleChange('agreeToTerms', e.target.checked)}\n          className=\"w-4 h-4 mt-0.5 bg-[rgba(80,44,10,0.2)] border-[#502c0a] rounded-[2px] \n                   focus:ring-2 focus:ring-[#502c0a] focus:outline-none\"\n          required\n        />\n        <label htmlFor=\"agreeToTerms\" className=\"text-[13px] text-[#09101d] leading-[20px]\">\n          I agree to AveoEarth's{\" \"}\n          <button\n            type=\"button\"\n            onClick={() => setIsTermsModalOpen(true)}\n            className=\"text-[#1a4032] underline hover:text-[#1a4032]/80 font-semibold\"\n          >\n            Terms of Service and Privacy Policy\n          </button>\n          . I also consent to receiving marketing communications about sustainable products and ESG insights.\n        </label>\n      </div>\n      {errors.agreeToTerms && (\n        <p className=\"text-red-500 text-sm px-4 -mt-2\">{errors.agreeToTerms}</p>\n      )}\n\n      {/* Signup Button */}\n      <div className=\"flex flex-col mt-6\">\n        <button\n          type=\"button\"\n          onClick={handleSignup}\n          disabled={isLoading || Object.keys(errors).length > 0 || !formData.agreeToTerms}\n          className=\"w-full bg-[#12b74f] hover:bg-[#0e9c42] disabled:bg-gray-400 text-white py-3 rounded-[8px] font-semibold transition-colors\"\n        >\n          {isLoading ? 'Creating Account...' : 'Create Seller Account'}\n        </button>\n      </div>\n\n      {/* Terms Modal */}\n      <TermsModal \n        isOpen={isTermsModalOpen} \n        onClose={() => setIsTermsModalOpen(false)} \n      />\n    </>\n  );\n}\n","path":null,"size_bytes":21096,"size_tokens":null},"src/components/admin/QuickAction.jsx":{"content":"\"use client\";\n\nexport default function QuickAction({ title, onClick }) {\n  return (\n    <button\n      onClick={onClick}\n      className=\"w-full bg-white rounded-xl border border-gray-200 p-4 text-left hover:shadow-md transition-shadow\"\n    >\n      <h3 className=\"text-sm font-semibold text-gray-900 opacity-70\">{title}</h3>\n    </button>\n  );\n}\n","path":null,"size_bytes":345,"size_tokens":null},"src/components/esg/BestSellersSection.jsx":{"content":"import ProductCard from '../ui/ProductCard';\n\nexport default function BestSellersSection() {\n  // Best seller products data\n  const bestSellerProducts = [\n    {\n      imageUrl: \"/hotdeals.png\",\n      category: \"Home & Kitchen\", \n      title: \"Jute Bag | Originally Sourced\",\n      description: \"Sustainable jute bag for daily use\",\n      price: 89,\n      originalPrice: 120,\n      rating: 4.9,\n      reviews: 524,\n      variant: \"default\",\n      size: \"default\"\n    },\n    {\n      imageUrl: \"/hotdeals.png\",\n      category: \"Personal Care\",\n      title: \"Eco Bamboo Water Bottle\",\n      description: \"BPA-free bamboo water bottle\",\n      price: 65,\n      originalPrice: 85,\n      rating: 4.8,\n      reviews: 342,\n      variant: \"default\",\n      size: \"default\"\n    },\n    {\n      imageUrl: \"/hotdeals.png\",\n      category: \"Fashion\",\n      title: \"Organic Cotton T-Shirt\",\n      description: \"100% organic cotton sustainable tee\",\n      price: 125,\n      originalPrice: 160,\n      rating: 4.7,\n      reviews: 289,\n      variant: \"default\",\n      size: \"default\"\n    },\n    {\n      imageUrl: \"/hotdeals.png\",\n      category: \"Stationery\",\n      title: \"Recycled Paper Diary\",\n      description: \"Eco-friendly recycled paper diary\",\n      price: 45,\n      originalPrice: 65,\n      rating: 4.9,\n      reviews: 201,\n      variant: \"default\",\n      size: \"default\"\n    },\n    {\n      imageUrl: \"/hotdeals.png\",\n      category: \"Accessories\",\n      title: \"Hemp Fiber Backpack\",\n      description: \"Durable hemp fiber travel backpack\",\n      price: 180,\n      originalPrice: 240,\n      rating: 4.8,\n      reviews: 156,\n      variant: \"default\",\n      size: \"default\"\n    }\n  ];\n\n  return (\n    <section className=\"w-full py-8 sm:py-[55px]\" style={{ background: '#f8f7f8' }}>\n      <div className=\"flex flex-col gap-6 sm:gap-[38px] items-center justify-start w-full max-w-[1341px] mx-auto px-4\">\n        \n        {/* Section Title */}\n        <h2 className=\"font-reem text-[#1a1a1a] text-2xl sm:text-3xl lg:text-[35.857px] text-center leading-[1.2] w-full\">\n          Best Sellers\n        </h2>\n        \n        {/* Products Grid */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4 sm:gap-6 items-start justify-center w-full\">\n          {bestSellerProducts.map((product, index) => (\n            <ProductCard \n              key={index}\n              productId={null} // Demo products don't have real IDs\n              {...product}\n            />\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":2546,"size_tokens":null},"src/services/profileService.js":{"content":"// Profile service for managing user profile data\nimport { auth, tokens } from '../lib/api';\n\nclass ProfileService {\n  constructor() {\n    this.cache = new Map();\n    this.cacheTime = 5 * 60 * 1000; // 5 minutes\n  }\n\n  // Get authentication token\n  getToken() {\n    const userTokens = tokens.get();\n    return userTokens?.access_token;\n  }\n\n  // Cache management\n  isCacheValid(key) {\n    const cached = this.cache.get(key);\n    return cached && (Date.now() - cached.timestamp) < this.cacheTime;\n  }\n\n  setCache(key, data) {\n    this.cache.set(key, {\n      data,\n      timestamp: Date.now()\n    });\n  }\n\n  getCache(key) {\n    const cached = this.cache.get(key);\n    return this.isCacheValid(key) ? cached.data : null;\n  }\n\n  clearCache() {\n    this.cache.clear();\n  }\n\n  // Update basic profile (name, phone)\n  async updateBasicProfile(profileData) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const response = await auth.updateProfile(profileData, token);\n      this.clearCache(); // Clear cache after updating\n      return response;\n    } catch (error) {\n      console.error('Error updating basic profile:', error);\n      throw error;\n    }\n  }\n\n  // Update complete profile (includes extended profile fields)\n  async updateCompleteProfile(profileData) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const response = await auth.updateCompleteProfile(profileData, token);\n      this.clearCache(); // Clear cache after updating\n      return response;\n    } catch (error) {\n      console.error('Error updating complete profile:', error);\n      throw error;\n    }\n  }\n\n  // Get current user profile\n  async getProfile() {\n    try {\n      const cacheKey = 'user_profile';\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const response = await auth.getProfile(token);\n      this.setCache(cacheKey, response);\n      return response;\n    } catch (error) {\n      console.error('Error fetching profile:', error);\n      throw error;\n    }\n  }\n\n  // Validate profile data\n  validateBasicProfile(profileData) {\n    const errors = {};\n\n    if (!profileData.first_name?.trim()) {\n      errors.first_name = 'First name is required';\n    }\n\n    if (!profileData.last_name?.trim()) {\n      errors.last_name = 'Last name is required';\n    }\n\n    if (profileData.phone && profileData.phone.length < 10) {\n      errors.phone = 'Phone number must be at least 10 digits';\n    }\n\n    return {\n      isValid: Object.keys(errors).length === 0,\n      errors\n    };\n  }\n\n  // Validate complete profile data\n  validateCompleteProfile(profileData) {\n    const basicValidation = this.validateBasicProfile(profileData);\n    const errors = { ...basicValidation.errors };\n\n    // Additional validations for extended profile\n    if (profileData.date_of_birth) {\n      const birthDate = new Date(profileData.date_of_birth);\n      const today = new Date();\n      const age = today.getFullYear() - birthDate.getFullYear();\n      \n      if (age < 13) {\n        errors.date_of_birth = 'You must be at least 13 years old';\n      }\n      \n      if (birthDate > today) {\n        errors.date_of_birth = 'Birth date cannot be in the future';\n      }\n    }\n\n    if (profileData.bio && profileData.bio.length > 500) {\n      errors.bio = 'Bio must be less than 500 characters';\n    }\n\n    return {\n      isValid: Object.keys(errors).length === 0,\n      errors\n    };\n  }\n\n  // Get gender options\n  getGenderOptions() {\n    return [\n      { value: 'male', label: 'Male' },\n      { value: 'female', label: 'Female' },\n      { value: 'other', label: 'Other' },\n      { value: 'prefer_not_to_say', label: 'Prefer not to say' }\n    ];\n  }\n\n  // Format user name\n  formatUserName(user) {\n    if (!user) return 'User';\n    \n    if (user.first_name && user.last_name) {\n      return `${user.first_name} ${user.last_name}`;\n    }\n    \n    if (user.first_name) {\n      return user.first_name;\n    }\n    \n    if (user.name) {\n      return user.name;\n    }\n    \n    if (user.email) {\n      return user.email.split('@')[0];\n    }\n    \n    return 'User';\n  }\n\n  // Get user initials for avatar\n  getUserInitials(user) {\n    if (!user) return 'U';\n    \n    if (user.first_name && user.last_name) {\n      return `${user.first_name[0]}${user.last_name[0]}`.toUpperCase();\n    }\n    \n    if (user.first_name) {\n      return user.first_name[0].toUpperCase();\n    }\n    \n    if (user.name) {\n      const nameParts = user.name.split(' ');\n      if (nameParts.length >= 2) {\n        return `${nameParts[0][0]}${nameParts[1][0]}`.toUpperCase();\n      }\n      return user.name[0].toUpperCase();\n    }\n    \n    if (user.email) {\n      return user.email[0].toUpperCase();\n    }\n    \n    return 'U';\n  }\n\n  // Default notification settings\n  getDefaultNotificationSettings() {\n    return {\n      email_marketing: true,\n      email_orders: true,\n      email_security: true,\n      sms_orders: false,\n      sms_marketing: false,\n      push_orders: true,\n      push_marketing: false\n    };\n  }\n\n  // Default preferences\n  getDefaultPreferences() {\n    return {\n      language: 'en',\n      currency: 'INR',\n      theme: 'light',\n      newsletter: true,\n      recommendations: true\n    };\n  }\n\n  // Sanitize profile data before sending\n  sanitizeProfileData(profileData) {\n    const sanitized = {};\n    \n    // Basic fields\n    if (profileData.first_name) sanitized.first_name = profileData.first_name.trim();\n    if (profileData.last_name) sanitized.last_name = profileData.last_name.trim();\n    if (profileData.phone) sanitized.phone = profileData.phone.trim();\n    if (profileData.avatar_url) sanitized.avatar_url = profileData.avatar_url;\n    \n    // Extended fields\n    if (profileData.date_of_birth) sanitized.date_of_birth = profileData.date_of_birth;\n    if (profileData.gender) sanitized.gender = profileData.gender;\n    if (profileData.bio) sanitized.bio = profileData.bio.trim();\n    \n    // JSON fields\n    if (profileData.preferences) sanitized.preferences = profileData.preferences;\n    if (profileData.notification_settings) sanitized.notification_settings = profileData.notification_settings;\n    if (profileData.social_links) sanitized.social_links = profileData.social_links;\n    \n    return sanitized;\n  }\n}\n\nexport const profileService = new ProfileService();\nexport default profileService;\n","path":null,"size_bytes":6514,"size_tokens":null},"src/components/vendor/orders/OrdersHeader.jsx":{"content":"export default function OrdersHeader() {\n  return (\n    <div className=\"mb-4 sm:mb-6\">\n      <h1 className=\"font-poppins font-semibold text-[20px] sm:text-[24px] text-black tracking-[0.3px] mb-2\">\n        Order Management\n      </h1>\n      <p className=\"font-poppins text-[16px] sm:text-[20px] text-[#757575] tracking-[0.3px]\">\n        Track and manage online orders\n      </p>\n    </div>\n  );\n}\n","path":null,"size_bytes":396,"size_tokens":null},"src/components/address/AddressForm.jsx":{"content":"\"use client\";\n\nimport { useState } from \"react\";\nimport addressService from \"../../services/addressService\";\n\nconst AddressForm = ({ address = null, onSave, onCancel }) => {\n  const [formData, setFormData] = useState({\n    type: address?.type || 'home',\n    label: address?.label || '',\n    first_name: address?.first_name || '',\n    last_name: address?.last_name || '',\n    company: address?.company || '',\n    address_line_1: address?.address_line_1 || '',\n    address_line_2: address?.address_line_2 || '',\n    city: address?.city || '',\n    state: address?.state || '',\n    postal_code: address?.postal_code || '',\n    country: address?.country || 'India',\n    phone: address?.phone || '',\n    is_default: address?.is_default || false\n  });\n\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n\n  const handleInputChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' ? checked : value\n    }));\n\n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: null\n      }));\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      // Validate form\n      const validation = addressService.validateAddressData(formData);\n      if (!validation.isValid) {\n        setErrors(validation.errors);\n        return;\n      }\n\n      // Save address\n      let savedAddress;\n      if (address?.id) {\n        savedAddress = await addressService.updateAddress(address.id, formData);\n      } else {\n        savedAddress = await addressService.createAddress(formData);\n      }\n\n      onSave(savedAddress);\n    } catch (error) {\n      console.error('Error saving address:', error);\n      setErrors({ general: error.message || 'Failed to save address' });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const addressTypeOptions = addressService.getAddressTypeOptions();\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      {errors.general && (\n        <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\n          {errors.general}\n        </div>\n      )}\n\n      {/* Address Type and Label */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Address Type *\n          </label>\n          <select\n            name=\"type\"\n            value={formData.type}\n            onChange={handleInputChange}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            {addressTypeOptions.map(option => (\n              <option key={option.value} value={option.value}>\n                {option.label}\n              </option>\n            ))}\n          </select>\n          {errors.type && <p className=\"text-red-500 text-sm mt-1\">{errors.type}</p>}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Label (Optional)\n          </label>\n          <input\n            type=\"text\"\n            name=\"label\"\n            value={formData.label}\n            onChange={handleInputChange}\n            placeholder=\"e.g., Home, Office, etc.\"\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </div>\n      </div>\n\n      {/* Name Fields */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            First Name *\n          </label>\n          <input\n            type=\"text\"\n            name=\"first_name\"\n            value={formData.first_name}\n            onChange={handleInputChange}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n          {errors.first_name && <p className=\"text-red-500 text-sm mt-1\">{errors.first_name}</p>}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Last Name *\n          </label>\n          <input\n            type=\"text\"\n            name=\"last_name\"\n            value={formData.last_name}\n            onChange={handleInputChange}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n          {errors.last_name && <p className=\"text-red-500 text-sm mt-1\">{errors.last_name}</p>}\n        </div>\n      </div>\n\n      {/* Company */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          Company (Optional)\n        </label>\n        <input\n          type=\"text\"\n          name=\"company\"\n          value={formData.company}\n          onChange={handleInputChange}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n\n      {/* Address Lines */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          Address Line 1 *\n        </label>\n        <input\n          type=\"text\"\n          name=\"address_line_1\"\n          value={formData.address_line_1}\n          onChange={handleInputChange}\n          placeholder=\"Street address, P.O. Box, company name, c/o\"\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n        {errors.address_line_1 && <p className=\"text-red-500 text-sm mt-1\">{errors.address_line_1}</p>}\n      </div>\n\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          Address Line 2 (Optional)\n        </label>\n        <input\n          type=\"text\"\n          name=\"address_line_2\"\n          value={formData.address_line_2}\n          onChange={handleInputChange}\n          placeholder=\"Apartment, suite, unit, building, floor, etc.\"\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n      </div>\n\n      {/* City, State, Postal Code */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            City *\n          </label>\n          <input\n            type=\"text\"\n            name=\"city\"\n            value={formData.city}\n            onChange={handleInputChange}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n          {errors.city && <p className=\"text-red-500 text-sm mt-1\">{errors.city}</p>}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            State *\n          </label>\n          <select\n            name=\"state\"\n            value={formData.state}\n            onChange={handleInputChange}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"\">Select State</option>\n            <option value=\"andhra-pradesh\">Andhra Pradesh</option>\n            <option value=\"arunachal-pradesh\">Arunachal Pradesh</option>\n            <option value=\"assam\">Assam</option>\n            <option value=\"bihar\">Bihar</option>\n            <option value=\"chhattisgarh\">Chhattisgarh</option>\n            <option value=\"goa\">Goa</option>\n            <option value=\"gujarat\">Gujarat</option>\n            <option value=\"haryana\">Haryana</option>\n            <option value=\"himachal-pradesh\">Himachal Pradesh</option>\n            <option value=\"jharkhand\">Jharkhand</option>\n            <option value=\"karnataka\">Karnataka</option>\n            <option value=\"kerala\">Kerala</option>\n            <option value=\"madhya-pradesh\">Madhya Pradesh</option>\n            <option value=\"maharashtra\">Maharashtra</option>\n            <option value=\"manipur\">Manipur</option>\n            <option value=\"meghalaya\">Meghalaya</option>\n            <option value=\"mizoram\">Mizoram</option>\n            <option value=\"nagaland\">Nagaland</option>\n            <option value=\"odisha\">Odisha</option>\n            <option value=\"punjab\">Punjab</option>\n            <option value=\"rajasthan\">Rajasthan</option>\n            <option value=\"sikkim\">Sikkim</option>\n            <option value=\"tamil-nadu\">Tamil Nadu</option>\n            <option value=\"telangana\">Telangana</option>\n            <option value=\"tripura\">Tripura</option>\n            <option value=\"uttar-pradesh\">Uttar Pradesh</option>\n            <option value=\"uttarakhand\">Uttarakhand</option>\n            <option value=\"west-bengal\">West Bengal</option>\n            <option value=\"andaman-nicobar\">Andaman and Nicobar Islands</option>\n            <option value=\"chandigarh\">Chandigarh</option>\n            <option value=\"dadra-nagar-haveli-daman-diu\">Dadra and Nagar Haveli and Daman and Diu</option>\n            <option value=\"delhi\">Delhi</option>\n            <option value=\"jammu-kashmir\">Jammu and Kashmir</option>\n            <option value=\"ladakh\">Ladakh</option>\n            <option value=\"lakshadweep\">Lakshadweep</option>\n            <option value=\"puducherry\">Puducherry</option>\n          </select>\n          {errors.state && <p className=\"text-red-500 text-sm mt-1\">{errors.state}</p>}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Postal Code *\n          </label>\n          <input\n            type=\"text\"\n            name=\"postal_code\"\n            value={formData.postal_code}\n            onChange={handleInputChange}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n          {errors.postal_code && <p className=\"text-red-500 text-sm mt-1\">{errors.postal_code}</p>}\n        </div>\n      </div>\n\n      {/* Country and Phone */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Country *\n          </label>\n          <input\n            type=\"text\"\n            name=\"country\"\n            value={formData.country}\n            onChange={handleInputChange}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n          {errors.country && <p className=\"text-red-500 text-sm mt-1\">{errors.country}</p>}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Phone (Optional)\n          </label>\n          <input\n            type=\"tel\"\n            name=\"phone\"\n            value={formData.phone}\n            onChange={handleInputChange}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n          {errors.phone && <p className=\"text-red-500 text-sm mt-1\">{errors.phone}</p>}\n        </div>\n      </div>\n\n      {/* Default Address Checkbox */}\n      <div className=\"flex items-center\">\n        <input\n          type=\"checkbox\"\n          name=\"is_default\"\n          checked={formData.is_default}\n          onChange={handleInputChange}\n          className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n        />\n        <label className=\"ml-2 text-sm text-gray-700\">\n          Set as default {formData.type} address\n        </label>\n      </div>\n\n      {/* Action Buttons */}\n      <div className=\"flex justify-end space-x-4 pt-4\">\n        <button\n          type=\"button\"\n          onClick={onCancel}\n          className=\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500\"\n        >\n          Cancel\n        </button>\n        <button\n          type=\"submit\"\n          disabled={loading}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50\"\n        >\n          {loading ? 'Saving...' : (address ? 'Update Address' : 'Save Address')}\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default AddressForm;\n","path":null,"size_bytes":12512,"size_tokens":null},"src/components/esg/HotDealsSection.jsx":{"content":"import React, { useState, useEffect, useCallback, useMemo } from 'react';\n\n// HotDealsCard Component: Bundled here as required for a single-file application.\nconst HotDealsCard = ({\n  title,\n  price,\n  originalPrice,\n  rating,\n  reviews,\n  tags,\n  discount,\n  imageUrl,\n  index\n}) => {\n  // Helper to generate a unique placeholder image based on index\n  const getPlaceholderImage = useCallback((idx) => {\n    const seed = (idx % 5) + 1;\n    const colors = ['#10b981', '#065f46', '#34d399', '#a7f3d0', '#047857'];\n    const colorIndex = idx % colors.length;\n    const placeholderText = title.split(' ').map(w => w[0]).join(''); // Use initials for text\n    return `https://placehold.co/400x400/${colors[colorIndex].replace('#', '')}/ffffff?text=${placeholderText}`;\n  }, [title]);\n\n  const placeholderImg = useMemo(() => getPlaceholderImage(index), [index, getPlaceholderImage]);\n\n  return (\n    <div className=\"relative bg-white border border-gray-100 rounded-2xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-500 ease-in-out h-full flex flex-col\">\n      {/* Product Image and Discount Badge */}\n      <div className=\"relative w-full h-48 sm:h-56 bg-gray-50 overflow-hidden\">\n        <img\n          src={placeholderImg}\n          alt={title}\n          className=\"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105\"\n        />\n        {/* Discount Badge */}\n        <div className=\"absolute top-3 left-3 bg-red-500 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-md transform -rotate-3\">\n          {discount} OFF\n        </div>\n      </div>\n\n      {/* Product Details */}\n      <div className=\"p-4 sm:p-5 flex flex-col flex-grow\">\n        {/* Title Fix: Ensures space for 2 lines of text is always reserved */}\n        <h3 className=\"text-lg font-semibold text-gray-800 line-clamp-2 mb-2 h-14 leading-normal overflow-hidden\">{title}</h3>\n\n        {/* Price Section */}\n        <div className=\"flex items-baseline mb-3\">\n          <span className=\"text-2xl font-extrabold text-emerald-600\">${price}</span>\n          <span className=\"ml-2 text-sm text-gray-400 line-through\">${originalPrice}</span>\n          <span className=\"ml-3 text-xs font-medium text-red-500\">Save {originalPrice - price}</span>\n        </div>\n\n        {/* Rating */}\n        <div className=\"flex items-center text-sm text-gray-500 mb-3\">\n          <div className=\"flex items-center text-yellow-400 mr-2\">\n            {'★'.repeat(Math.floor(rating))}{'☆'.repeat(5 - Math.floor(rating))}\n          </div>\n          <span className=\"font-semibold text-gray-700 mr-1\">{rating}</span>\n          <span>({reviews} reviews)</span>\n        </div>\n        \n        {/* Tags Fix: min-h-6 ensures a minimum height is reserved for the tag content, \n            preventing height differences based on the number of tags (1 vs 2). */}\n        <div className=\"flex flex-wrap gap-2 mb-4 mt-auto min-h-6\">\n          {tags.slice(0, 2).map((tag, i) => (\n            <span\n              key={i}\n              className={`text-xs font-medium px-2 py-0.5 rounded-full ${\n                tag.includes('Certified') ? 'bg-emerald-100 text-emerald-700' : 'bg-gray-100 text-gray-600'\n              }`}\n            >\n              {tag}\n            </span>\n          ))}\n        </div>\n\n        {/* Add to Cart Button */}\n        <button className=\"w-full flex items-center justify-center gap-2 mt-2 py-2 bg-emerald-500 text-white font-medium rounded-xl hover:bg-emerald-600 transition-colors duration-300 shadow-md hover:shadow-lg active:scale-[0.98]\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"lucide lucide-shopping-cart\"><circle cx=\"8\" cy=\"21\" r=\"1\"/><circle cx=\"19\" cy=\"21\" r=\"1\"/><path d=\"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.72a2 2 0 0 0 2-1.58L23 6H6\"/></svg>\n          Quick View\n        </button>\n      </div>\n    </div>\n  );\n};\n\n// Main HotDealsSection Component\nexport default function HotDealsSection() {\n  const [activeFilter, setActiveFilter] = useState('all');\n  const allProducts = useMemo(() => [\n    {\n      title: \"Jute Bag | Originally Sourced\",\n      price: 89,\n      originalPrice: 120,\n      rating: 4.9,\n      reviews: 524,\n      tags: [\"Staff Pick\", \"AveoEarth Certified\"],\n      discount: \"-31%\",\n      category: \"Home & Living\"\n    },\n    {\n      title: \"Eco Bamboo Bottle\",\n      price: 45,\n      originalPrice: 60,\n      rating: 4.7,\n      reviews: 312,\n      tags: [\"Best Seller\", \"AveoEarth Certified\"],\n      discount: \"-25%\",\n      category: \"Drinkware\"\n    },\n    {\n      title: \"Organic Cotton Tote\",\n      price: 65,\n      originalPrice: 85,\n      rating: 4.8,\n      reviews: 289,\n      tags: [\"Staff Pick\", \"Eco-Friendly\"],\n      discount: \"-24%\",\n      category: \"Sustainable Fashion\" // Changed from 'Fashion' to match categories list\n    },\n    {\n      title: \"Recycled Paper Notebook\",\n      price: 35,\n      originalPrice: 50,\n      rating: 4.6,\n      reviews: 156,\n      tags: [\"New Arrival\", \"AveoEarth Certified\"],\n      discount: \"-30%\",\n      category: \"Stationery\"\n    },\n    {\n      title: \"Hemp Fiber Mat\",\n      price: 125,\n      originalPrice: 180,\n      rating: 4.9,\n      reviews: 432,\n      tags: [\"Premium\", \"Staff Pick\"],\n      discount: \"-31%\",\n      category: \"Home & Living\"\n    },\n    {\n      title: \"Cork Phone Case\",\n      price: 55,\n      originalPrice: 75,\n      rating: 4.5,\n      reviews: 201,\n      tags: [\"Trending\", \"Eco-Friendly\"],\n      discount: \"-27%\",\n      category: \"Upcycled & Handmade\" // Changed from 'Tech Accessories' to match categories list\n    },\n    {\n      title: \"Organic Cotton T-Shirt\",\n      price: 85,\n      originalPrice: 110,\n      rating: 4.8,\n      reviews: 289,\n      tags: [\"Organic\", \"Fashion\"],\n      discount: \"-23%\",\n      category: \"Sustainable Fashion\" // Changed from 'Fashion' to match categories list\n    },\n    {\n      title: \"Bamboo Dinnerware Set\",\n      price: 145,\n      originalPrice: 195,\n      rating: 4.9,\n      reviews: 156,\n      tags: [\"Premium\", \"Staff Pick\"],\n      discount: \"-26%\",\n      category: \"Home & Living\"\n    },\n    {\n      title: \"Recycled Plastic Pen\",\n      price: 25,\n      originalPrice: 35,\n      rating: 4.6,\n      reviews: 89,\n      tags: [\"Eco-Friendly\", \"Affordable\"],\n      discount: \"-29%\",\n      category: \"Stationery\"\n    },\n    {\n      title: \"Steel Water Tumbler\",\n      price: 65,\n      originalPrice: 85,\n      rating: 4.7,\n      reviews: 234,\n      tags: [\"Durable\", \"Best Seller\"],\n      discount: \"-24%\",\n      category: \"Drinkware\"\n    },\n    {\n      title: \"Natural Moisturizer\",\n      price: 95,\n      originalPrice: 125,\n      rating: 4.5,\n      reviews: 167,\n      tags: [\"Vegan\", \"Clean\"],\n      discount: \"-24%\",\n      category: \"Clean Beauty\" // New product for 'Clean Beauty'\n    },\n    {\n      title: \"Linen Throw Pillow\",\n      price: 75,\n      originalPrice: 100,\n      rating: 4.8,\n      reviews: 198,\n      tags: [\"Comfort\", \"Natural\"],\n      discount: \"-25%\",\n      category: \"Home & Living\"\n    }\n  ], []);\n\n  const categories = ['all', 'Home & Living', 'Sustainable Fashion', 'Drinkware', 'Stationery', 'Upcycled & Handmade', 'Clean Beauty', 'Pets', 'Fitness'];\n\n  const filteredProducts = useMemo(() => activeFilter === 'all'\n    ? allProducts\n    : allProducts.filter(product => product.category === activeFilter)\n  , [activeFilter, allProducts]);\n\n  const handleFilterChange = (filter) => {\n    setActiveFilter(filter);\n  };\n\n  const getCategoryIcon = (category) => {\n    const icons = {\n      'Home & Living': '🏠',\n      'Sustainable Fashion': '👕',\n      'Upcycled & Handmade': '🎨',\n      'Clean Beauty': '✨',\n      'Pets': '🐾',\n      'Fitness': '💪',\n      'Drinkware': '🥤',\n      'Stationery': '📝'\n    };\n    return icons[category] || '🌱';\n  };\n  \n  // Custom keyframes for animations (must be inline since no external CSS is allowed)\n  const customStyles = `\n    @keyframes slideInUp {\n      from {\n        opacity: 0;\n        transform: translateY(20px);\n      }\n      to {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n    @keyframes blob {\n      0%, 100% { border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%; }\n      50% { border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%; }\n    }\n    @keyframes float {\n      0% { transform: translateY(0) rotate(0deg); }\n      50% { transform: translateY(-10px) rotate(3deg); }\n      100% { transform: translateY(0) rotate(0deg); }\n    }\n  `;\n\n  return (\n    <section className=\"relative w-full py-16 sm:py-24 bg-gradient-to-br from-white via-emerald-50/30 to-emerald-100/50 overflow-hidden min-h-screen font-sans\">\n      <style>{customStyles}</style>\n      \n      {/* Modern Background Elements */}\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\n        <div className=\"absolute top-20 left-10 w-40 h-40 bg-emerald-200/20 rounded-full animate-[blob_10s_ease-in-out_infinite] opacity-50\"></div>\n        <div className=\"absolute bottom-32 right-16 w-32 h-32 bg-emerald-300/15 rounded-full animate-[float_8s_ease-in-out_infinite]\" style={{ animationDelay: '3s' }}></div>\n        <div className=\"absolute top-1/3 right-1/4 w-24 h-24 bg-emerald-400/10 rounded-full animate-[blob_12s_reverse_ease-in-out_infinite]\" style={{ animationDelay: '1.5s' }}></div>\n        {/* Grid Pattern: The SVG is fully encoded to prevent compilation errors */}\n        <div className=\"absolute inset-0 opacity-40\">\n          <div className=\"w-full h-full\" style={{\n            backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23059669' fill-opacity='0.03'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")`,\n            backgroundRepeat: 'repeat'\n          }}></div>\n        </div>\n      </div>\n\n      <div className=\"relative z-10 w-full max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8\">\n        {/* Modern Header */}\n        <div className=\"flex flex-col items-center justify-center text-center mb-12 sm:mb-16 space-y-6\">\n          <div className=\"space-y-6\">\n            \n            \n            {/* Title */}\n            <h2 className=\"font-extrabold text-4xl sm:text-5xl lg:text-6xl text-gray-800 leading-tight\">\n              Hot <span className=\"text-emerald-700\">Deals</span>\n            </h2>\n            \n            {/* Subtitle */}\n            <p className=\"text-lg sm:text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed\">\n              Discover amazing eco-friendly products at unbeatable prices. Limited stock available!\n            </p>\n          </div>\n        </div>\n\n        {/* Modern Filter Section */}\n        <div className=\"flex flex-col items-center space-y-8 mb-12 sm:mb-16\">\n          {/* Filter Header */}\n          <div className=\"flex items-center gap-4 text-gray-800\">\n            <div className=\"h-px bg-gradient-to-r from-transparent via-emerald-300 to-transparent flex-1 max-w-20\"></div>\n            <span className=\"font-semibold text-lg whitespace-nowrap\">Filter by Category</span>\n            <div className=\"h-px bg-gradient-to-r from-transparent via-emerald-300 to-transparent flex-1 max-w-20\"></div>\n          </div>\n          \n          {/* Filter Buttons */}\n          <div className=\"flex flex-wrap justify-center gap-3 max-w-5xl\">\n            {categories.map((category) => (\n              <button\n                key={category}\n                onClick={() => handleFilterChange(category)}\n                className={`\n                  px-5 py-2.5 rounded-full font-medium text-sm transition-all duration-300 \n                  hover:scale-[1.02] active:scale-[0.98] whitespace-nowrap\n                  ${\n                    activeFilter === category\n                      ? 'bg-emerald-600 text-white shadow-xl shadow-emerald-300/50'\n                      : 'bg-white text-gray-700 hover:bg-emerald-50 hover:text-emerald-700 hover:shadow-lg border border-gray-200'\n                  }\n                `}\n              >\n                {category === 'all' ? '🌟 All Products' : `${getCategoryIcon(category)} ${category}`}\n              </button>\n            ))}\n          </div>\n          \n          {/* Results Count */}\n          <div className=\"text-center\">\n            <div className=\"inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm text-gray-600 px-4 py-2 rounded-full text-sm border border-gray-200 shadow-inner\">\n              <span className=\"w-2 h-2 bg-emerald-500 rounded-full animate-pulse\"></span>\n              <span>Showing <span className=\"font-bold text-emerald-600\">{filteredProducts.length}</span> products</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Modern Product Grid */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-6 gap-6 lg:gap-8 min-h-[400px]\">\n          {filteredProducts.map((product, index) => (\n            <div \n              key={`${activeFilter}-${index}`}\n              className=\"group opacity-0 transform transition-all duration-300\" \n              style={{ \n                animationDelay: `${index * 0.1}s`,\n                animation: `slideInUp 0.6s ease-out forwards ${index * 0.1}s`\n              }}\n            >\n              <div className=\"relative\">\n                <HotDealsCard \n                  {...product}\n                  index={index}\n                />\n                {/* Hover Glow Effect */}\n                <div className=\"absolute inset-0 rounded-2xl bg-gradient-to-r from-emerald-400/0 via-emerald-400/5 to-emerald-400/0 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none\"></div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* Empty State */}\n        {filteredProducts.length === 0 && (\n          <div className=\"flex flex-col items-center justify-center py-20 text-center bg-white/70 rounded-3xl shadow-xl border border-gray-100 mt-10 mx-auto max-w-lg\">\n            <div className=\"w-24 h-24 bg-gradient-to-br from-emerald-200 to-emerald-300 rounded-full flex items-center justify-center mb-6 shadow-xl\">\n              <span className=\"text-4xl\">🔎</span>\n            </div>\n            <h3 className=\"font-bold text-2xl text-gray-800 mb-3\">No deals right now!</h3>\n            <p className=\"text-gray-600 max-w-md mx-auto leading-relaxed px-4\">\n              Looks like we're fresh out of hot deals in the <span className=\"font-semibold text-emerald-600\">{activeFilter}</span> category. Try another filter!\n            </p>\n            <button \n              onClick={() => setActiveFilter('all')}\n              className=\"mt-6 px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-full font-medium transition-colors shadow-lg hover:shadow-xl transform active:scale-95\"\n            >\n              View All Products\n            </button>\n          </div>\n        )}\n\n        {/* Modern CTA Button */}\n        <div className=\"flex justify-center mt-16 sm:mt-20\">\n          <button \n            // In a real app, this would use a router or state change\n            onClick={() => console.log('Navigating to explore page...')}\n            className=\"group relative bg-gradient-to-r from-emerald-600 to-emerald-700 hover:from-emerald-700 hover:to-emerald-800 text-white px-10 py-4 rounded-full font-semibold text-lg shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300 overflow-hidden\"\n          >\n            {/* Shimmer Effect */}\n            <div className=\"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000\"></div>\n            \n            {/* Button Content */}\n            <div className=\"relative flex items-center gap-3\">\n              <span className=\"text-xl\">🛍️</span>\n              <span>Explore All Deals</span>\n              <svg className=\"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 7l5 5m0 0l-5 5m5-5H6\" />\n              </svg>\n            </div>\n            \n            {/* Glow Effect */}\n            <div className=\"absolute inset-0 rounded-full bg-emerald-400/20 blur-xl scale-150 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none\"></div>\n          </button>\n        </div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":16655,"size_tokens":null},"src/components/layout/BottomNavigation.jsx":{"content":"\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\n\nexport default function BottomNavigation() {\n  const pathname = usePathname();\n  \n  const navItems = [\n    {\n      href: \"/explore?category=home-living\",\n      label: \"Home & Living\",\n      icon: (\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 18 17\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M8.5 0.5L17 5.5V16.5H11V10.5H6V16.5H0V5.5L8.5 0.5Z\" fill=\"currentColor\"/>\n        </svg>\n      ),\n      activeColor: \"text-emerald-700\",\n      bgColor: \"bg-emerald-50\"\n    },\n    {\n      href: \"/explore?category=fashion\",\n      label: \"Sustainable Fashion\",\n      icon: (\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 25 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M15.1425 3.23573L15.2371 3.22876L15.3487 3.23274L15.4612 3.24967L15.5738 3.27955L21.55 5.27163C21.7296 5.33152 21.8885 5.44138 22.0079 5.58833C22.1273 5.73528 22.2024 5.91323 22.2243 6.10133L22.2313 6.21687V11.197C22.2312 11.441 22.1417 11.6765 21.9796 11.8588C21.8175 12.0411 21.5941 12.1576 21.3518 12.1861L21.2352 12.1931H19.2432V19.1653C19.2433 19.6679 19.0535 20.152 18.7118 20.5205C18.3701 20.889 17.9017 21.1147 17.4005 21.1524L17.2511 21.1574H7.29073C6.78815 21.1576 6.30409 20.9678 5.93557 20.626C5.56706 20.2843 5.34133 19.8159 5.30364 19.3147L5.29866 19.1653V12.1931H3.30658C3.06262 12.1931 2.82715 12.1035 2.64484 11.9414C2.46254 11.7793 2.34606 11.5559 2.31752 11.3136L2.31055 11.197V6.21687C2.31048 6.02747 2.36442 5.84197 2.46604 5.68214C2.56765 5.52231 2.71273 5.39476 2.88426 5.31446L2.99184 5.27163L8.96806 3.27955C9.11779 3.22968 9.27724 3.2161 9.43325 3.23994C9.58926 3.26378 9.73738 3.32435 9.86539 3.41667C9.9934 3.50898 10.0976 3.63039 10.1695 3.77089C10.2414 3.91139 10.2789 4.06697 10.2788 4.22479C10.2765 4.74172 10.4752 5.2393 10.833 5.61242C11.1908 5.98554 11.6796 6.20498 12.1962 6.22438C12.7127 6.24377 13.2166 6.06161 13.6013 5.71637C13.9861 5.37112 14.2216 4.88984 14.258 4.3742L14.267 4.13515L14.2839 4.0226L14.3208 3.88913L14.3646 3.78654L14.4144 3.6949L14.4821 3.60227L14.5508 3.52259C14.606 3.46946 14.6641 3.42298 14.7251 3.38314L14.8208 3.33035L14.9234 3.28653L15.0309 3.25465L15.1425 3.23573Z\" fill=\"currentColor\"/>\n        </svg>\n      ),\n      activeColor: \"text-orange-700\",\n      bgColor: \"bg-orange-50\"\n    },\n    {\n      href: \"/explore?category=upcycled\",\n      label: \"Upcycled & Handmade\",\n      icon: \"🎨\",\n      activeColor: \"text-purple-700\",\n      bgColor: \"bg-purple-50\"\n    },\n    {\n      href: \"/explore?category=beauty-personal-care\",\n      label: \"Clean Beauty\",\n      icon: (\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 19 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M1.59921 1.99719C2.53314 1.06355 3.79964 0.539062 5.1202 0.539062C6.44077 0.539062 7.70727 1.06355 8.64119 1.99719C8.8238 2.17914 9.05886 2.40557 9.34639 2.67649C9.63325 2.40557 9.86798 2.17914 10.0506 1.99719C10.9806 1.07155 12.2383 0.550334 13.5505 0.54682C14.8626 0.543306 16.1231 1.05778 17.0581 1.97843C17.993 2.89908 18.5269 4.15151 18.5436 5.46355C18.5603 6.77559 18.0585 8.04122 17.1473 8.98539L10.0496 16.0831C9.8628 16.2699 9.6095 16.3748 9.34539 16.3748C9.08128 16.3748 8.82798 16.2699 8.64119 16.0831L1.54344 8.98638C0.633098 8.04752 0.128575 6.78826 0.138825 5.48056C0.149075 4.17287 0.674271 2.92167 1.59921 1.99719Z\" fill=\"currentColor\"/>\n        </svg>\n      ),\n      activeColor: \"text-pink-700\",\n      bgColor: \"bg-pink-50\"\n    },\n    {\n      href: \"/explore?category=pets\",\n      label: \"Pets\",\n      icon: (\n        <svg viewBox=\"0 0 64 64\" width=\"20\" height=\"20\" fill=\"currentColor\" aria-hidden=\"true\">\n          <circle cx=\"18\" cy=\"22\" r=\"6\"/>\n          <circle cx=\"28\" cy=\"14\" r=\"6\"/>\n          <circle cx=\"36\" cy=\"14\" r=\"6\"/>\n          <circle cx=\"46\" cy=\"22\" r=\"6\"/>\n          <ellipse cx=\"32\" cy=\"44\" rx=\"16\" ry=\"13\"/>\n        </svg>\n      ),\n      activeColor: \"text-amber-700\",\n      bgColor: \"bg-amber-50\"\n    },\n    {\n      href: \"/explore?category=fitness\",\n      label: \"Fitness\",\n      icon: \"💪\",\n      activeColor: \"text-green-700\",\n      bgColor: \"bg-green-50\"\n    }\n  ];\n\n  // Check if current path matches any nav item\n  const getIsActive = (href) => {\n    if (href.includes('category=')) {\n      const category = href.split('category=')[1];\n      return pathname.includes('explore') && (\n        pathname.includes(category) || \n        (typeof window !== 'undefined' && (new URLSearchParams(window?.location?.search || '')).get('category') === category)\n      );\n    }\n    return pathname === href;\n  };\n\n  return (\n    <div className=\"fixed bottom-0 left-0 right-0 z-50 flex justify-center\">\n      {/* Safe area for iPhone notch */}\n      <div className=\"safe-area-inset-bottom\">\n        <div className=\"bg-white/90 border border-emerald-200 backdrop-blur-xl shadow-lg rounded-2xl mx-4 mb-4 px-4 py-3\">\n          <div className=\"flex items-center justify-center gap-4 sm:gap-6\">\n          {navItems.map((item, index) => {\n            const isActive = getIsActive(item.href);\n            \n            return (\n              <Link\n                key={index}\n                href={item.href}\n                className={`\n                  group flex flex-col items-center justify-center p-3 rounded-xl transition-all duration-300 hover-lift active:scale-95\n                  ${isActive ? `${item.bgColor} ${item.activeColor} shadow-md` : 'text-gray-600 hover:text-emerald-700 hover:bg-emerald-50/50'}\n                  min-w-[64px] max-w-[80px] touch-manipulation\n                `}\n              >\n                {/* Icon Container */}\n                <div className={`\n                  flex items-center justify-center w-8 h-8 mb-1 transition-all duration-300\n                  ${isActive ? 'scale-110 animate-pulse-glow' : 'group-hover:scale-110'}\n                `}>\n                  {typeof item.icon === 'string' ? (\n                    <span className=\"text-lg\">{item.icon}</span>\n                  ) : (\n                    item.icon\n                  )}\n                </div>\n                \n                {/* Label */}\n                <span className={`\n                  text-[9px] sm:text-[10px] font-medium text-center leading-tight line-clamp-2 transition-all duration-300\n                  ${isActive ? `font-semibold ${item.activeColor}` : 'group-hover:font-medium'}\n                `}>\n                  {item.label}\n                </span>\n                \n                {/* Active Indicator - Animated Dot */}\n                {isActive && (\n                  <div className={`w-1 h-1 ${item.activeColor.replace('text-', 'bg-')} rounded-full mt-1 animate-pulse`}></div>\n                )}\n              </Link>\n            );\n          })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":6876,"size_tokens":null},"src/app/community/page.jsx":{"content":"\"use client\";\n\nimport { useState } from \"react\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport Button from \"../../components/ui/Button\";\nimport { \n  Users, \n  MessageCircle, \n  Heart, \n  Share2, \n  Calendar, \n  MapPin, \n  Star,\n  ArrowRight,\n  Plus,\n  Search,\n  Filter,\n  TrendingUp,\n  Award,\n  Globe,\n  Leaf\n} from \"lucide-react\";\n\nexport default function CommunityPage() {\n  const [activeTab, setActiveTab] = useState(\"all\");\n\n  const communityStats = [\n    { label: \"Active Members\", value: \"12,847\", icon: Users, color: \"text-emerald-600\" },\n    { label: \"Posts This Month\", value: \"3,421\", icon: MessageCircle, color: \"text-blue-600\" },\n    { label: \"Events Hosted\", value: \"156\", icon: Calendar, color: \"text-purple-600\" },\n    { label: \"Impact Score\", value: \"98.7%\", icon: TrendingUp, color: \"text-orange-600\" }\n  ];\n\n  const featuredPosts = [\n    {\n      id: 1,\n      author: \"Sarah Chen\",\n      avatar: \"/assets/hero-sustainable-products.jpg\",\n      role: \"Eco Warrior\",\n      time: \"2 hours ago\",\n      title: \"Just completed my 30-day zero waste challenge! 🌱\",\n      content: \"Sharing my journey and the amazing tips I learned along the way. The impact on my carbon footprint has been incredible!\",\n      image: \"/assets/hero-sustainable-products.jpg\",\n      likes: 234,\n      comments: 45,\n      shares: 12,\n      tags: [\"Zero Waste\", \"Sustainability\", \"Challenge\"]\n    },\n    {\n      id: 2,\n      author: \"Mike Rodriguez\",\n      avatar: \"/assets/product-bamboo-bottle.jpg\",\n      role: \"Green Innovator\",\n      time: \"5 hours ago\",\n      title: \"DIY Solar Panel Installation - Step by Step Guide\",\n      content: \"Finally got my home running on 100% renewable energy! Here's how you can do it too with detailed instructions and cost breakdown.\",\n      image: \"/assets/product-bamboo-bottle.jpg\",\n      likes: 189,\n      comments: 67,\n      shares: 23,\n      tags: [\"Solar\", \"DIY\", \"Renewable Energy\"]\n    },\n    {\n      id: 3,\n      author: \"Emma Thompson\",\n      avatar: \"/assets/product-cotton-bags.jpg\",\n      role: \"Community Leader\",\n      time: \"1 day ago\",\n      title: \"Community Garden Update - Spring Planting Season\",\n      content: \"Our community garden is thriving! Check out the progress and join us for the next planting session this weekend.\",\n      image: \"/assets/product-cotton-bags.jpg\",\n      likes: 156,\n      comments: 34,\n      shares: 8,\n      tags: [\"Community Garden\", \"Spring\", \"Volunteer\"]\n    }\n  ];\n\n  const upcomingEvents = [\n    {\n      id: 1,\n      title: \"Sustainable Living Workshop\",\n      date: \"March 15, 2024\",\n      time: \"2:00 PM - 4:00 PM\",\n      location: \"Green Community Center\",\n      attendees: 45,\n      maxAttendees: 60,\n      type: \"Workshop\"\n    },\n    {\n      id: 2,\n      title: \"Beach Cleanup Drive\",\n      date: \"March 20, 2024\",\n      time: \"8:00 AM - 12:00 PM\",\n      location: \"Sunset Beach\",\n      attendees: 78,\n      maxAttendees: 100,\n      type: \"Volunteer\"\n    },\n    {\n      id: 3,\n      title: \"Eco-Friendly Cooking Class\",\n      date: \"March 25, 2024\",\n      time: \"6:00 PM - 8:00 PM\",\n      location: \"Culinary Arts Center\",\n      attendees: 23,\n      maxAttendees: 30,\n      type: \"Class\"\n    }\n  ];\n\n  const topContributors = [\n    { name: \"Sarah Chen\", points: 2847, level: \"Eco Master\", avatar: \"/assets/hero-sustainable-products.jpg\" },\n    { name: \"Mike Rodriguez\", points: 2156, level: \"Green Innovator\", avatar: \"/assets/product-bamboo-bottle.jpg\" },\n    { name: \"Emma Thompson\", points: 1923, level: \"Community Leader\", avatar: \"/assets/product-cotton-bags.jpg\" },\n    { name: \"Alex Kumar\", points: 1754, level: \"Sustainability Expert\", avatar: \"/assets/product-skincare-set.jpg\" },\n    { name: \"Lisa Park\", points: 1632, level: \"Eco Warrior\", avatar: \"/assets/category-zero-waste(1).jpg\" }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-emerald-50 to-blue-50\">\n      {/* Hero Section */}\n      <section className=\"relative py-20 bg-gradient-to-r from-emerald-600 to-blue-600 text-white overflow-hidden\">\n        <div className=\"absolute inset-0 bg-black/20\"></div>\n        <div className=\"absolute inset-0\">\n          <div className=\"absolute top-10 left-10 w-32 h-32 bg-white/10 rounded-full blur-xl\"></div>\n          <div className=\"absolute bottom-10 right-10 w-48 h-48 bg-white/10 rounded-full blur-xl\"></div>\n          <div className=\"absolute top-1/2 left-1/2 w-64 h-64 bg-white/5 rounded-full blur-2xl\"></div>\n        </div>\n        \n        <div className=\"relative z-10 container mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center max-w-4xl mx-auto\">\n            <div className=\"flex items-center justify-center gap-2 mb-6\">\n              <Users className=\"w-8 h-8\" />\n              <span className=\"text-lg font-semibold\">AveoEarth Community</span>\n            </div>\n            \n            <h1 className=\"text-4xl md:text-6xl font-bold mb-6 leading-tight\">\n              Together for a\n              <span className=\"block text-transparent bg-clip-text bg-gradient-to-r from-yellow-400 to-orange-400\">\n                Sustainable Future\n              </span>\n            </h1>\n            \n            <p className=\"text-xl md:text-2xl text-emerald-100 mb-8 max-w-3xl mx-auto\">\n              Join thousands of eco-conscious individuals sharing ideas, inspiring change, and building a greener tomorrow.\n            </p>\n            \n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n              <Button size=\"lg\" className=\"bg-emerald-600 text-white hover:bg-emerald-700 shadow-lg\">\n                <Plus className=\"w-5 h-5 mr-2\" />\n                Join Community\n              </Button>\n              <Button variant=\"outline\" size=\"lg\" className=\"border-white text-white hover:bg-white hover:text-emerald-600\">\n                <MessageCircle className=\"w-5 h-5 mr-2\" />\n                Start Discussion\n              </Button>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Stats Section */}\n      <section className=\"py-16 bg-white\">\n        <div className=\"container mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\n            {communityStats.map((stat, index) => (\n              <div key={index} className=\"text-center p-6 bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl hover:shadow-lg transition-all duration-300\">\n                <stat.icon className={`w-8 h-8 mx-auto mb-3 ${stat.color}`} />\n                <div className=\"text-3xl font-bold text-gray-800 mb-1\">{stat.value}</div>\n                <div className=\"text-sm text-gray-600\">{stat.label}</div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* Main Content */}\n      <section className=\"py-16\">\n        <div className=\"container mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"grid lg:grid-cols-3 gap-8\">\n            {/* Left Column - Posts */}\n            <div className=\"lg:col-span-2\">\n              <div className=\"flex items-center justify-between mb-8\">\n                <h2 className=\"text-3xl font-bold text-gray-800\">Community Posts</h2>\n                <div className=\"flex gap-2\">\n                  <Button variant=\"outline\" size=\"sm\">\n                    <Search className=\"w-4 h-4 mr-2\" />\n                    Search\n                  </Button>\n                  <Button variant=\"outline\" size=\"sm\">\n                    <Filter className=\"w-4 h-4 mr-2\" />\n                    Filter\n                  </Button>\n                </div>\n              </div>\n\n              {/* Tab Navigation */}\n              <div className=\"flex gap-2 mb-6\">\n                {[\"all\", \"trending\", \"recent\", \"events\"].map((tab) => (\n                  <button\n                    key={tab}\n                    onClick={() => setActiveTab(tab)}\n                    className={`px-4 py-2 rounded-lg font-medium transition-colors ${\n                      activeTab === tab\n                        ? \"bg-emerald-600 text-white\"\n                        : \"bg-gray-100 text-gray-600 hover:bg-gray-200\"\n                    }`}\n                  >\n                    {tab.charAt(0).toUpperCase() + tab.slice(1)}\n                  </button>\n                ))}\n              </div>\n\n              {/* Posts */}\n              <div className=\"space-y-6\">\n                {featuredPosts.map((post) => (\n                  <div key={post.id} className=\"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden\">\n                    <div className=\"p-6\">\n                      <div className=\"flex items-center gap-3 mb-4\">\n                        <Image\n                          src={post.avatar}\n                          alt={post.author}\n                          width={48}\n                          height={48}\n                          className=\"rounded-full\"\n                        />\n                        <div>\n                          <div className=\"font-semibold text-gray-800\">{post.author}</div>\n                          <div className=\"text-sm text-gray-500\">{post.role} • {post.time}</div>\n                        </div>\n                      </div>\n                      \n                      <h3 className=\"text-xl font-bold text-gray-800 mb-3\">{post.title}</h3>\n                      <p className=\"text-gray-600 mb-4\">{post.content}</p>\n                      \n                      <div className=\"flex flex-wrap gap-2 mb-4\">\n                        {post.tags.map((tag, index) => (\n                          <span\n                            key={index}\n                            className=\"px-3 py-1 bg-emerald-100 text-emerald-700 text-sm rounded-full\"\n                          >\n                            {tag}\n                          </span>\n                        ))}\n                      </div>\n                      \n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"flex gap-6\">\n                          <button className=\"flex items-center gap-2 text-gray-500 hover:text-red-500 transition-colors\">\n                            <Heart className=\"w-5 h-5\" />\n                            {post.likes}\n                          </button>\n                          <button className=\"flex items-center gap-2 text-gray-500 hover:text-blue-500 transition-colors\">\n                            <MessageCircle className=\"w-5 h-5\" />\n                            {post.comments}\n                          </button>\n                          <button className=\"flex items-center gap-2 text-gray-500 hover:text-green-500 transition-colors\">\n                            <Share2 className=\"w-5 h-5\" />\n                            {post.shares}\n                          </button>\n                        </div>\n                        <Button size=\"sm\" variant=\"outline\">\n                          View Post\n                        </Button>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Right Column - Sidebar */}\n            <div className=\"space-y-6\">\n              {/* Upcoming Events */}\n              <div className=\"bg-white rounded-2xl shadow-lg p-6\">\n                <h3 className=\"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\">\n                  <Calendar className=\"w-5 h-5 text-emerald-600\" />\n                  Upcoming Events\n                </h3>\n                <div className=\"space-y-4\">\n                  {upcomingEvents.map((event) => (\n                    <div key={event.id} className=\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow\">\n                      <div className=\"flex items-start justify-between mb-2\">\n                        <h4 className=\"font-semibold text-gray-800\">{event.title}</h4>\n                        <span className=\"text-xs bg-emerald-100 text-emerald-700 px-2 py-1 rounded-full\">\n                          {event.type}\n                        </span>\n                      </div>\n                      <div className=\"text-sm text-gray-600 space-y-1\">\n                        <div className=\"flex items-center gap-2\">\n                          <Calendar className=\"w-4 h-4\" />\n                          {event.date} at {event.time}\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <MapPin className=\"w-4 h-4\" />\n                          {event.location}\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <Users className=\"w-4 h-4\" />\n                          {event.attendees}/{event.maxAttendees} attendees\n                        </div>\n                      </div>\n                      <Button size=\"sm\" className=\"w-full mt-3\">\n                        Join Event\n                      </Button>\n                    </div>\n                  ))}\n                </div>\n                <Button variant=\"outline\" className=\"w-full mt-4\">\n                  View All Events\n                </Button>\n              </div>\n\n              {/* Top Contributors */}\n              <div className=\"bg-white rounded-2xl shadow-lg p-6\">\n                <h3 className=\"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\">\n                  <Award className=\"w-5 h-5 text-emerald-600\" />\n                  Top Contributors\n                </h3>\n                <div className=\"space-y-3\">\n                  {topContributors.map((contributor, index) => (\n                    <div key={index} className=\"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors\">\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"text-lg font-bold text-emerald-600\">#{index + 1}</span>\n                        <Image\n                          src={contributor.avatar}\n                          alt={contributor.name}\n                          width={32}\n                          height={32}\n                          className=\"rounded-full\"\n                        />\n                      </div>\n                      <div className=\"flex-1\">\n                        <div className=\"font-semibold text-gray-800\">{contributor.name}</div>\n                        <div className=\"text-sm text-gray-500\">{contributor.level}</div>\n                      </div>\n                      <div className=\"text-right\">\n                        <div className=\"font-bold text-emerald-600\">{contributor.points}</div>\n                        <div className=\"text-xs text-gray-500\">points</div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Quick Actions */}\n              <div className=\"bg-gradient-to-br from-emerald-600 to-blue-600 rounded-2xl p-6 text-white\">\n                <h3 className=\"text-xl font-bold mb-4\">Quick Actions</h3>\n                <div className=\"space-y-3\">\n                  <Button className=\"w-full bg-white text-emerald-600 hover:bg-emerald-50\">\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    Create Post\n                  </Button>\n                  <Button variant=\"outline\" className=\"w-full border-white text-white hover:bg-white hover:text-emerald-600\">\n                    <Calendar className=\"w-4 h-4 mr-2\" />\n                    Host Event\n                  </Button>\n                  <Button variant=\"outline\" className=\"w-full border-white text-white hover:bg-white hover:text-emerald-600\">\n                    <Globe className=\"w-4 h-4 mr-2\" />\n                    Find Groups\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* CTA Section */}\n      <section className=\"py-20 bg-gradient-to-r from-emerald-600 to-blue-600 text-white\">\n        <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 text-center\">\n          <h2 className=\"text-4xl md:text-5xl font-bold mb-6\">\n            Ready to Make a Difference?\n          </h2>\n          <p className=\"text-xl text-emerald-100 mb-8 max-w-2xl mx-auto\">\n            Join our community of changemakers and start your sustainability journey today.\n          </p>\n          <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\n            <Button size=\"lg\" className=\"bg-emerald-600 text-white hover:bg-emerald-700 shadow-lg\">\n              <Users className=\"w-5 h-5 mr-2\" />\n              Join Now\n            </Button>\n            <Button variant=\"outline\" size=\"lg\" className=\"border-white text-white hover:bg-white hover:text-emerald-600\">\n              <Leaf className=\"w-5 h-5 mr-2\" />\n              Learn More\n            </Button>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n","path":null,"size_bytes":16943,"size_tokens":null},"src/components/search/SearchAutocomplete.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\nimport Link from \"next/link\";\nimport { productSearch } from \"../../lib/api\";\n\nexport default function SearchAutocomplete({ \n  searchQuery, \n  onSearchChange, \n  onSearchSubmit, \n  onSelectItem,\n  placeholder = \"Search eco-friendly products...\",\n  className = \"\"\n}) {\n  const [suggestions, setSuggestions] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState(-1);\n  const searchRef = useRef(null);\n  const suggestionsRef = useRef(null);\n\n  // Debounce search to avoid too many API calls\n  useEffect(() => {\n    const timeoutId = setTimeout(() => {\n      if (searchQuery && searchQuery.trim().length > 2) {\n        fetchSuggestions(searchQuery.trim());\n      } else {\n        setSuggestions([]);\n        setShowSuggestions(false);\n      }\n    }, 300);\n\n    return () => clearTimeout(timeoutId);\n  }, [searchQuery]);\n\n  const fetchSuggestions = async (query) => {\n    if (!query.trim()) {\n      setSuggestions([]);\n      setShowSuggestions(false);\n      return;\n    }\n\n    try {\n      setIsLoading(true);\n      const response = await productSearch.autocomplete(query, 8);\n      \n      if (response && response.suggestions) {\n        setSuggestions(response.suggestions);\n        setShowSuggestions(response.suggestions.length > 0);\n      } else if (response && Array.isArray(response)) {\n        setSuggestions(response);\n        setShowSuggestions(response.length > 0);\n      } else {\n        setSuggestions([]);\n        setShowSuggestions(false);\n      }\n    } catch (error) {\n      console.error('Error fetching search suggestions:', error);\n      \n      if (error.message === 'Failed to fetch') {\n        console.warn('Backend API is not available. Using mock data for search suggestions.');\n        \n        // Mock data for demonstration when backend is not available\n        const mockSuggestions = [\n          {\n            id: '1',\n            name: 'Eco-Friendly Water Bottle',\n            type: 'product',\n            image: '/placeholder-product.jpg',\n            price: 24.99,\n            category: 'Kitchen & Dining',\n            slug: 'eco-friendly-water-bottle'\n          },\n          {\n            id: '2',\n            name: 'Organic Cotton T-Shirt',\n            type: 'product',\n            image: '/placeholder-product.jpg',\n            price: 19.99,\n            category: 'Clothing',\n            slug: 'organic-cotton-t-shirt'\n          },\n          {\n            id: '3',\n            name: 'Bamboo Kitchen Utensils Set',\n            type: 'product',\n            image: '/placeholder-product.jpg',\n            price: 34.99,\n            category: 'Kitchen & Dining',\n            slug: 'bamboo-kitchen-utensils-set'\n          },\n          {\n            id: '4',\n            name: 'Solar-Powered Watch',\n            type: 'product',\n            image: '/placeholder-product.jpg',\n            price: 89.99,\n            category: 'Electronics',\n            slug: 'solar-powered-watch'\n          },\n          {\n            id: '5',\n            name: 'Reusable Shopping Bags',\n            type: 'product',\n            image: '/placeholder-product.jpg',\n            price: 12.99,\n            category: 'Home & Garden',\n            slug: 'reusable-shopping-bags'\n          }\n        ].filter(item => \n          item.name.toLowerCase().includes(query.toLowerCase()) ||\n          item.category.toLowerCase().includes(query.toLowerCase())\n        );\n        \n        setSuggestions(mockSuggestions);\n        setShowSuggestions(mockSuggestions.length > 0);\n        return;\n      }\n      \n      // Fallback: try to get products directly if autocomplete fails\n      try {\n        const fallbackResponse = await productSearch.search({\n          query: query,\n          limit: 8,\n          filters: {}\n        });\n        if (fallbackResponse && fallbackResponse.products) {\n          const productSuggestions = fallbackResponse.products.map(product => ({\n            id: product.id,\n            name: product.name || product.title,\n            type: 'product',\n            image: product.images?.[0]?.url || product.image,\n            price: product.price,\n            category: product.category?.name,\n            slug: product.slug\n          }));\n          setSuggestions(productSuggestions);\n          setShowSuggestions(productSuggestions.length > 0);\n        } else {\n          setSuggestions([]);\n          setShowSuggestions(false);\n        }\n      } catch (fallbackError) {\n        console.error('Fallback search also failed:', fallbackError);\n        setSuggestions([]);\n        setShowSuggestions(false);\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const value = e.target.value;\n    onSearchChange(value);\n    setSelectedIndex(-1);\n  };\n\n  const handleKeyDown = (e) => {\n    if (!showSuggestions || suggestions.length === 0) {\n      if (e.key === 'Enter') {\n        e.preventDefault();\n        onSearchSubmit(e);\n      }\n      return;\n    }\n\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        setSelectedIndex(prev => \n          prev < suggestions.length - 1 ? prev + 1 : 0\n        );\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        setSelectedIndex(prev => \n          prev > 0 ? prev - 1 : suggestions.length - 1\n        );\n        break;\n      case 'Enter':\n        e.preventDefault();\n        if (selectedIndex >= 0 && selectedIndex < suggestions.length) {\n          handleSelectSuggestion(suggestions[selectedIndex]);\n        } else {\n          onSearchSubmit(e);\n        }\n        break;\n      case 'Escape':\n        setShowSuggestions(false);\n        setSelectedIndex(-1);\n        searchRef.current?.blur();\n        break;\n    }\n  };\n\n  const handleSelectSuggestion = (suggestion) => {\n    if (typeof window !== 'undefined') {\n      if (suggestion.type === 'product') {\n        // Navigate to product page\n        window.location.href = `/products/${suggestion.slug || suggestion.id}`;\n      } else if (suggestion.type === 'category') {\n        // Navigate to category page\n        window.location.href = `/explore?category=${suggestion.slug || suggestion.name}`;\n      } else {\n        // Set search query and submit\n        onSearchChange(suggestion.name || suggestion.title || suggestion.query);\n        setShowSuggestions(false);\n        setTimeout(() => {\n          onSearchSubmit({ preventDefault: () => {} });\n        }, 100);\n      }\n    }\n    onSelectItem?.(suggestion);\n  };\n\n  // Close suggestions when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (\n        searchRef.current && \n        !searchRef.current.contains(event.target) &&\n        suggestionsRef.current && \n        !suggestionsRef.current.contains(event.target)\n      ) {\n        setShowSuggestions(false);\n        setSelectedIndex(-1);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleFocus = () => {\n    if (suggestions.length > 0) {\n      setShowSuggestions(true);\n    }\n  };\n\n  return (\n    <div className=\"relative w-full\">\n      <div className={`${className} flex items-center gap-2 w-full`}>\n          {/* Search Icon */}\n          <button type=\"button\" onClick={onSearchSubmit} className=\"w-6 h-6 flex items-center justify-center\">\n            <svg width=\"17\" height=\"17\" viewBox=\"0 0 17 17\" fill=\"none\" className=\"text-[#1a3d0a]\">\n              <path d=\"M16 16L12.375 12.375M14.25 7.625C14.25 11.2869 11.2869 14.25 7.625 14.25C3.96309 14.25 1 11.2869 1 7.625C1 3.96309 3.96309 1 7.625 1C11.2869 1 14.25 3.96309 14.25 7.625Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n          </button>\n          \n          {/* Search Input */}\n          <input\n            ref={searchRef}\n            type=\"text\"\n            placeholder={placeholder}\n            value={searchQuery}\n            onChange={handleInputChange}\n            onKeyDown={handleKeyDown}\n            onFocus={handleFocus}\n            className=\"bg-transparent border-none outline-none text-[#1a3d0a] text-[20px] font-reem font-normal placeholder:text-[#4a7c28] w-full cursor-text\"\n            autoComplete=\"off\"\n            spellCheck=\"false\"\n          />\n\n          {/* Loading indicator */}\n          {isLoading && (\n            <div className=\"w-4 h-4 animate-spin\">\n              <svg className=\"w-full h-full text-[#1a3d0a]\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n            </div>\n          )}\n      </div>\n\n      {/* Suggestions Dropdown */}\n      {showSuggestions && suggestions.length > 0 && (\n        <div \n          ref={suggestionsRef}\n          className=\"absolute top-full left-0 right-0 mt-2 bg-gradient-to-br from-[#f8fdf8] to-[#e8f5e8] border border-[#4a7c28] rounded-2xl shadow-lg z-50 max-h-80 overflow-y-auto\"\n        >\n          {suggestions.map((suggestion, index) => (\n            <div\n              key={`${suggestion.type}-${suggestion.id || suggestion.name || index}`}\n              className={`flex items-center gap-3 px-4 py-3 cursor-pointer transition-all duration-200 ${\n                index === selectedIndex \n                  ? 'bg-[#4a7c28]/20 text-[#1a3d0a]' \n                  : 'hover:bg-[#4a7c28]/10 text-[#2d5016]'\n              } ${index === 0 ? 'rounded-t-2xl' : ''} ${\n                index === suggestions.length - 1 ? 'rounded-b-2xl border-b-0' : 'border-b border-[#4a7c28]/20'\n              }`}\n              onClick={() => handleSelectSuggestion(suggestion)}\n            >\n              {/* Icon based on suggestion type */}\n              <div className=\"w-8 h-8 flex items-center justify-center rounded-full bg-[#4a7c28]/10 border border-[#4a7c28]/20\">\n                {suggestion.type === 'product' ? (\n                  suggestion.image ? (\n                    <img \n                      src={suggestion.image} \n                      alt={suggestion.name}\n                      className=\"w-6 h-6 object-cover rounded-full\"\n                    />\n                  ) : (\n                    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" className=\"text-[#1a3d0a]\">\n                      <path d=\"M20 7L12 3L4 7L12 11L20 7Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                      <path d=\"M4 7V17L12 21L20 17V7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                    </svg>\n                  )\n                ) : suggestion.type === 'category' ? (\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" className=\"text-[#1a3d0a]\">\n                    <path d=\"M3 3H21V21H3V3Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                    <path d=\"M9 9H15V15H9V9Z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                  </svg>\n                ) : (\n                  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" className=\"text-[#1a3d0a]\">\n                    <circle cx=\"11\" cy=\"11\" r=\"8\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                    <path d=\"M21 21L16.65 16.65\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                  </svg>\n                )}\n              </div>\n\n              {/* Suggestion content */}\n              <div className=\"flex-1 min-w-0\">\n                <div className=\"font-medium text-sm truncate\">\n                  {suggestion.name || suggestion.title || suggestion.query}\n                </div>\n                {suggestion.category && (\n                  <div className=\"text-xs text-[#4a7c28] truncate\">\n                    in {suggestion.category}\n                  </div>\n                )}\n                {suggestion.price && (\n                  <div className=\"text-xs font-semibold text-[#1a3d0a]\">\n                    ₹{suggestion.price}\n                  </div>\n                )}\n              </div>\n\n              {/* Type indicator */}\n              <div className=\"text-xs text-[#4a7c28] opacity-70 capitalize\">\n                {suggestion.type}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":12779,"size_tokens":null},"src/components/vendor/onboarding/Step5Sustainability.jsx":{"content":"import React, { useState } from 'react';\nimport FileUpload from '../../ui/FileUpload';\nimport EcoBadge from '../../ui/EcoBadge';\n\nexport default function Step5Sustainability({ formData, handleChange, errors = {}, onValidation }) {\n  const [loading, setLoading] = useState(false);\n  const [validationErrors, setValidationErrors] = useState({});\n  const [uploadingCertificate, setUploadingCertificate] = useState(false);\n  const [selectedPractices, setSelectedPractices] = useState(formData.selected_practices || []);\n  const [selectedCertifications, setSelectedCertifications] = useState(formData.certifications || []);\n\n  // Validation function\n  const validateField = (fieldName, value) => {\n    const errors = {};\n\n    switch (fieldName) {\n      case 'sustainability_practices':\n        if (!value || value.trim().length < 20) {\n          errors.sustainability_practices = 'Sustainability practices description must be at least 20 characters';\n        }\n        break;\n    }\n\n    return errors;\n  };\n\n  // Handle field change with validation\n  const handleFieldChange = (fieldName, value) => {\n    handleChange(fieldName, value);\n    \n    // Validate field\n    const fieldErrors = validateField(fieldName, value);\n    setValidationErrors(prev => ({\n      ...prev,\n      [fieldName]: fieldErrors[fieldName] || null\n    }));\n\n    // Call parent validation if provided\n    if (onValidation) {\n      onValidation(fieldName, !fieldErrors[fieldName]);\n    }\n  };\n\n  // Handle sustainability certificate upload\n  const handleCertificateUpload = async (file) => {\n    try {\n      setUploadingCertificate(true);\n      // Add a small delay to show the loading indicator\n      await new Promise(resolve => setTimeout(resolve, 500));\n      if (file) {\n        handleChange('sustainability_certificate', file);\n      } else {\n        handleChange('sustainability_certificate', null);\n      }\n    } catch (error) {\n      console.error('Error uploading sustainability certificate:', error);\n    } finally {\n      setUploadingCertificate(false);\n    }\n  };\n\n  // Sustainability practice options\n  const sustainabilityPractices = [\n    { id: 'organic', label: 'Organic Materials', icon: '🌿' },\n    { id: 'recycled', label: 'Recycled Materials', icon: '♻️' },\n    { id: 'renewable_energy', label: 'Renewable Energy', icon: '⚡' },\n    { id: 'carbon_neutral', label: 'Carbon Neutral', icon: '🌍' },\n    { id: 'plastic_free', label: 'Plastic-Free Packaging', icon: '🚫' },\n    { id: 'fair_trade', label: 'Fair Trade', icon: '🤝' },\n    { id: 'local_sourcing', label: 'Local Sourcing', icon: '📍' },\n    { id: 'water_conservation', label: 'Water Conservation', icon: '💧' },\n    { id: 'waste_reduction', label: 'Waste Reduction', icon: '🗑️' },\n    { id: 'biodegradable', label: 'Biodegradable Products', icon: '🍃' }\n  ];\n\n  // Certification options\n  const certificationOptions = [\n    { id: 'iso14001', label: 'ISO 14001 Environmental Management' },\n    { id: 'organic_certified', label: 'Organic Certification' },\n    { id: 'fair_trade_certified', label: 'Fair Trade Certified' },\n    { id: 'forest_stewardship', label: 'Forest Stewardship Council (FSC)' },\n    { id: 'cradle_to_cradle', label: 'Cradle to Cradle Certified' },\n    { id: 'energy_star', label: 'Energy Star Certified' },\n    { id: 'carbon_trust', label: 'Carbon Trust Standard' },\n    { id: 'rainforest_alliance', label: 'Rainforest Alliance Certified' },\n    { id: 'b_corp', label: 'B Corp Certification' },\n    { id: 'other', label: 'Other (Please specify)' }\n  ];\n\n  // Handle practice selection\n  const handlePracticeToggle = (practiceId) => {\n    const updatedPractices = selectedPractices.includes(practiceId)\n      ? selectedPractices.filter(id => id !== practiceId)\n      : [...selectedPractices, practiceId];\n    \n    setSelectedPractices(updatedPractices);\n    handleChange('selected_practices', updatedPractices);\n  };\n\n  // Handle certification selection\n  const handleCertificationToggle = (certId) => {\n    const updatedCerts = selectedCertifications.includes(certId)\n      ? selectedCertifications.filter(id => id !== certId)\n      : [...selectedCertifications, certId];\n    \n    setSelectedCertifications(updatedCerts);\n    handleChange('certifications', updatedCerts);\n  };\n\n  return (\n    <>\n      {/* Sustainability Practices Selection */}\n      <div className=\"flex flex-col mb-6\">\n        <label className=\"flex items-center px-4 py-0 mb-4\">\n          <span className=\"font-semibold text-[18px] text-[var(--color-eco-primary)]\">\n            🌱 Select Your Sustainability Practices\n          </span>\n          <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n        </label>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 px-4 mb-4\">\n          {sustainabilityPractices.map((practice) => (\n            <div\n              key={practice.id}\n              onClick={() => handlePracticeToggle(practice.id)}\n              className={`\n                p-4 rounded-lg border-2 cursor-pointer transition-all duration-200\n                ${selectedPractices.includes(practice.id)\n                  ? 'border-[var(--color-eco-primary)] bg-[var(--color-eco-subtle)]'\n                  : 'border-gray-200 bg-white hover:border-[var(--color-eco-accent)]'\n                }\n              `}\n            >\n              <div className=\"flex items-center space-x-3\">\n                <span className=\"text-2xl\">{practice.icon}</span>\n                <span className=\"font-medium text-[var(--color-eco-primary)]\">\n                  {practice.label}\n                </span>\n                {selectedPractices.includes(practice.id) && (\n                  <svg className=\"w-5 h-5 text-[var(--color-eco-primary)] ml-auto\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                  </svg>\n                )}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Certifications */}\n      <div className=\"flex flex-col mb-6\">\n        <label className=\"flex items-center px-4 py-0 mb-4\">\n          <span className=\"font-semibold text-[18px] text-[var(--color-eco-primary)]\">\n            🏆 Sustainability Certifications (Optional)\n          </span>\n        </label>\n        \n        <div className=\"px-4 space-y-2 mb-4\">\n          {certificationOptions.map((cert) => (\n            <label\n              key={cert.id}\n              className=\"flex items-center p-3 rounded-lg hover:bg-[var(--color-eco-subtle)] transition-colors cursor-pointer\"\n            >\n              <input\n                type=\"checkbox\"\n                checked={selectedCertifications.includes(cert.id)}\n                onChange={() => handleCertificationToggle(cert.id)}\n                className=\"w-4 h-4 text-[var(--color-eco-primary)] bg-gray-100 border-gray-300 rounded focus:ring-[var(--color-eco-primary)] focus:ring-2\"\n              />\n              <span className=\"ml-3 text-[var(--color-eco-primary)] font-medium\">\n                {cert.label}\n              </span>\n            </label>\n          ))}\n        </div>\n      </div>\n\n      {/* Sustainability Practices Description */}\n      <div className=\"flex flex-col\">\n        <label className=\"flex items-center px-4 py-0 mb-2\">\n          <span className=\"font-semibold text-[16px] text-[var(--color-eco-primary)] opacity-80\">\n            📝 Detailed Sustainability Practices Description\n          </span>\n          <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n        </label>\n        <textarea\n          value={formData.sustainability_practices || ''}\n          onChange={(e) => handleFieldChange('sustainability_practices', e.target.value)}\n          placeholder=\"Provide detailed information about your sustainability practices:\n\n🌱 Environmental Impact: How do you minimize your environmental footprint?\n📦 Sustainable Materials: What eco-friendly materials do you use?\n⚡ Energy & Resources: How do you conserve energy and water?\n♻️ Waste Management: What are your waste reduction and recycling efforts?\n🤝 Ethical Sourcing: Do you follow fair trade or ethical sourcing practices?\n📋 Compliance: Any environmental standards or regulations you follow?\n🎯 Goals: What are your sustainability goals and achievements?\"\n          rows={8}\n          className={`w-full bg-[var(--color-eco-subtle)] border rounded-[8px] px-4 py-3 \n                   font-medium text-[16px] text-[var(--color-eco-primary)] opacity-70\n                   focus:opacity-100 focus:outline-none transition-all resize-none\n                   ${validationErrors.sustainability_practices || errors.sustainability_practices \n                     ? 'border-red-500 focus:border-red-500' \n                     : 'border-[var(--color-eco-accent)] focus:border-[var(--color-eco-primary)]'}`}\n        />\n        {(validationErrors.sustainability_practices || errors.sustainability_practices) && (\n          <span className=\"text-red-500 text-sm mt-1 px-4\">\n            {validationErrors.sustainability_practices || errors.sustainability_practices}\n          </span>\n        )}\n      </div>\n\n      {/* Sustainability Certificate Upload */}\n      <div className=\"flex flex-col\">\n        <label className=\"flex items-center px-4 py-0 mb-2\">\n          <span className=\"font-semibold text-[16px] text-[var(--color-eco-primary)] opacity-80\">\n            📄 Upload Sustainability Certificates (Optional)\n          </span>\n        </label>\n        \n        <div className=\"px-4\">\n          <FileUpload\n            onFileSelect={handleCertificateUpload}\n            accept=\".pdf,.jpg,.jpeg,.png,.doc,.docx\"\n            fileType=\"document\"\n            label=\"Certificate Upload\"\n            description=\"Upload sustainability certificates, environmental compliance documents, or third-party verifications\"\n            currentFile={formData.sustainability_certificate}\n            isUploading={uploadingCertificate}\n          />\n        </div>\n      </div>\n\n      {/* Eco Badge Preview */}\n      {selectedPractices.length > 0 && (\n        <div className=\"bg-[var(--color-eco-subtle)] border border-[var(--color-eco-accent)] rounded-lg p-4 mx-4 mb-4\">\n          <h3 className=\"text-sm font-medium text-[var(--color-eco-primary)] mb-3\">\n            🏷️ Your Eco Badges Preview:\n          </h3>\n          <div className=\"flex flex-wrap gap-2\">\n            {selectedPractices.slice(0, 4).map((practiceId) => {\n              const practice = sustainabilityPractices.find(p => p.id === practiceId);\n              if (!practice) return null;\n              \n              const badgeTypeMap = {\n                'organic': 'organic',\n                'recycled': 'renewable',\n                'renewable_energy': 'renewable',\n                'carbon_neutral': 'carbonNeutral',\n                'plastic_free': 'plastic_free',\n                'local_sourcing': 'local',\n                'fair_trade': 'verified'\n              };\n              \n              return (\n                <EcoBadge \n                  key={practiceId}\n                  type={badgeTypeMap[practiceId] || 'certified'}\n                  size=\"sm\"\n                />\n              );\n            })}\n            {selectedPractices.length > 4 && (\n              <span className=\"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full\">\n                +{selectedPractices.length - 4} more\n              </span>\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Information about sustainability benefits */}\n      <div className=\"bg-gradient-to-r from-[var(--color-eco-subtle)] to-green-50 border border-[var(--color-eco-accent)] rounded-lg p-6 mx-4\">\n        <div className=\"flex items-start\">\n          <div className=\"flex-shrink-0\">\n            <div className=\"w-10 h-10 bg-[var(--color-eco-primary)] rounded-full flex items-center justify-center\">\n              <span className=\"text-white text-lg\">🌱</span>\n            </div>\n          </div>\n          <div className=\"ml-4\">\n            <h3 className=\"text-lg font-semibold text-[var(--color-eco-primary)] mb-3\">\n              Why Join Our Sustainable Marketplace?\n            </h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-[var(--color-eco-secondary)]\">\n              <div className=\"flex items-start space-x-2\">\n                <span>🎯</span>\n                <span>Reach 50M+ eco-conscious consumers</span>\n              </div>\n              <div className=\"flex items-start space-x-2\">\n                <span>🏆</span>\n                <span>Get verified sustainability badges</span>\n              </div>\n              <div className=\"flex items-start space-x-2\">\n                <span>📈</span>\n                <span>Higher visibility in green searches</span>\n              </div>\n              <div className=\"flex items-start space-x-2\">\n                <span>💚</span>\n                <span>Join the largest eco-marketplace</span>\n              </div>\n              <div className=\"flex items-start space-x-2\">\n                <span>🌍</span>\n                <span>Track your environmental impact</span>\n              </div>\n              <div className=\"flex items-start space-x-2\">\n                <span>🤝</span>\n                <span>Connect with like-minded vendors</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {loading && (\n        <div className=\"flex justify-center items-center py-4\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1a4032]\"></div>\n        </div>\n      )}\n    </>\n  );\n}\n","path":null,"size_bytes":13758,"size_tokens":null},"src/components/esg/TopCategoriesSection.jsx":{"content":"import CategoryCard from '../ui/CategoryCard';\n\nexport default function TopCategoriesSection() {\n  // Categories data matching the Figma design\n  const categories = [\n    {\n      title: \"Clothes\",\n      imageUrl: \"/category1.png\", // Using existing image, replace with actual category images\n      href: \"/explore?category=fashion\"\n    },\n    {\n      title: \"Pet Care\", \n      imageUrl: \"/petcare.jpg\", // Replace with actual pet care image\n      href: \"/explore?category=pets\"\n    },\n    {\n      title: \"Fitness\",\n      imageUrl: \"/fitness.jpg\", // Replace with actual fitness image\n      href: \"/explore?category=fitness\"\n    },\n    {\n      title: \"Home & Furniture\",\n      imageUrl: \"/home.jpg\", // Replace with actual home & furniture image\n      href: \"/explore?category=home-living\"\n    },\n    {\n      title: \"Beauty\",\n      imageUrl: \"/beauty.jpg\", // Replace with actual beauty image\n      href: \"/explore?category=beauty-personal-care\"\n    }\n  ];\n\n  return (\n    <section className=\"w-full py-8 sm:py-16\" style={{ background: '#c2bebf' }}>\n      <div className=\"flex flex-col gap-6 sm:gap-[38px] items-center justify-start w-full max-w-[1343px] mx-auto px-4\">\n        \n        {/* Section Title */}\n        <h2 className=\"font-reem font-semibold text-2xl sm:text-3xl lg:text-[35.857px] text-[#52494a] text-center leading-[1.2] w-full\">\n          Top Categories\n        </h2>\n        \n        {/* Categories Grid */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 sm:gap-5 items-center justify-center w-full\">\n          {categories.map((category, index) => (\n            <CategoryCard \n              key={index}\n              title={category.title}\n              imageUrl={category.imageUrl}\n              href={category.href}\n            />\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":1859,"size_tokens":null},"src/components/vendor/orders/OrdersTable.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport OrderTableHeader from './OrderTableHeader';\nimport OrderRow from './OrderRow';\nimport supplierOrdersService from '../../../services/supplierOrdersService';\n\nexport default function OrdersTable() {\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    page_size: 20,\n    total: 0,\n    total_pages: 0\n  });\n  const [statusFilter, setStatusFilter] = useState('');\n\n  useEffect(() => {\n    fetchOrders();\n  }, [pagination.page, statusFilter]);\n\n  const fetchOrders = async () => {\n    try {\n      setLoading(true);\n      const params = {\n        page: pagination.page,\n        page_size: pagination.page_size\n      };\n      \n      if (statusFilter) {\n        params.status = statusFilter;\n      }\n\n      const result = await supplierOrdersService.getOrders(params);\n      setOrders(result.items || []);\n      setPagination(prev => ({\n        ...prev,\n        total: result.total || 0,\n        total_pages: result.total_pages || 0\n      }));\n    } catch (error) {\n      console.error('Failed to fetch orders:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePageChange = (newPage) => {\n    setPagination(prev => ({ ...prev, page: newPage }));\n  };\n\n  const handleStatusFilter = (newStatus) => {\n    setStatusFilter(newStatus);\n    setPagination(prev => ({ ...prev, page: 1 })); // Reset to first page when filter changes\n  };\n\n  const handleStatusUpdate = (orderItemId, newStatus) => {\n    // Update the order status in the local state\n    setOrders(prevOrders =>\n      prevOrders.map(order =>\n        order.id === orderItemId\n          ? { ...order, fulfillment_status: newStatus }\n          : order\n      )\n    );\n  };\n\n  const formatOrderId = (id) => {\n    return `ORD-${id?.slice(-6)?.toUpperCase() || 'XXXXXX'}`;\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      minimumFractionDigits: 2\n    }).format(amount || 0).replace('₹', '₹');\n  };\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n\n  if (loading && orders.length === 0) {\n    return (\n      <div className=\"bg-white rounded-[14px] border border-[#c6c6c6] overflow-hidden\">\n        <OrderTableHeader />\n        <div className=\"p-4 sm:p-8\">\n          <div className=\"animate-pulse space-y-4\">\n            {[1, 2, 3, 4, 5].map((i) => (\n              <div key={i} className=\"flex items-center space-x-4 p-4 border-b\">\n                <div className=\"flex-1 space-y-2\">\n                  <div className=\"h-3 sm:h-4 bg-gray-200 rounded w-1/4\"></div>\n                  <div className=\"h-2 sm:h-3 bg-gray-200 rounded w-1/2\"></div>\n                </div>\n                <div className=\"w-16 sm:w-20 h-3 sm:h-4 bg-gray-200 rounded\"></div>\n                <div className=\"w-12 sm:w-16 h-3 sm:h-4 bg-gray-200 rounded\"></div>\n                <div className=\"w-16 sm:w-20 h-4 sm:h-6 bg-gray-200 rounded\"></div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-white rounded-[14px] border border-[#c6c6c6] p-8 text-center\">\n        <p className=\"text-red-500 mb-4\">Failed to load orders: {error}</p>\n        <button \n          onClick={fetchOrders}\n          className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors\"\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-[14px] border border-[#c6c6c6]\">\n      {/* Table Header */}\n      <div className=\"p-4 sm:p-7 pb-4\">\n        <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0 mb-4\">\n          <h3 className=\"font-inter font-semibold text-[14px] sm:text-[16px] text-black\">\n            All Orders ({pagination.total})\n          </h3>\n          <div className=\"flex gap-2\">\n            <select\n              value={statusFilter}\n              onChange={(e) => handleStatusFilter(e.target.value)}\n              className=\"bg-[#fcfdfd] border-[0.6px] border-[#818181] rounded-[4px] px-3 py-2 text-[12px] sm:text-[14px] text-[rgba(0,0,0,0.4)] font-reem w-full sm:w-auto\"\n            >\n              <option value=\"\">All Orders</option>\n              <option value=\"pending\">Pending</option>\n              <option value=\"processing\">Processing</option>\n              <option value=\"shipped\">Shipped</option>\n              <option value=\"delivered\">Delivered</option>\n              <option value=\"cancelled\">Cancelled</option>\n            </select>\n          </div>\n        </div>\n\n        <OrderTableHeader />\n      </div>\n\n      {/* Table Body */}\n      <div className=\"px-4 sm:px-7 pb-4 sm:pb-7 space-y-3 sm:space-y-4\">\n        {orders.length === 0 ? (\n          <div className=\"text-center py-8\">\n            <p className=\"text-gray-500\">\n              {statusFilter ? `No ${statusFilter} orders found` : 'No orders found'}\n            </p>\n          </div>\n        ) : (\n          orders.map((order, index) => {\n            // Transform order data to match OrderRow expectations\n            const transformedOrder = {\n              id: formatOrderId(order.order_id),\n              product: order.product_name,\n              market: order.sku, // Using SKU as market identifier\n              items: `${order.quantity} Items`,\n              total: formatCurrency(order.total_price),\n              date: formatDate(order.created_at),\n              status: order.fulfillment_status || 'pending',\n              originalOrder: order // Keep original data for actions\n            };\n            \n            return <OrderRow key={`${order.id}-${index}`} order={transformedOrder} onStatusUpdate={handleStatusUpdate} />;\n          })\n        )}\n      </div>\n      \n      {/* Pagination */}\n      {pagination.total_pages > 1 && (\n        <div className=\"flex justify-center items-center gap-2 pb-4\">\n          <button \n            onClick={() => handlePageChange(pagination.page - 1)}\n            disabled={pagination.page <= 1}\n            className=\"px-3 py-1 border rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\n          >\n            Previous\n          </button>\n          \n          <span className=\"px-3 py-1 text-sm text-gray-600\">\n            Page {pagination.page} of {pagination.total_pages}\n          </span>\n          \n          <button \n            onClick={() => handlePageChange(pagination.page + 1)}\n            disabled={pagination.page >= pagination.total_pages}\n            className=\"px-3 py-1 border rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\n          >\n            Next\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":7028,"size_tokens":null},"src/app/admin/layout.js":{"content":"\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useAuth } from \"@/hooks/useAuth\";\n\nexport default function AdminLayout({ children }) {\n  const { user, loading } = useAuth();\n  const router = useRouter();\n  const [isCheckingAuth, setIsCheckingAuth] = useState(true);\n\n  useEffect(() => {\n    if (!loading) {\n      if (!user) {\n        router.push(\"/admin/login\");\n      } else if (user.user_role !== \"admin\") {\n        router.push(\"/\");\n      } else {\n        setIsCheckingAuth(false);\n      }\n    }\n  }, [user, loading, router]);\n\n  if (loading || isCheckingAuth) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading admin dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user || user.user_role !== \"admin\") {\n    return null; // Will redirect\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {children}\n    </div>\n  );\n}\n","path":null,"size_bytes":1163,"size_tokens":null},"src/app/forgot-password/page.jsx":{"content":"import ForgotPasswordForm from \"../../components/forms/ForgotPasswordForm\";\n\nexport const metadata = { title: \"Forgot Password - Aveoearth\" };\n\nexport default function ForgotPasswordPage() {\n  return <ForgotPasswordForm />;\n}\n","path":null,"size_bytes":226,"size_tokens":null},"src/app/layout.js":{"content":"import { Geist, Geist_Mono, EB_Garamond } from \"next/font/google\";\nimport \"./globals.css\";\nimport Navbar from \"../components/layout/Navbar\";\nimport BottomNavigation from \"../components/layout/BottomNavigation\";\nimport Footer from \"../components/layout/Footer\";\nimport { Reem_Kufi, Poppins } from \"next/font/google\";\nimport { AuthProvider } from \"../hooks/useAuth\";\nimport { CartProvider } from \"../hooks/useCart\";\nimport { OrdersProvider } from \"../hooks/useOrders\";\nimport FloatingChatBot from \"../components/ai/FloatingChatBot\";\n\nconst geistSans = Geist({\n  variable: \"--font-geist-sans\",\n  subsets: [\"latin\"],\n});\n\nconst geistMono = Geist_Mono({\n  variable: \"--font-geist-mono\",\n  subsets: [\"latin\"],\n});\n\nconst ebGaramond = EB_Garamond({\n  variable: \"--font-eb-garamond\",\n  subsets: [\"latin\"],\n});\n\nconst reemkufi = Reem_Kufi({\n  subsets: [\"latin\"],\n  weight: [\"400\", \"500\", \"600\", \"700\"],\n  variable: \"--font-reemkufi\",\n});\n\nconst poppins = Poppins({\n  subsets: [\"latin\"],\n  weight: [\n    \"100\",\n    \"200\",\n    \"300\",\n    \"400\",\n    \"500\",\n    \"600\",\n    \"700\",\n    \"800\",\n    \"900\",\n  ],\n  style: [\"normal\", \"italic\"],\n  variable: \"--font-poppins\",\n});\n\n\nexport const metadata = {\n  title: \"Create Next App\",\n  description: \"Generated by create next app\",\n};\n\nexport default function RootLayout({ children }) {\n  return (\n    <html lang=\"en\">\n      <body\n        className={`${geistSans.variable} ${geistMono.variable} ${ebGaramond.variable} ${reemkufi.variable} ${poppins.variable} antialiased pt-[76px] pb-[88px]`}\n        suppressHydrationWarning={true}\n      >\n        <AuthProvider>\n          <CartProvider>\n            <OrdersProvider>\n              <Navbar />\n              <main className=\"min-h-screen\">\n                {children}\n              </main>\n              <BottomNavigation />\n              <Footer />\n              <FloatingChatBot />\n            </OrdersProvider>\n          </CartProvider>\n        </AuthProvider>\n      </body>\n    </html>\n  );\n}\n","path":null,"size_bytes":1975,"size_tokens":null},"src/components/cart/CouponCode.jsx":{"content":"\"use client\";\n\nimport { useState } from \"react\";\n\nexport default function CouponCode({ value, onChange }) {\n  const [isApplying, setIsApplying] = useState(false);\n\n  const handleApplyCoupon = async () => {\n    if (!value.trim()) return;\n    \n    setIsApplying(true);\n    \n    // Simulate API call\n    setTimeout(() => {\n      console.log(\"Applying coupon:\", value);\n      // Handle coupon application logic here\n      setIsApplying(false);\n    }, 1000);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    handleApplyCoupon();\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg border border-[#e6e6e6] p-4\">\n      <div className=\"flex flex-col sm:flex-row items-start sm:items-center gap-4\">\n        {/* Title */}\n        <h3 className=\"font-poppins font-medium text-[#1a1a1a] text-lg whitespace-nowrap\">\n          Coupon Code\n        </h3>\n\n        {/* Input and Button */}\n        <form onSubmit={handleSubmit} className=\"flex flex-col sm:flex-row gap-3 flex-1 w-full\">\n          {/* Input Field */}\n          <div className=\"relative flex-1\">\n            <input\n              type=\"text\"\n              value={value}\n              onChange={(e) => onChange(e.target.value)}\n              placeholder=\"Enter code\"\n              className=\"w-full bg-white border border-[#e6e6e6] rounded-[46px] px-5 py-3 font-poppins text-sm text-[#1a1a1a] placeholder:text-[#999999] focus:outline-none focus:border-[#333333] transition-colors\"\n            />\n          </div>\n\n          {/* Apply Button */}\n          <button\n            type=\"submit\"\n            disabled={!value.trim() || isApplying}\n            className={`bg-[#333333] hover:bg-[#1a1a1a] disabled:bg-[#999999] disabled:cursor-not-allowed text-white font-poppins font-semibold text-sm px-6 py-3 rounded-[43px] whitespace-nowrap transition-colors ${\n              isApplying ? 'opacity-70' : 'opacity-100'\n            }`}\n          >\n            {isApplying ? \"Applying...\" : \"Apply Coupon\"}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":2033,"size_tokens":null},"src/app/returns/page.jsx":{"content":"export const metadata = { title: \"Returns\" };\n\nexport default function ReturnsPage() {\n  return (\n    <div className=\"container mx-auto px-4 py-10\">\n      <h1 className=\"text-3xl font-semibold mb-3\">Returns & Refunds</h1>\n      <p className=\"text-neutral-600\">Placeholder for your returns and refunds policy.</p>\n    </div>\n  );\n}\n\n\n","path":null,"size_bytes":333,"size_tokens":null},"src/components/cart/CartSummary.jsx":{"content":"\"use client\";\n\nexport default function CartSummary({ subtotal, shipping, total, onCheckout }) {\n  const handleCheckout = () => {\n    if (onCheckout) {\n      onCheckout();\n    } else {\n      // Default behavior\n      console.log(\"Proceeding to checkout with total:\", total);\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg border border-[#e6e6e6] p-5\">\n      {/* Title */}\n      <h2 className=\"font-poppins font-medium text-[#1a1a1a] text-lg mb-5\">\n        Cart Total\n      </h2>\n\n      {/* Summary Details */}\n      <div className=\"space-y-3\">\n        {/* Subtotal */}\n        <div className=\"flex items-center justify-between py-2 border-b border-[#e6e6e6]\">\n          <span className=\"font-poppins text-[#4d4d4d] text-sm\">\n            Subtotal:\n          </span>\n          <span className=\"font-poppins font-medium text-[#1a1a1a] text-sm\">\n            ₹{subtotal.toFixed(2)}\n          </span>\n        </div>\n\n        {/* Shipping */}\n        <div className=\"flex items-center justify-between py-2 border-b border-[#e6e6e6]\">\n          <span className=\"font-poppins text-[#4d4d4d] text-sm\">\n            Shipping:\n          </span>\n          <span className=\"font-poppins font-medium text-[#1a1a1a] text-sm\">\n            {shipping === 0 ? \"Free\" : `₹${shipping.toFixed(2)}`}\n          </span>\n        </div>\n\n        {/* Total */}\n        <div className=\"flex items-center justify-between py-2\">\n          <span className=\"font-poppins text-[#4d4d4d] text-sm\">\n            Total:\n          </span>\n          <span className=\"font-poppins font-semibold text-[#1a1a1a] text-base\">\n            ₹{total.toFixed(2)}\n          </span>\n        </div>\n      </div>\n\n      {/* Checkout Button */}\n      <button\n        onClick={handleCheckout}\n        className=\"w-full bg-black hover:bg-[#333333] text-white font-poppins font-semibold text-sm px-8 py-3 rounded-[43px] mt-4 transition-colors\"\n      >\n        Proceed to checkout\n      </button>\n    </div>\n  );\n}\n","path":null,"size_bytes":1975,"size_tokens":null},"src/components/vendor/onboarding/Step4Inventory.jsx":{"content":"import React, { useState, useEffect } from 'react';\n\nexport default function Step4Inventory({ formData, handleChange, errors = {}, onValidation }) {\n  const [validationErrors, setValidationErrors] = useState({});\n  const [variants, setVariants] = useState(formData.productVariants || [{ \n    sku: '', \n    title: '', \n    price: '', \n    compare_at_price: '', \n    weight: '',\n    option1_name: '',\n    option1_value: '',\n    option2_name: '',\n    option2_value: '',\n    option3_name: '',\n    option3_value: '',\n    is_default: false \n  }]);\n\n  // Validation function\n  const validateField = (fieldName, value) => {\n    const errors = {};\n\n    switch (fieldName) {\n      case 'weight':\n        if (value && parseFloat(value) < 0) {\n          errors.weight = 'Weight cannot be negative';\n        }\n        break;\n      case 'origin_country':\n        if (!value || value.trim().length < 2) {\n          errors.origin_country = 'Origin country is required';\n        }\n        break;\n    }\n\n    return errors;\n  };\n\n  // Handle field change with validation\n  const handleFieldChange = (fieldName, value) => {\n    handleChange(fieldName, value);\n    \n    // Validate field\n    const fieldErrors = validateField(fieldName, value);\n    setValidationErrors(prev => ({\n      ...prev,\n      [fieldName]: fieldErrors[fieldName] || null\n    }));\n\n    // Call parent validation if provided\n    if (onValidation) {\n      onValidation(fieldName, !fieldErrors[fieldName]);\n    }\n  };\n\n  // Handle variants\n  const handleVariantChange = (index, field, value) => {\n    const newVariants = [...variants];\n    newVariants[index] = { ...newVariants[index], [field]: value };\n    setVariants(newVariants);\n    handleChange('productVariants', newVariants);\n  };\n\n  const addVariant = () => {\n    const newVariants = [...variants, { \n      sku: '', \n      title: '', \n      price: '', \n      compare_at_price: '', \n      weight: '',\n      option1_name: '',\n      option1_value: '',\n      option2_name: '',\n      option2_value: '',\n      option3_name: '',\n      option3_value: '',\n      is_default: false \n    }];\n    setVariants(newVariants);\n    handleChange('productVariants', newVariants);\n  };\n\n  const removeVariant = (index) => {\n    if (variants.length > 1) {\n      const newVariants = variants.filter((_, i) => i !== index);\n      setVariants(newVariants);\n      handleChange('productVariants', newVariants);\n    }\n  };\n\n  // Handle materials array\n  const handleMaterialsChange = (value) => {\n    const materialsArray = value.split(',').map(material => material.trim()).filter(material => material);\n    handleChange('materials', materialsArray);\n  };\n\n  // Handle dimensions object\n  const handleDimensionsChange = (dimension, value) => {\n    const dimensions = formData.dimensions || {};\n    const newDimensions = { ...dimensions, [dimension]: parseFloat(value) || 0 };\n    handleChange('dimensions', newDimensions);\n  };\n\n  // Handle manufacturing details object\n  const handleManufacturingChange = (detail, value) => {\n    const manufacturingDetails = formData.manufacturing_details || {};\n    const newDetails = { ...manufacturingDetails, [detail]: value };\n    handleChange('manufacturing_details', newDetails);\n  };\n\n  return (\n    <>\n      {/* Physical Properties */}\n      <div className=\"bg-gray-50 p-4 rounded-lg\">\n        <h3 className=\"font-semibold text-[18px] text-[#1a4032] mb-4\">Physical Properties</h3>\n        \n        {/* Weight */}\n        <div className=\"flex flex-col mb-4\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              Weight (kg)\n            </span>\n          </label>\n          <input\n            type=\"number\"\n            step=\"0.001\"\n            min=\"0\"\n            value={formData.weight || ''}\n            onChange={(e) => handleFieldChange('weight', e.target.value)}\n            placeholder=\"0.000\"\n            className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                     font-semibold text-[16px] text-[#1a4032] opacity-50\n                     focus:opacity-100 focus:outline-none transition-all\n                     ${validationErrors.weight || errors.weight \n                       ? 'border-red-500 focus:border-red-500' \n                       : 'border-[#858c94] focus:border-[#1a4032]'}`}\n          />\n          {(validationErrors.weight || errors.weight) && (\n            <span className=\"text-red-500 text-sm mt-1 px-4\">\n              {validationErrors.weight || errors.weight}\n            </span>\n          )}\n        </div>\n\n        {/* Dimensions */}\n        <div className=\"flex flex-col mb-4\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              Dimensions (L × W × H in cm)\n            </span>\n          </label>\n          <div className=\"grid grid-cols-3 gap-2 sm:gap-3\">\n            <input\n              type=\"number\"\n              step=\"0.1\"\n              min=\"0\"\n              value={formData.dimensions?.length || ''}\n              onChange={(e) => handleDimensionsChange('length', e.target.value)}\n              placeholder=\"Length\"\n              className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-2 sm:px-3 py-2 sm:py-3 \n                       font-semibold text-[14px] sm:text-[16px] text-[#1a4032] opacity-50\n                       focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n            />\n            <input\n              type=\"number\"\n              step=\"0.1\"\n              min=\"0\"\n              value={formData.dimensions?.width || ''}\n              onChange={(e) => handleDimensionsChange('width', e.target.value)}\n              placeholder=\"Width\"\n              className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-2 sm:px-3 py-2 sm:py-3 \n                       font-semibold text-[14px] sm:text-[16px] text-[#1a4032] opacity-50\n                       focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n            />\n            <input\n              type=\"number\"\n              step=\"0.1\"\n              min=\"0\"\n              value={formData.dimensions?.height || ''}\n              onChange={(e) => handleDimensionsChange('height', e.target.value)}\n              placeholder=\"Height\"\n              className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-2 sm:px-3 py-2 sm:py-3 \n                       font-semibold text-[14px] sm:text-[16px] text-[#1a4032] opacity-50\n                       focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Materials and Care */}\n      <div className=\"bg-gray-50 p-4 rounded-lg\">\n        <h3 className=\"font-semibold text-[18px] text-[#1a4032] mb-4\">Materials and Care</h3>\n        \n        {/* Materials */}\n        <div className=\"flex flex-col mb-4\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              Materials\n            </span>\n          </label>\n          <input\n            type=\"text\"\n            value={Array.isArray(formData.materials) ? formData.materials.join(', ') : (formData.materials || '')}\n            onChange={(e) => handleMaterialsChange(e.target.value)}\n            placeholder=\"cotton, polyester, bamboo (comma separated)\"\n            className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                     font-semibold text-[16px] text-[#1a4032] opacity-50\n                     focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n          />\n        </div>\n\n        {/* Care Instructions */}\n        <div className=\"flex flex-col mb-4\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              Care Instructions\n            </span>\n          </label>\n          <textarea\n            value={formData.care_instructions || ''}\n            onChange={(e) => handleChange('care_instructions', e.target.value)}\n            placeholder=\"Washing, storage, and maintenance instructions\"\n            rows={3}\n            className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                     font-semibold text-[16px] text-[#1a4032] opacity-50\n                     focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all resize-none\"\n          />\n        </div>\n      </div>\n\n      {/* Origin and Manufacturing */}\n      <div className=\"bg-gray-50 p-4 rounded-lg\">\n        <h3 className=\"font-semibold text-[18px] text-[#1a4032] mb-4\">Origin and Manufacturing</h3>\n        \n        {/* Origin Country */}\n        <div className=\"flex flex-col mb-4\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              Origin Country\n            </span>\n            <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={formData.origin_country || ''}\n            onChange={(e) => handleFieldChange('origin_country', e.target.value)}\n            placeholder=\"e.g., India\"\n            className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                     font-semibold text-[16px] text-[#1a4032] opacity-50\n                     focus:opacity-100 focus:outline-none transition-all\n                     ${validationErrors.origin_country || errors.origin_country \n                       ? 'border-red-500 focus:border-red-500' \n                       : 'border-[#858c94] focus:border-[#1a4032]'}`}\n            required\n          />\n          {(validationErrors.origin_country || errors.origin_country) && (\n            <span className=\"text-red-500 text-sm mt-1 px-4\">\n              {validationErrors.origin_country || errors.origin_country}\n            </span>\n          )}\n        </div>\n\n        {/* Manufacturing Details */}\n        <div className=\"flex flex-col mb-4\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032]\">Manufacturing Details</span>\n          </label>\n          <div className=\"space-y-3\">\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n              <div>\n                <input\n                  type=\"text\"\n                  value={formData.manufacturing_details?.process || ''}\n                  onChange={(e) => handleManufacturingChange('process', e.target.value)}\n                  placeholder=\"Manufacturing process\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-3 py-2 sm:px-4 sm:py-3 \n                           font-semibold text-[14px] sm:text-[16px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n              <div>\n                <input\n                  type=\"text\"\n                  value={formData.manufacturing_details?.facility || ''}\n                  onChange={(e) => handleManufacturingChange('facility', e.target.value)}\n                  placeholder=\"Facility type\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-3 py-2 sm:px-4 sm:py-3 \n                           font-semibold text-[14px] sm:text-[16px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Inventory Settings */}\n      <div className=\"bg-gray-50 p-4 rounded-lg\">\n        <h3 className=\"font-semibold text-[18px] text-[#1a4032] mb-4\">Inventory Settings</h3>\n        \n        {/* Track Quantity */}\n        <div className=\"flex items-center mb-4\">\n          <input\n            type=\"checkbox\"\n            id=\"track_quantity\"\n            checked={formData.track_quantity || false}\n            onChange={(e) => handleChange('track_quantity', e.target.checked)}\n            className=\"w-4 h-4 text-[#12b74f] border-gray-300 rounded focus:ring-[#12b74f]\"\n          />\n          <label htmlFor=\"track_quantity\" className=\"ml-2 text-[16px] text-[#1a4032] font-semibold\">\n            Track quantity for this product\n          </label>\n        </div>\n\n        {/* Continue Selling */}\n        <div className=\"flex items-center mb-4\">\n          <input\n            type=\"checkbox\"\n            id=\"continue_selling\"\n            checked={formData.continue_selling || false}\n            onChange={(e) => handleChange('continue_selling', e.target.checked)}\n            className=\"w-4 h-4 text-[#12b74f] border-gray-300 rounded focus:ring-[#12b74f]\"\n          />\n          <label htmlFor=\"continue_selling\" className=\"ml-2 text-[16px] text-[#1a4032] font-semibold\">\n            Continue selling when out of stock\n          </label>\n        </div>\n      </div>\n\n      {/* Product Variants */}\n      <div className=\"bg-gray-50 p-4 rounded-lg\">\n        <h3 className=\"font-semibold text-[18px] text-[#1a4032] mb-4\">Product Variants</h3>\n        <p className=\"text-sm text-gray-600 mb-4\">\n          Create different variations of your product (e.g., different sizes, colors, materials).\n        </p>\n        \n        {variants.map((variant, index) => (\n          <div key={index} className=\"border border-gray-300 rounded-lg p-4 mb-4\">\n            <div className=\"flex justify-between items-center mb-3\">\n              <h4 className=\"font-semibold text-[16px] text-[#1a4032]\">Variant {index + 1}</h4>\n              {variants.length > 1 && (\n                <button\n                  type=\"button\"\n                  onClick={() => removeVariant(index)}\n                  className=\"text-red-500 hover:text-red-700 font-semibold\"\n                >\n                  Remove\n                </button>\n              )}\n            </div>\n            \n            {/* Basic Info */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n              <div>\n                <label className=\"block text-sm font-semibold text-[#1a4032] mb-1\">\n                  SKU (Required)\n                </label>\n                <input\n                  type=\"text\"\n                  value={variant.sku || ''}\n                  onChange={(e) => handleVariantChange(index, 'sku', e.target.value)}\n                  placeholder=\"e.g., PROD-RED-L\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-3 py-2 \n                           font-semibold text-[14px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-semibold text-[#1a4032] mb-1\">\n                  Title\n                </label>\n                <input\n                  type=\"text\"\n                  value={variant.title || ''}\n                  onChange={(e) => handleVariantChange(index, 'title', e.target.value)}\n                  placeholder=\"e.g., Red Large\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-3 py-2 \n                           font-semibold text-[14px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n            </div>\n\n            {/* Pricing */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n              <div>\n                <label className=\"block text-sm font-semibold text-[#1a4032] mb-1\">\n                  Price (₹) (Required)\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={variant.price || ''}\n                  onChange={(e) => handleVariantChange(index, 'price', e.target.value)}\n                  placeholder=\"0.00\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-3 py-2 \n                           font-semibold text-[14px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-semibold text-[#1a4032] mb-1\">\n                  Compare at Price (₹)\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={variant.compare_at_price || ''}\n                  onChange={(e) => handleVariantChange(index, 'compare_at_price', e.target.value)}\n                  placeholder=\"0.00\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-3 py-2 \n                           font-semibold text-[14px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n            </div>\n\n            {/* Weight */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n              <div>\n                <label className=\"block text-sm font-semibold text-[#1a4032] mb-1\">\n                  Weight (kg)\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"0.001\"\n                  min=\"0\"\n                  value={variant.weight || ''}\n                  onChange={(e) => handleVariantChange(index, 'weight', e.target.value)}\n                  placeholder=\"0.000\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-3 py-2 \n                           font-semibold text-[14px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n              \n              <div className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  id={`default_variant_${index}`}\n                  checked={variant.is_default || false}\n                  onChange={(e) => {\n                    // If this variant is being set as default, unset all others\n                    if (e.target.checked) {\n                      const newVariants = variants.map((v, i) => ({\n                        ...v,\n                        is_default: i === index\n                      }));\n                      setVariants(newVariants);\n                      handleChange('productVariants', newVariants);\n                    } else {\n                      handleVariantChange(index, 'is_default', false);\n                    }\n                  }}\n                  className=\"w-4 h-4 text-[#12b74f] border-gray-300 rounded focus:ring-[#12b74f]\"\n                />\n                <label htmlFor={`default_variant_${index}`} className=\"ml-2 text-sm font-semibold text-[#1a4032]\">\n                  Set as default variant\n                </label>\n              </div>\n            </div>\n\n            {/* Option 1 */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n              <div>\n                <label className=\"block text-sm font-semibold text-[#1a4032] mb-1\">\n                  Option 1 Name (e.g., Color, Size)\n                </label>\n                <input\n                  type=\"text\"\n                  value={variant.option1_name || ''}\n                  onChange={(e) => handleVariantChange(index, 'option1_name', e.target.value)}\n                  placeholder=\"e.g., Color\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-3 py-2 \n                           font-semibold text-[14px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-semibold text-[#1a4032] mb-1\">\n                  Option 1 Value\n                </label>\n                <input\n                  type=\"text\"\n                  value={variant.option1_value || ''}\n                  onChange={(e) => handleVariantChange(index, 'option1_value', e.target.value)}\n                  placeholder=\"e.g., Red\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-3 py-2 \n                           font-semibold text-[14px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n            </div>\n\n            {/* Option 2 */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n              <div>\n                <label className=\"block text-sm font-semibold text-[#1a4032] mb-1\">\n                  Option 2 Name (Optional)\n                </label>\n                <input\n                  type=\"text\"\n                  value={variant.option2_name || ''}\n                  onChange={(e) => handleVariantChange(index, 'option2_name', e.target.value)}\n                  placeholder=\"e.g., Size\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-3 py-2 \n                           font-semibold text-[14px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-semibold text-[#1a4032] mb-1\">\n                  Option 2 Value\n                </label>\n                <input\n                  type=\"text\"\n                  value={variant.option2_value || ''}\n                  onChange={(e) => handleVariantChange(index, 'option2_value', e.target.value)}\n                  placeholder=\"e.g., Large\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-3 py-2 \n                           font-semibold text-[14px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n            </div>\n\n            {/* Option 3 */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-semibold text-[#1a4032] mb-1\">\n                  Option 3 Name (Optional)\n                </label>\n                <input\n                  type=\"text\"\n                  value={variant.option3_name || ''}\n                  onChange={(e) => handleVariantChange(index, 'option3_name', e.target.value)}\n                  placeholder=\"e.g., Material\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-3 py-2 \n                           font-semibold text-[14px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-semibold text-[#1a4032] mb-1\">\n                  Option 3 Value\n                </label>\n                <input\n                  type=\"text\"\n                  value={variant.option3_value || ''}\n                  onChange={(e) => handleVariantChange(index, 'option3_value', e.target.value)}\n                  placeholder=\"e.g., Cotton\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-3 py-2 \n                           font-semibold text-[14px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n            </div>\n          </div>\n        ))}\n        \n        <button\n          type=\"button\"\n          onClick={addVariant}\n          className=\"w-full bg-[#12b74f] text-white font-semibold py-2 px-4 rounded-lg \n                   hover:bg-[#0ea344] transition-colors\"\n        >\n          Add Another Variant\n        </button>\n      </div>\n    </>\n  );\n}\n","path":null,"size_bytes":24651,"size_tokens":null},"src/components/vendor/products/ProductsSearch.jsx":{"content":"export default function ProductsSearch() {\n  return (\n    <div className=\"bg-white rounded-[14px] border border-[#c6c6c6] p-4 sm:p-6 mb-4 sm:mb-6 h-auto sm:h-[138px]\">\n      <h2 className=\"text-[14px] sm:text-[16px] font-inter font-semibold text-black mb-3 sm:mb-4\">\n        Search Products\n      </h2>\n\n      <div className=\"flex flex-col sm:flex-row gap-3 sm:gap-4\">\n        {/* Search Input */}\n        <div className=\"flex-1\">\n          <div className=\"bg-[#f5f6fa] border border-[#bbbbbb] rounded-[14px] px-4 py-3 flex items-center\">\n            <div className=\"mr-3 flex-shrink-0\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"opacity-50\">\n                <circle cx=\"11\" cy=\"11\" r=\"8\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                <path d=\"M21 21l-4.35-4.35\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              </svg>\n            </div>\n            <input\n              type=\"text\"\n              placeholder=\"Search products...\"\n              className=\"bg-transparent text-[14px] text-[#202224] placeholder-[#202224] placeholder-opacity-50 outline-none flex-1 font-poppins min-w-0\"\n            />\n          </div>\n        </div>\n\n        {/* Categories Filter */}\n        <div className=\"w-full sm:w-[200px] flex-shrink-0\">\n          <div className=\"bg-[#f5f6fa] border border-[#bbbbbb] rounded-[14px] px-4 py-3 flex items-center\">\n            <div className=\"mr-3 flex-shrink-0\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect x=\"3\" y=\"3\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <rect x=\"14\" y=\"3\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <rect x=\"14\" y=\"14\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <rect x=\"3\" y=\"14\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              </svg>\n            </div>\n            <span className=\"text-[14px] text-[#202224] opacity-50 font-poppins flex-1 min-w-0\">\n              Categories\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":2440,"size_tokens":null},"src/components/ui/UserProfilePopup.jsx":{"content":"\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { auth, tokens } from \"../../lib/api\";\n\nexport default function UserProfilePopup({ isOpen, onClose, isLoggedIn, userProfile }) {\n  const popupRef = useRef(null);\n  const router = useRouter();\n\n  // Close popup when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (popupRef.current && !popupRef.current.contains(event.target)) {\n        onClose();\n      }\n    };\n\n    if (isOpen) {\n      document.addEventListener(\"mousedown\", handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [isOpen, onClose]);\n\n  if (!isOpen) return null;\n\n  const handleSignUpClick = () => {\n    router.push(\"/signup\");\n    onClose();\n  };\n\n  const handleSupplierClick = () => {\n    router.push(\"/vendor/onboarding\");\n    onClose();\n  };\n\n  const handleLogout = () => {\n    tokens.clear();\n    router.push(\"/\");\n    onClose();\n  };\n\n  // Check if user is a seller/supplier (vendor)\n  const isVendor = userProfile?.user_metadata?.user_type === 'supplier' || \n                   userProfile?.user_metadata?.user_type === 'seller' ||\n                   userProfile?.user_type === 'supplier' ||\n                   userProfile?.user_type === 'seller';\n\n  // Get user's first name or email\n  const userName = userProfile?.first_name || \n                   userProfile?.name || \n                   userProfile?.email?.split('@')[0] || \n                   'User';\n\n  return (\n    <div \n      ref={popupRef}\n      className=\"absolute right-0 top-full mt-2 z-50 bg-white rounded-[8px] shadow-lg border border-gray-200 w-[200px]\"\n      style={{ minWidth: \"200px\" }}\n    >\n      {!isLoggedIn ? (\n        <div className=\"p-4\">\n          {/* Hello User */}\n          <div className=\"mb-2\">\n            <p className=\"font-poppins font-medium text-[16px] text-black text-left\">\n              Hello User\n            </p>\n          </div>\n\n          {/* Sign up message */}\n          <div className=\"mb-4\">\n            <p className=\"font-poppins font-medium text-[12px] text-[#595959] leading-[16px]\">\n              Sign up to access your AveoEarth Accounts\n            </p>\n          </div>\n\n          {/* Sign Up Button */}\n          <button\n            onClick={handleSignUpClick}\n            className=\"w-full bg-[rgba(36,28,23,0.9)] text-white rounded-[5px] h-9 mb-4 \n                     flex items-center justify-center font-poppins font-medium text-[10px] \n                     hover:bg-[#241c17] transition-colors\"\n          >\n            Sign Up\n          </button>\n\n          {/* Divider */}\n          <div className=\"w-full h-[1px] bg-gray-200 mb-4\"></div>\n\n          {/* Become a Supplier */}\n          <button\n            onClick={handleSupplierClick}\n            className=\"w-full text-center font-poppins font-medium text-[10px] text-black \n                     leading-[16px] hover:text-[#241c17] transition-colors\"\n          >\n            Become a Supplier\n          </button>\n        </div>\n      ) : (\n        <div className=\"p-4\">\n          {/* Hello User with name */}\n          <div className=\"mb-3\">\n            <p className=\"font-poppins font-medium text-[16px] text-black text-left\">\n              Hello {userName}\n            </p>\n          </div>\n\n          <hr className=\"border-gray-200 mb-3\" />\n\n          {/* Menu Options */}\n          <div className=\"space-y-2\">\n            <Link \n              href=\"/account/dashboard\" \n              className=\"flex items-center gap-2 px-2 py-2 font-poppins font-medium text-[12px] text-black hover:bg-gray-50 hover:text-[#241c17] transition-colors rounded-md\"\n              onClick={onClose}\n            >\n              <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect x=\"3\" y=\"3\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <rect x=\"14\" y=\"3\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <rect x=\"14\" y=\"14\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <rect x=\"3\" y=\"14\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              </svg>\n              Dashboard\n            </Link>\n            \n            <Link \n              href=\"/account/settings\" \n              className=\"flex items-center gap-2 px-2 py-2 font-poppins font-medium text-[12px] text-black hover:bg-gray-50 hover:text-[#241c17] transition-colors rounded-md\"\n              onClick={onClose}\n            >\n              <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <circle cx=\"12\" cy=\"12\" r=\"3\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n                <path d=\"M12 1v6m0 6v6m11-7h-6m-6 0H1\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n              </svg>\n              Settings\n            </Link>\n\n            {isVendor && (\n              <Link \n                href=\"/vendor/dashboard\" \n                className=\"flex items-center gap-2 px-2 py-2 font-poppins font-medium text-[12px] text-black hover:bg-gray-50 hover:text-[#241c17] transition-colors rounded-md\"\n                onClick={onClose}\n              >\n                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path d=\"M16 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                  <circle cx=\"12\" cy=\"7\" r=\"4\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                </svg>\n                Vendor Dashboard\n              </Link>\n            )}\n\n            <hr className=\"border-gray-200\" />\n            \n            <button\n              onClick={handleLogout}\n              className=\"flex items-center gap-2 px-2 py-2 w-full text-left font-poppins font-medium text-[12px] text-red-600 hover:bg-red-50 hover:text-red-700 transition-colors rounded-md\"\n            >\n              <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <polyline points=\"16,17 21,12 16,7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              </svg>\n              Logout\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":6978,"size_tokens":null},"src/components/vendor/DashboardContent.jsx":{"content":"import React, { useState } from 'react';\nimport DashboardStats from './DashboardStats';\nimport InventoryContent from './InventoryContent';\nimport AddProductModal from './products/AddProductModal';\n\n// Plus Icon Component\nconst PlusIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M12 5v14m-7-7h14\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport default function DashboardContent({ vendor }) {\n  const [showNewProductModal, setShowNewProductModal] = useState(false);\n\n  return (\n    <div className=\"bg-white relative w-full h-full\">\n      {/* Dashboard Content */}\n      <div className=\"p-4 sm:p-7 pb-4\">\n        {/* Dashboard Title */}\n        <div className=\"mb-4 sm:mb-6\">\n          <h1 className=\"font-poppins font-semibold text-[20px] sm:text-[24px] text-black tracking-[0.3px] mb-2\">\n            Dashboard\n          </h1>\n          <p className=\"font-poppins text-[14px] sm:text-[20px] text-[#757575] tracking-[0.3px]\">\n            Welcome back! here's your business overview\n          </p>\n\n          {/* Add Products Button */}\n          <div className=\"absolute top-[20px] sm:top-[34px] right-4 sm:right-7\">\n            <button\n              onClick={() => setShowNewProductModal(true)}\n              className=\"bg-[#2f6b4f] h-[36px] sm:h-[38px] px-3 sm:px-4 rounded-[5px] flex items-center gap-2 sm:gap-3 text-white hover:bg-[#245a41] transition-colors\"\n            >\n              <PlusIcon />\n              <span className=\"font-poppins font-semibold text-[8px] sm:text-[10px] tracking-[0.3px]\">\n                Add Products\n              </span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Stats Cards */}\n      <DashboardStats vendor={vendor} />\n\n      {/* Inventory Section */}\n      <div className=\"px-4 sm:px-7\">\n        <div className=\"bg-white rounded-[14px] border border-[#c6c6c6] p-4 sm:p-6\">\n          <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 gap-2\">\n            <div>\n              <h3 className=\"text-[14px] sm:text-[16px] font-inter font-semibold text-black mb-1\">\n                Inventory Overview\n              </h3>\n              <p className=\"text-[13px] sm:text-[15px] font-inter font-medium text-[#909090]\">\n                Quick view of your product inventory levels\n              </p>\n            </div>\n            <button\n              onClick={() => {\n                // Navigate to full inventory page\n                window.location.href = '/vendor/inventory';\n              }}\n              className=\"text-[#2f6b4f] hover:text-[#245a41] text-sm font-medium whitespace-nowrap\"\n            >\n              View All →\n            </button>\n          </div>\n\n          {/* Inventory Component */}\n          <InventoryContent isCompact={true} />\n        </div>\n      </div>\n      \n      {/* Add Product Modal */}\n      <AddProductModal \n        isOpen={showNewProductModal} \n        onClose={() => setShowNewProductModal(false)} \n      />\n    </div>\n  );\n}\n","path":null,"size_bytes":3105,"size_tokens":null},"src/components/address/AddressCard.jsx":{"content":"\"use client\";\n\nimport { useState } from \"react\";\nimport addressService from \"../../services/addressService\";\n\nconst AddressCard = ({ address, onEdit, onDelete, onSetDefault }) => {\n  const [loading, setLoading] = useState(false);\n\n  const handleSetDefault = async () => {\n    if (address.is_default) return; // Already default\n    \n    setLoading(true);\n    try {\n      await onSetDefault(address.id);\n    } catch (error) {\n      console.error('Error setting default address:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (window.confirm('Are you sure you want to delete this address?')) {\n      try {\n        await onDelete(address.id);\n      } catch (error) {\n        console.error('Error deleting address:', error);\n      }\n    }\n  };\n\n  const getTypeColor = (type) => {\n    const colors = {\n      home: 'bg-emerald-100 text-emerald-800',\n      work: 'bg-blue-100 text-blue-800',\n      billing: 'bg-purple-100 text-purple-800',\n      shipping: 'bg-orange-100 text-orange-800',\n      other: 'bg-gray-100 text-gray-800'\n    };\n    return colors[type] || colors.other;\n  };\n\n  return (\n    <div className=\"bg-white border border-gray-200 rounded-lg p-4 relative\">\n      {/* Header with type and default badge */}\n      <div className=\"flex items-center justify-between mb-3\">\n        <div className=\"flex items-center space-x-2\">\n          <span className={`px-2 py-1 rounded-full text-xs font-medium ${getTypeColor(address.type)}`}>\n            {address.type.charAt(0).toUpperCase() + address.type.slice(1)}\n          </span>\n          {address.is_default && (\n            <span className=\"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium\">\n              Default\n            </span>\n          )}\n          {address.label && (\n            <span className=\"text-gray-500 text-sm\">({address.label})</span>\n          )}\n        </div>\n        \n        {/* Action Buttons */}\n        <div className=\"flex items-center space-x-2\">\n          <button\n            onClick={() => onEdit(address)}\n            className=\"text-blue-600 hover:text-blue-800 text-sm\"\n          >\n            Edit\n          </button>\n          <button\n            onClick={handleDelete}\n            className=\"text-red-600 hover:text-red-800 text-sm\"\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n\n      {/* Address Details */}\n      <div className=\"space-y-1 text-gray-700\">\n        <div className=\"font-medium\">\n          {address.first_name} {address.last_name}\n        </div>\n        \n        {address.company && (\n          <div className=\"text-sm text-gray-600\">{address.company}</div>\n        )}\n        \n        <div className=\"text-sm\">\n          {address.address_line_1}\n        </div>\n        \n        {address.address_line_2 && (\n          <div className=\"text-sm\">\n            {address.address_line_2}\n          </div>\n        )}\n        \n        <div className=\"text-sm\">\n          {address.city}, {address.state} {address.postal_code}\n        </div>\n        \n        {address.country && address.country !== 'India' && (\n          <div className=\"text-sm\">\n            {address.country}\n          </div>\n        )}\n        \n        {address.phone && (\n          <div className=\"text-sm text-gray-600\">\n            Phone: {address.phone}\n          </div>\n        )}\n      </div>\n\n      {/* Set as Default Button */}\n      {!address.is_default && (\n        <div className=\"mt-4 pt-3 border-t border-gray-100\">\n          <button\n            onClick={handleSetDefault}\n            disabled={loading}\n            className=\"text-sm text-blue-600 hover:text-blue-800 disabled:opacity-50\"\n          >\n            {loading ? 'Setting as default...' : `Set as default ${address.type}`}\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AddressCard;\n","path":null,"size_bytes":3870,"size_tokens":null},"src/app/cart/page.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { useRouter } from 'next/navigation';\nimport Navbar from \"../../components/layout/Navbar\";\nimport Footer from \"../../components/layout/Footer\";\nimport NewsletterSubscription from \"../../components/explore/NewsletterSubscription\";\nimport ProductCard from \"../../components/ui/ProductCard\";\nimport CartItem from \"../../components/cart/CartItem\";\nimport CartSummary from \"../../components/cart/CartSummary\";\nimport CouponCode from \"../../components/cart/CouponCode\";\nimport CheckoutForm from \"../../components/checkout/CheckoutForm\";\nimport CheckoutSummary from \"../../components/checkout/CheckoutSummary\";\nimport OrderConfirmation from \"../../components/OrderConfirmation\";\nimport { useCart } from \"../../hooks/useCart\";\nimport { useOrders } from \"../../hooks/useOrders\";\n\n// Back arrow icon\nconst ArrowLeftIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path \n      d=\"M4.20996 4.412L9.79796 9.999L4.20996 15.587\" \n      stroke=\"#858C94\" \n      strokeWidth=\"1.6\" \n      strokeLinecap=\"round\" \n      strokeLinejoin=\"round\"\n      transform=\"rotate(180 8 8)\"\n    />\n  </svg>\n);\n\nexport default function CartPage() {\n  const router = useRouter();\n  const { cart, updateCartItem, removeFromCart, clearCart, loading: cartLoading } = useCart();\n  const { createOrder } = useOrders();\n  const [currentStep, setCurrentStep] = useState('cart'); // cart, checkout, confirmation\n  const [orderData, setOrderData] = useState(null);\n  const [couponCode, setCouponCode] = useState(\"\");\n  const [checkoutData, setCheckoutData] = useState({\n    billingAddress: null,\n    shippingAddress: null,\n    paymentMethod: 'cod',\n    customerNotes: '',\n    useDifferentShipping: false\n  });\n\n  // Recommended products data (you can replace this with API call)\n  const recommendedProducts = [\n    {\n      id: 3,\n      title: \"Jute Bag | Originally Sourced\",\n      category: \"Home & Kitchen\", \n      description: \"Sustainable jute bag for everyday use\",\n      price: 89,\n      originalPrice: 120,\n      rating: 4.9,\n      reviews: 524,\n      image: \"/sample1.jpg\",\n      tags: [\"Staff Pick\", \"AveoEarth Certified\"],\n      discount: \"-31%\"\n    },\n    {\n      id: 4,\n      title: \"Jute Bag | Originally Sourced\", \n      category: \"Home & Kitchen\",\n      description: \"Sustainable jute bag for everyday use\",\n      price: 89,\n      originalPrice: 120,\n      rating: 4.9,\n      reviews: 524,\n      image: \"/spoons.png\",\n      tags: [\"Staff Pick\", \"AveoEarth Certified\"],\n      discount: \"-31%\"\n    },\n    {\n      id: 5,\n      title: \"Jute Bag | Originally Sourced\",\n      category: \"Home & Kitchen\",\n      description: \"Sustainable jute bag for everyday use\", \n      price: 89,\n      originalPrice: 120,\n      rating: 4.9,\n      reviews: 524,\n      image: \"/hero.png\",\n      tags: [\"Staff Pick\", \"AveoEarth Certified\"],\n      discount: \"-31%\"\n    },\n    {\n      id: 6,\n      title: \"Jute Bag | Originally Sourced\",\n      category: \"Home & Kitchen\",\n      description: \"Sustainable jute bag for everyday use\",\n      price: 89, \n      originalPrice: 120,\n      rating: 4.9,\n      reviews: 524,\n      image: \"/category1.png\",\n      tags: [\"Staff Pick\", \"AveoEarth Certified\"],\n      discount: \"-31%\"\n    }\n  ];\n\n  const updateCartQuantity = async (id, newQuantity) => {\n    if (newQuantity <= 0) {\n      await removeFromCart(id);\n      return;\n    }\n    await updateCartItem(id, newQuantity);\n  };\n\n  const removeItem = async (id) => {\n    await removeFromCart(id);\n  };\n\n  // Calculate totals from cart\n  const subtotal = cart?.items?.reduce((sum, item) => sum + ((item.unit_price || 0) * (item.quantity || 1)), 0) || 0;\n  const shipping = 0; // Free shipping\n  const total = subtotal + shipping;\n\n  const handleCheckout = () => {\n    setCurrentStep('checkout');\n  };\n\n  const handleGoBack = () => {\n    if (currentStep === 'confirmation') {\n      setCurrentStep('cart');\n      setOrderData(null);\n    } else if (currentStep === 'checkout') {\n      setCurrentStep('cart');\n    } else {\n      router.back();\n    }\n  };\n\n  const handleProceedToCheckout = () => {\n    setCurrentStep('checkout');\n  };\n\n  const handleCheckoutFormUpdate = useCallback((formData) => {\n    setCheckoutData(prev => ({\n      ...prev,\n      billingAddress: formData.billingAddress,\n      shippingAddress: formData.shippingAddress,\n      customerNotes: formData.orderNotes || '',\n      useDifferentShipping: formData.shipToDifferentAddress || false\n    }));\n  }, []);\n\n  const handlePlaceOrder = async (orderDetails) => {\n    try {\n      // Combine checkout data with order details\n      const completeOrderData = {\n        billingAddress: checkoutData.billingAddress || {\n          firstName: 'John',\n          lastName: 'Doe', \n          streetAddress: '123 Main St',\n          city: 'City',\n          state: 'State',\n          country: 'India',\n          postalCode: '12345',\n          email: 'john@example.com',\n          phone: '+1234567890'\n        },\n        shippingAddress: checkoutData.useDifferentShipping ? checkoutData.shippingAddress : null,\n        paymentMethod: orderDetails.paymentMethod || 'cod',\n        customerNotes: checkoutData.customerNotes,\n        useDifferentShipping: checkoutData.useDifferentShipping\n      };\n\n      const result = await createOrder(completeOrderData);\n      \n      // Immediately clear cart state for instant UI update\n      // The API call will happen in the background\n      clearCart().catch(error => {\n        console.error('Failed to clear cart on backend:', error);\n      });\n      \n      // Create enhanced order data for confirmation with cart items\n      const enhancedOrderData = {\n        ...result,\n        items: cart?.items || [], // Pass the actual cart items\n        customerEmail: checkoutData.billingAddress?.email || 'customer@example.com'\n      };\n      \n      setOrderData(enhancedOrderData);\n      setCurrentStep('confirmation');\n    } catch (error) {\n      console.error('Error placing order:', error);\n      // Handle error (show toast, etc.)\n    }\n  };\n\n  const handleContinueShopping = () => {\n    router.push('/explore');\n  };\n\n  const handleOrderDetails = () => {\n    if (orderData?.order_id) {\n      router.push(`/account/orders/${orderData.order_id}`);\n    }\n  };\n\n  const getPageTitle = () => {\n    switch (currentStep) {\n      case 'checkout':\n        return 'Checkout';\n      case 'confirmation':\n        return 'Order Confirmation';\n      default:\n        return 'My Shopping Cart';\n    }\n  };\n\n  const shouldShowFooter = currentStep !== 'confirmation';\n  const shouldShowNewsletter = currentStep === 'cart';\n\n  if (cartLoading) {\n    return (\n      <div className=\"min-h-screen\">\n        <Navbar />\n        <div className=\"flex justify-center items-center py-12\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900\"></div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen\">\n      {/* Navigation */}\n      <Navbar />\n      \n      {/* Main Content */}\n      <div className=\"px-4 sm:px-6 lg:px-16 pb-8\">\n        {/* Go Back Button */}\n        <div className=\"mb-4 pt-4\">\n          <button \n            onClick={handleGoBack}\n            className=\"bg-white border border-[#b8b8b8] rounded-[4.8px] px-4 py-2 flex items-center gap-2 hover:bg-gray-50 transition-colors text-sm\"\n          >\n            <ArrowLeftIcon />\n            <span className=\"font-poppins font-medium text-[#484848]\">Go back</span>\n          </button>\n        </div>\n\n        {/* Page Title */}\n        <div className=\"text-center mb-6\">\n          <h1 className=\"font-poppins font-semibold text-[#1a1a1a] text-2xl leading-[1.2]\">\n            {getPageTitle()}\n          </h1>\n        </div>\n\n        {/* Content based on current step */}\n        {currentStep === 'confirmation' ? (\n          <OrderConfirmation \n            orderData={orderData}\n            onContinueShopping={handleContinueShopping}\n            onGoBack={handleGoBack}\n            onOrderDetails={handleOrderDetails}\n          />\n        ) : currentStep === 'checkout' ? (\n          <div className=\"flex flex-col xl:flex-row gap-6 max-w-[1440px] mx-auto\">\n            {/* Left Column - Checkout Form */}\n            <div className=\"flex-1\">\n              <CheckoutForm onFormUpdate={handleCheckoutFormUpdate} />\n            </div>\n\n            {/* Right Column - Order Summary */}\n            <div className=\"xl:w-[400px]\">\n              <CheckoutSummary \n                cartItems={cart?.items || []}\n                subtotal={subtotal}\n                shipping={shipping}\n                total={total}\n                onPlaceOrder={handlePlaceOrder}\n              />\n            </div>\n          </div>\n        ) : (\n          /* Cart View */\n          <>\n            <div className=\"flex flex-col xl:flex-row gap-6 max-w-[1440px] mx-auto\">\n              {/* Left Column - Cart Items */}\n              <div className=\"flex-1\">\n                {/* Shopping Cart Table */}\n                <div className=\"bg-white rounded-lg border border-[#e6e6e6] mb-6\">\n                  {/* Table Header */}\n                  <div className=\"px-4 py-3 border-b border-[#e6e6e6] grid grid-cols-12 gap-4\">\n                    <div className=\"col-span-5\">\n                      <span className=\"font-poppins font-medium text-[#808080] text-xs uppercase tracking-[0.42px]\">\n                        Product\n                      </span>\n                    </div>\n                    <div className=\"col-span-2 text-center\">\n                      <span className=\"font-poppins font-medium text-[#808080] text-xs uppercase tracking-[0.42px]\">\n                        Price\n                      </span>\n                    </div>\n                    <div className=\"col-span-3 text-center\">\n                      <span className=\"font-poppins font-medium text-[#808080] text-xs uppercase tracking-[0.42px]\">\n                        Quantity\n                      </span>\n                    </div>\n                    <div className=\"col-span-2 text-center\">\n                      <span className=\"font-poppins font-medium text-[#808080] text-xs uppercase tracking-[0.42px]\">\n                        Subtotal\n                      </span>\n                    </div>\n                  </div>\n\n                  {/* Cart Items */}\n                  <div className=\"divide-y divide-[#e6e6e6]\">\n                    {cart?.items?.length > 0 ? (\n                      cart.items.map((item) => (\n                        <CartItem\n                          key={item.id}\n                          item={item}\n                          onUpdateQuantity={updateCartQuantity}\n                          onRemove={removeItem}\n                        />\n                      ))\n                    ) : (\n                      <div className=\"p-8 text-center\">\n                        <p className=\"text-gray-500 mb-4\">Your cart is empty</p>\n                        <button\n                          onClick={() => router.push('/explore')}\n                          className=\"bg-[#2f6b4f] hover:bg-[#245a41] text-white px-6 py-2 rounded-[43px] font-poppins font-semibold text-sm transition-colors\"\n                        >\n                          Continue Shopping\n                        </button>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Action Buttons */}\n                  {cart?.items?.length > 0 && (\n                    <div className=\"px-4 py-4 border-t border-[#e6e6e6] flex flex-col sm:flex-row justify-between gap-3\">\n                      <button \n                        onClick={() => router.push('/explore')}\n                        className=\"bg-[#f2f2f2] hover:bg-[#e8e8e8] px-6 py-2.5 rounded-[43px] font-poppins font-semibold text-[#4d4d4d] text-sm transition-colors\"\n                      >\n                        Return to shop\n                      </button>\n                      <button \n                        onClick={() => window.location.reload()}\n                        className=\"bg-[#f2f2f2] hover:bg-[#e8e8e8] px-6 py-2.5 rounded-[43px] font-poppins font-semibold text-[#4d4d4d] text-sm transition-colors\"\n                      >\n                        Update Cart\n                      </button>\n                    </div>\n                  )}\n                </div>\n\n                {/* Coupon Code */}\n                {cart?.items?.length > 0 && (\n                  <CouponCode value={couponCode} onChange={setCouponCode} />\n                )}\n              </div>\n\n              {/* Right Column - Cart Summary */}\n              {cart?.items?.length > 0 && (\n                <div className=\"xl:w-[380px]\">\n                  <CartSummary \n                    subtotal={subtotal}\n                    shipping={shipping}\n                    total={total}\n                    onCheckout={handleCheckout}\n                  />\n                </div>\n              )}\n            </div>\n\n            {/* You Might Like Section */}\n            <div className=\"mt-12\">\n              <h2 className=\"font-poppins font-medium text-[#1a1a1a] text-sm text-center mb-6\">\n                You Might Like\n              </h2>\n              \n              <div className=\"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-4 max-w-5xl mx-auto\">\n                {recommendedProducts.map((product) => (\n                  <ProductCard\n                    key={product.id}\n                    imageUrl={product.image}\n                    category={product.category}\n                    title={product.title}\n                    description={product.description}\n                    price={product.price}\n                    originalPrice={product.originalPrice}\n                    rating={product.rating}\n                    reviews={product.reviews}\n                    variant=\"default\"\n                    size=\"default\"\n                    className=\"w-full\"\n                  />\n                ))}\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n\n      {/* Newsletter Subscription - Only show in cart view */}\n      {shouldShowNewsletter && <NewsletterSubscription />}\n\n      {/* Footer */}\n      {shouldShowFooter && <Footer />}\n    </div>\n  );\n}\n","path":null,"size_bytes":14325,"size_tokens":null},"src/components/admin/StatCard.jsx":{"content":"\"use client\";\n\nimport { ArrowTrendingUpIcon, ShoppingCartIcon, UsersIcon } from \"@heroicons/react/24/outline\";\n\nconst iconMap = {\n  orders: ShoppingCartIcon,\n  users: UsersIcon,\n  trend: ArrowTrendingUpIcon,\n};\n\nexport default function StatCard({ \n  title, \n  value, \n  change, \n  changeType = \"up\", \n  description,\n  icon = \"orders\" \n}) {\n  const IconComponent = iconMap[icon] || ShoppingCartIcon;\n  \n  return (\n    <div className=\"bg-white rounded-lg border border-gray-200 p-4 shadow-sm\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex-1\">\n          <p className=\"text-sm font-medium text-gray-600 opacity-70\">{title}</p>\n          <p className=\"text-xl font-bold text-gray-900 mt-1\">{value}</p>\n          {change && (\n            <p className=\"text-sm mt-2\">\n              <span className={`${changeType === 'up' ? 'text-green-600' : 'text-red-600'}`}>\n                {changeType === 'up' ? '+' : '-'}{change}\n              </span>\n              {description && (\n                <span className=\"text-gray-500 ml-1\">{description}</span>\n              )}\n            </p>\n          )}\n        </div>\n        <div className=\"bg-gray-100 rounded-md p-2\">\n          <IconComponent className=\"h-4 w-4 text-gray-600\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":1306,"size_tokens":null},"src/app/designGuide/page.jsx":{"content":"import Button from \"../../components/ui/Button\";\nimport Card, { CardContent, CardHeader } from \"../../components/ui/Card\";\nimport { InlineSVG } from \"../../components/ui/Icon\";\n\nexport default function DesignGuide() {\n  return (\n    <div className=\"min-h-screen bg-[var(--color-surface)]\">\n      {/* Hero Section */}\n      <section className=\"bg-gradient-to-br from-[var(--color-green-subtle)] to-white py-20 px-4\">\n        <div className=\"max-w-6xl mx-auto\">\n          <div className=\"text-center mb-16\">\n            <h1 className=\"text-5xl md:text-6xl font-bold text-[var(--color-green-primary)] mb-6\">\n              Aveoearth\n            </h1>\n            <p className=\"text-xl md:text-2xl text-[var(--color-text-secondary)] mb-8 max-w-3xl mx-auto\">\n              The sustainable marketplace connecting conscious buyers with verified eco-friendly suppliers\n            </p>\n            <div className=\"flex gap-4 justify-center flex-wrap\">\n              <Button size=\"lg\" leftIcon={\n                <InlineSVG size={20} viewBox=\"0 0 24 24\">\n                  <path d=\"M12 2L13.09 8.26L22 9L13.09 15.74L12 2Z\" />\n                </InlineSVG>\n              }>\n                Start Shopping\n              </Button>\n              <Button variant=\"secondary\" size=\"lg\">\n                Become a Supplier\n              </Button>\n            </div>\n          </div>\n\n          {/* Feature Cards */}\n          <div className=\"grid md:grid-cols-3 gap-8\">\n            <Card variant=\"elevated\" className=\"p-6 text-center\">\n              <div className=\"w-16 h-16 bg-[var(--color-green-light)] rounded-full flex items-center justify-center mx-auto mb-4\">\n                <InlineSVG size={32} className=\"text-[var(--color-green-primary)]\" viewBox=\"0 0 24 24\">\n                  <path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"/>\n                </InlineSVG>\n              </div>\n              <h3 className=\"text-xl font-semibold text-[var(--color-green-primary)] mb-2\">\n                ESG Verified\n              </h3>\n              <p className=\"text-[var(--color-text-secondary)]\">\n                Every product comes with verified sustainability certificates and ESG proof\n              </p>\n            </Card>\n\n            <Card variant=\"elevated\" className=\"p-6 text-center\">\n              <div className=\"w-16 h-16 bg-[var(--color-green-light)] rounded-full flex items-center justify-center mx-auto mb-4\">\n                <InlineSVG size={32} className=\"text-[var(--color-green-primary)]\" viewBox=\"0 0 24 24\">\n                  <path d=\"M9 11H7l4-4 4 4h-2v4h4l-4 4-4-4h2v-4z\"/>\n                </InlineSVG>\n              </div>\n              <h3 className=\"text-xl font-semibold text-[var(--color-green-primary)] mb-2\">\n                AI Concierge\n              </h3>\n              <p className=\"text-[var(--color-text-secondary)]\">\n                Aveomind AI helps you find the perfect sustainable products for your needs\n              </p>\n            </Card>\n\n            <Card variant=\"elevated\" className=\"p-6 text-center\">\n              <div className=\"w-16 h-16 bg-[var(--color-green-light)] rounded-full flex items-center justify-center mx-auto mb-4\">\n                <InlineSVG size={32} className=\"text-[var(--color-green-primary)]\" viewBox=\"0 0 24 24\">\n                  <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"/>\n                </InlineSVG>\n              </div>\n              <h3 className=\"text-xl font-semibold text-[var(--color-green-primary)] mb-2\">\n                Trusted Network\n              </h3>\n              <p className=\"text-[var(--color-text-secondary)]\">\n                Join thousands of verified buyers and suppliers in our sustainable ecosystem\n              </p>\n            </Card>\n          </div>\n        </div>\n      </section>\n\n      {/* Design System Showcase */}\n      <section className=\"py-20 px-4 bg-white\">\n        <div className=\"max-w-6xl mx-auto\">\n          <h2 className=\"text-3xl font-bold text-center text-[var(--color-green-primary)] mb-12\">\n            Design System Components\n          </h2>\n          \n          {/* Button Showcase */}\n          <Card className=\"mb-8\">\n            <CardHeader>\n              <h3 className=\"text-xl font-semibold text-black\">Button Variants</h3>\n            </CardHeader>\n            <CardContent>\n              <div className=\"flex gap-4 flex-wrap\">\n                <Button>Primary Button</Button>\n                <Button variant=\"secondary\">Secondary</Button>\n                <Button variant=\"ghost\">Ghost Button</Button>\n                <Button variant=\"outline\">Outline Button</Button>\n                <Button variant=\"danger\">Danger</Button>\n                <Button variant=\"success\">Success</Button>\n              </div>\n              <div className=\"flex gap-4 flex-wrap mt-4\">\n                <Button size=\"sm\">Small</Button>\n                <Button size=\"md\">Medium</Button>\n                <Button size=\"lg\">Large</Button>\n                <Button size=\"xl\">Extra Large</Button>\n              </div>\n              <div className=\"flex gap-4 flex-wrap mt-4\">\n                <Button loading>Loading...</Button>\n                <Button disabled>Disabled</Button>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Card Showcase */}\n          <Card className=\"mb-8\">\n            <CardHeader>\n              <h3 className=\"text-xl font-semibold text-black\">Card Variants</h3>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid md:grid-cols-2 lg:grid-cols-4 gap-4\">\n                <Card variant=\"default\" className=\"p-4\">\n                  <h4 className=\"font-semibold mb-2 text-black\">Default Card</h4>\n                  <p className=\"text-sm text-gray-700\">Standard card with border</p>\n                </Card>\n                <Card variant=\"elevated\" className=\"p-4\">\n                  <h4 className=\"font-semibold mb-2 text-black\">Elevated Card</h4>\n                  <p className=\"text-sm text-gray-700\">Card with shadow</p>\n                </Card>\n                <Card variant=\"outlined\" className=\"p-4\">\n                  <h4 className=\"font-semibold mb-2 text-black\">Outlined Card</h4>\n                  <p className=\"text-sm text-gray-700\">Card with accent border</p>\n                </Card>\n                <Card variant=\"subtle\" className=\"p-4\">\n                  <h4 className=\"font-semibold mb-2 text-black\">Subtle Card</h4>\n                  <p className=\"text-sm text-gray-700\">Card with subtle background</p>\n                </Card>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Color Palette Showcase */}\n          <Card>\n            <CardHeader>\n              <h3 className=\"text-xl font-semibold text-black\">Color Palette</h3>\n            </CardHeader>\n            <CardContent>\n              <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\n                <div className=\"text-center\">\n                  <div className=\"w-16 h-16 bg-[var(--color-green-primary)] rounded-lg mx-auto mb-2\"></div>\n                  <span className=\"text-sm font-semibold text-black\">Primary</span>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"w-16 h-16 bg-[var(--color-green-secondary)] rounded-lg mx-auto mb-2\"></div>\n                  <span className=\"text-sm font-semibold text-black\">Secondary</span>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"w-16 h-16 bg-[var(--color-green-accent)] rounded-lg mx-auto mb-2\"></div>\n                  <span className=\"text-sm font-semibold text-black\">Accent</span>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"w-16 h-16 bg-[var(--color-green-light)] rounded-lg mx-auto mb-2\"></div>\n                  <span className=\"text-sm font-semibold text-black\">Light</span>\n                </div>\n                <div className=\"text-center\">\n                  <div className=\"w-16 h-16 bg-[var(--color-green-subtle)] rounded-lg mx-auto mb-2 border\"></div>\n                  <span className=\"text-sm font-semibold text-black\">Subtle</span>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n      </section>\n\n      {/* Footer */}\n      <footer className=\"bg-[var(--color-green-primary)] text-white py-12 px-4\">\n        <div className=\"max-w-6xl mx-auto text-center\">\n          <h3 className=\"text-2xl font-bold mb-4\">Ready to build sustainable commerce?</h3>\n          <p className=\"text-[var(--color-green-light)] mb-6\">\n            Join the marketplace that puts sustainability first\n          </p>\n          <Button variant=\"secondary\" size=\"lg\">\n            Get Started Today\n          </Button>\n        </div>\n      </footer>\n    </div>\n  );\n}\n","path":null,"size_bytes":8951,"size_tokens":null},"README.md":{"content":"# AveoEarth E-commerce Platform - Knowledge Transfer Guide\n\n## 📋 Table of Contents\n1. [Tech Stack Overview](#tech-stack-overview)\n2. [Project Structure](#project-structure)\n3. [Frontend Architecture](#frontend-architecture)\n4. [Key Components & Integration](#key-components--integration)\n5. [Services & API Integration](#services--api-integration)\n6. [Styling & Design System](#styling--design-system)\n7. [Authentication & State Management](#authentication--state-management)\n8. [Future Development Opportunities](#future-development-opportunities)\n9. [Getting Started](#getting-started)\n\n---\n\n## 🛠 Tech Stack Overview\n\n### **Core Framework**\n- **Next.js 15.5.0** - React framework with App Router\n- **React 19.1.0** - UI library with latest features\n- **Node.js** - Runtime environment\n\n### **Styling & UI**\n- **Tailwind CSS v4** - Utility-first CSS framework\n- **PostCSS** - CSS processing\n- **Custom Fonts**:\n  - Poppins (local)\n  - Reem Kufi (local)\n  - EB Garamond (Google Fonts)\n  - Geist Sans/Mono (Google Fonts)\n\n### **Development Tools**\n- **ESLint** - Code linting\n- **Turbopack** - Fast bundler (Next.js built-in)\n- **TypeScript** - Type safety (configured but not fully implemented)\n\n### **Key Dependencies**\n```json\n{\n  \"@heroicons/react\": \"^2.2.0\",     // Heroicons for UI icons\n  \"lucide-react\": \"^0.542.0\",       // Lucide icons\n  \"next\": \"15.5.0\",                 // Next.js framework\n  \"react\": \"19.1.0\",                // React library\n  \"react-dom\": \"19.1.0\"             // React DOM\n}\n```\n\n---\n\n## 📁 Project Structure\n\n```\nfrontend/\n├── .env.local                    # Environment variables\n├── .env.local.example           # Environment template\n├── .next/                       # Next.js build output\n├── node_modules/                # Dependencies\n├── public/                      # Static assets\n│   ├── fonts/                   # Custom fonts\n│   ├── *.jpg, *.png, *.svg      # Images and icons\n│   └── *.mp4                    # Videos\n├── src/\n│   ├── app/                     # Next.js App Router pages\n│   │   ├── account/             # User account pages\n│   │   ├── admin/               # Admin dashboard\n│   │   ├── cart/                # Shopping cart\n│   │   ├── checkout/            # Checkout process\n│   │   ├── contactus/           # Contact page\n│   │   ├── designGuide/         # Design system guide\n│   │   ├── explore/             # Product exploration\n│   │   ├── login/               # Authentication\n│   │   ├── products/            # Product pages\n│   │   ├── signup/              # Registration\n│   │   ├── vendor/              # Vendor dashboard\n│   │   ├── layout.js            # Root layout\n│   │   ├── page.jsx             # Home page\n│   │   └── globals.css          # Global styles\n│   ├── components/              # Reusable components\n│   │   ├── address/             # Address management\n│   │   ├── admin/               # Admin components\n│   │   ├── ai/                  # AI chat components\n│   │   ├── cart/                # Cart components\n│   │   ├── checkout/            # Checkout components\n│   │   ├── dashboard/           # Dashboard components\n│   │   ├── esg/                 # ESG/sustainability components\n│   │   ├── explore/             # Product exploration\n│   │   ├── forms/               # Form components\n│   │   ├── layout/              # Layout components\n│   │   ├── search/              # Search components\n│   │   ├── ui/                  # UI primitives\n│   │   └── vendor/              # Vendor dashboard\n│   ├── hooks/                   # Custom React hooks\n│   ├── lib/                     # Utility libraries\n│   └── services/                # API service layer\n├── tailwind.config.js           # Tailwind configuration\n├── next.config.mjs              # Next.js configuration\n├── package.json                 # Dependencies & scripts\n├── jsconfig.json                # JavaScript configuration\n└── eslint.config.mjs            # ESLint configuration\n```\n\n---\n\n## 🏗 Frontend Architecture\n\n### **App Router Structure**\nThe application uses Next.js 15's App Router with the following key features:\n\n- **File-based routing** in `src/app/`\n- **Layout composition** with `layout.js`\n- **Server Components** by default\n- **Client Components** marked with `\"use client\"`\n\n### **Component Organization**\n```\ncomponents/\n├── ui/              # Design system primitives\n├── layout/          # Page layout components\n├── vendor/          # Vendor-specific components\n├── admin/           # Admin dashboard components\n├── cart/            # Shopping cart components\n├── checkout/        # Checkout flow components\n├── forms/           # Form components\n├── search/          # Search and filter components\n├── esg/             # Sustainability features\n└── ai/              # AI-powered features\n```\n\n---\n\n## 🔧 Key Components & Integration\n\n### **Layout Components**\n\n#### **1. Root Layout (`layout.js`)**\n```javascript\n// Context Providers: Auth, Cart, Orders\n// Font loading: Poppins, Reem Kufi, EB Garamond, Geist\n// Global styles and metadata\n```\n\n#### **2. Navbar (`components/layout/Navbar.jsx`)**\n- User authentication state\n- Navigation links\n- Cart indicator\n- Mobile-responsive design\n\n#### **3. Footer (`components/layout/Footer.jsx`)**\n- Site links and information\n- Social media integration\n- Newsletter signup\n\n#### **4. Vendor Layout (`components/layout/VendorLayout.jsx`)**\n- Sidebar navigation\n- Vendor-specific routing\n- Authentication guards\n\n### **UI Components (`components/ui/`)**\n- **Button.jsx** - Consistent button styles\n- **Card.jsx** - Card containers\n- **ProductCard.jsx** - Product display\n- **CategoryCard.jsx** - Category navigation\n- **FileUpload.jsx** - File upload functionality\n- **ProductQuickView.jsx** - Product preview modal\n\n### **Vendor Dashboard Components**\n\n#### **Core Components:**\n- **VendorSidebar.jsx** - Navigation sidebar\n- **DashboardContent.jsx** - Main dashboard view\n- **DashboardStats.jsx** - Statistics cards\n- **ProductsContent.jsx** - Product management\n- **OrdersContent.jsx** - Order management\n- **InventoryContent.jsx** - Inventory tracking\n- **AnalyticsContent.jsx** - Performance analytics\n- **SettingsContent.jsx** - Account settings\n\n#### **Product Management:**\n```\nvendor/products/\n├── ProductsHeader.jsx      # Section header with add button\n├── ProductsTable.jsx       # Product listing table\n├── ProductTableHeader.jsx  # Table headers (hidden on mobile)\n├── ProductRow.jsx          # Individual product row\n├── ProductsSearch.jsx      # Search and filter controls\n└── AddProductModal.jsx     # Add new product modal\n```\n\n#### **Order Management:**\n```\nvendor/orders/\n├── OrdersHeader.jsx        # Section header\n├── OrdersTable.jsx         # Order listing table\n├── OrderTableHeader.jsx    # Table headers (hidden on mobile)\n├── OrderRow.jsx            # Individual order row\n└── OrdersSearch.jsx        # Search and filter controls\n```\n\n### **AI Components (`components/ai/`)**\n- **DraggableChatModal.jsx** - AI assistant chat interface\n  - Draggable functionality\n  - Session management\n  - Real-time messaging\n  - Browser compatibility (UUID fallback)\n\n### **ESG Components (`components/esg/`)**\n- **HotDealsSection.jsx** - Featured deals\n- **TopCategoriesSection.jsx** - Category navigation\n- **BestSellersSection.jsx** - Popular products\n\n---\n\n## 🌐 Services & API Integration\n\n### **Service Layer Architecture**\nLocated in `src/services/` - Clean separation of API calls:\n\n```javascript\n// Example service structure\nservices/\n├── productsService.js       # Product CRUD operations\n├── buyerOrdersService.js    # Customer order management\n├── supplierOrdersService.js # Vendor order management\n├── supplierAnalyticsService.js # Analytics and reporting\n├── chatService.js           # AI chat functionality\n├── addressService.js        # Address management\n├── profileService.js        # User profile management\n└── adminService.js          # Admin operations\n```\n\n### **API Integration Pattern**\n```javascript\n// Consistent error handling and response formatting\nconst productsService = {\n  async getProducts(params) {\n    try {\n      const response = await api.get('/products', { params });\n      return response.data;\n    } catch (error) {\n      console.error('Failed to fetch products:', error);\n      throw error;\n    }\n  }\n};\n```\n\n### **Key API Endpoints**\n- **Products**: CRUD operations, search, filtering\n- **Orders**: Order management, status updates\n- **Analytics**: Performance metrics, reporting\n- **Authentication**: Login, signup, profile management\n- **Cart**: Shopping cart operations\n- **AI Chat**: Conversational AI integration\n\n---\n\n## 🎨 Styling & Design System\n\n### **Tailwind CSS Configuration**\n- **Custom color palette** with CSS variables\n- **Responsive breakpoints**: `sm:`, `md:`, `lg:`\n- **Custom fonts** loaded locally and from Google Fonts\n- **Design tokens** for consistent theming\n\n### **Color System**\n```css\n/* CSS Variables in globals.css */\n--color-green-primary: #1b6145;\n--color-green-secondary: #22c55e;\n--color-success: #10b981;\n--color-warning: #f59e0b;\n--color-error: #ef4444;\n/* ... more color tokens */\n```\n\n### **Typography Scale**\n- **Headings**: Poppins font family\n- **Body**: Reem Kufi for UI elements\n- **Accent**: EB Garamond for special text\n- **Mono**: Geist Mono for code\n\n### **Responsive Design**\n- **Mobile-first approach**\n- **Breakpoint system**: `sm: 640px`, `md: 768px`, `lg: 1024px`\n- **Flexible layouts** with CSS Grid and Flexbox\n- **Touch-friendly** interactive elements (44px minimum)\n\n---\n\n## 🔐 Authentication & State Management\n\n### **Custom Hooks**\nLocated in `src/hooks/`:\n\n#### **useAuth.js**\n```javascript\n// Authentication state management\nconst { user, login, logout, isAuthenticated } = useAuth();\n```\n\n#### **useCart.js**\n```javascript\n// Shopping cart state\nconst { cart, addToCart, removeFromCart, cartTotal } = useCart();\n```\n\n#### **useOrders.js**\n```javascript\n// Order management\nconst { orders, createOrder, updateOrderStatus } = useOrders();\n```\n\n### **Context Providers**\n- **AuthProvider** - User authentication state\n- **CartProvider** - Shopping cart state\n- **OrdersProvider** - Order management state\n\n### **Authentication Flow**\n1. **Login/Signup** pages with form validation\n2. **JWT token** storage in localStorage\n3. **Protected routes** with authentication guards\n4. **Role-based access** (buyer, supplier, admin)\n\n---\n\n## 🚀 Future Development Opportunities\n\n### **High Priority Features**\n\n#### **1. Enhanced Mobile Experience**\n- [ ] Progressive Web App (PWA) capabilities\n- [ ] Offline functionality for product browsing\n- [ ] Push notifications for order updates\n- [ ] Mobile-specific payment flows\n\n#### **2. Advanced Search & Filtering**\n- [ ] AI-powered product recommendations\n- [ ] Visual search with image recognition\n- [ ] Advanced filtering (price ranges, sustainability scores)\n- [ ] Search analytics and insights\n\n#### **3. Vendor Tools Enhancement**\n- [ ] Bulk product management\n- [ ] Advanced analytics dashboard\n- [ ] Automated inventory management\n- [ ] Multi-channel selling integration\n\n#### **4. Sustainability Features**\n- [ ] Carbon footprint calculator\n- [ ] ESG score visualization\n- [ ] Supplier sustainability tracking\n- [ ] Green shipping options\n\n### **Medium Priority Features**\n\n#### **5. Social Commerce**\n- [ ] Product reviews and ratings\n- [ ] User-generated content\n- [ ] Social sharing integration\n- [ ] Community features\n\n#### **6. Internationalization**\n- [ ] Multi-language support\n- [ ] Currency conversion\n- [ ] Regional shipping rules\n- [ ] Localized content\n\n#### **7. Performance Optimization**\n- [ ] Image optimization pipeline\n- [ ] Caching strategies\n- [ ] Bundle size optimization\n- [ ] Core Web Vitals improvement\n\n### **Technical Debt & Improvements**\n\n#### **8. Code Quality**\n- [ ] Full TypeScript migration\n- [ ] Comprehensive test coverage\n- [ ] Component documentation\n- [ ] API documentation with OpenAPI\n\n#### **9. Developer Experience**\n- [ ] Storybook for component development\n- [ ] Automated deployment pipeline\n- [ ] Development environment setup\n- [ ] Code generation tools\n\n#### **10. Security Enhancements**\n- [ ] Advanced authentication (2FA, social login)\n- [ ] Payment security improvements\n- [ ] Data encryption at rest\n- [ ] GDPR compliance features\n\n### **Integration Opportunities**\n\n#### **11. Third-party Integrations**\n- [ ] Payment gateways (Stripe, PayPal)\n- [ ] Shipping providers (FedEx, UPS)\n- [ ] Marketing tools (email, SMS)\n- [ ] Analytics platforms (Google Analytics, Mixpanel)\n\n#### **12. API Ecosystem**\n- [ ] Public API for third-party integrations\n- [ ] Webhook system for real-time updates\n- [ ] Mobile app API endpoints\n- [ ] Partner integration APIs\n\n---\n\n## 🏁 Getting Started\n\n### **Prerequisites**\n```bash\nNode.js 18+\nnpm or yarn\n```\n\n### **Installation**\n```bash\n# Clone the repository\ngit clone <repository-url>\ncd frontend\n\n# Install dependencies\nnpm install\n\n# Set up environment variables\ncp .env.local.example .env.local\n# Edit .env.local with your configuration\n\n# Start development server\nnpm run dev\n```\n\n### **Available Scripts**\n```json\n{\n  \"dev\": \"next dev --turbopack\",     // Development with Turbopack\n  \"build\": \"next build --turbopack\", // Production build\n  \"start\": \"next start\",             // Production server\n  \"lint\": \"eslint\"                   // Code linting\n}\n```\n\n### **Development Workflow**\n1. **Feature Development**: Create feature branch from `main`\n2. **Code Standards**: Follow ESLint rules and component patterns\n3. **Testing**: Test components across different screen sizes\n4. **Responsive Design**: Ensure mobile-first approach\n5. **Performance**: Optimize images and bundle size\n\n### **Key Files to Understand**\n- `src/app/layout.js` - Root layout and providers\n- `src/app/page.jsx` - Home page structure\n- `tailwind.config.js` - Styling configuration\n- `src/services/` - API integration patterns\n- `src/components/vendor/` - Dashboard architecture\n\n### **Architecture Principles**\n- **Component Composition** over inheritance\n- **Separation of Concerns** (services, components, hooks)\n- **Responsive First** design approach\n- **Accessibility** considerations\n- **Performance** optimization\n\n---\n\n## 📞 Support & Documentation\n\n### **Current Documentation**\n- `DESIGN_GUIDE.md` - Design system guidelines\n- `README.md` - Project overview\n- Component-level documentation in code comments\n\n### **Recommended Next Steps**\n1. Set up automated testing framework\n2. Create comprehensive API documentation\n3. Implement error monitoring and logging\n4. Establish code review processes\n5. Plan for scalability and performance monitoring\n\n---\n\n*This knowledge transfer guide provides a comprehensive overview of the AveoEarth e-commerce platform. The next developer should focus on understanding the component architecture and service layer patterns before implementing new features.*","path":null,"size_bytes":15460,"size_tokens":null},"src/lib/countryCodes.js":{"content":"// Minimal country code list for phone inputs\nexport const countryCodes = [\n  { dial_code: \"+91\", flag: \"🇮🇳\", name: \"India\" },\n  { dial_code: \"+1\", flag: \"🇺🇸\", name: \"United States\" },\n  { dial_code: \"+44\", flag: \"🇬🇧\", name: \"United Kingdom\" },\n  { dial_code: \"+61\", flag: \"🇦🇺\", name: \"Australia\" },\n  { dial_code: \"+65\", flag: \"🇸🇬\", name: \"Singapore\" },\n  { dial_code: \"+971\", flag: \"🇦🇪\", name: \"UAE\" },\n  { dial_code: \"+81\", flag: \"🇯🇵\", name: \"Japan\" },\n  { dial_code: \"+49\", flag: \"🇩🇪\", name: \"Germany\" },\n  { dial_code: \"+33\", flag: \"🇫🇷\", name: \"France\" },\n  { dial_code: \"+86\", flag: \"🇨🇳\", name: \"China\" },\n];\n","path":null,"size_bytes":675,"size_tokens":null},"src/components/admin/screens/SettingsScreen.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { \n  Cog6ToothIcon,\n  BellIcon,\n  ShieldCheckIcon,\n  CreditCardIcon,\n  GlobeAltIcon,\n  ChartBarIcon,\n  KeyIcon,\n  UserGroupIcon,\n  DocumentTextIcon,\n  ExclamationTriangleIcon,\n  CheckCircleIcon,\n  XCircleIcon\n} from \"@heroicons/react/24/outline\";\n\nexport default function SettingsScreen() {\n  const [activeTab, setActiveTab] = useState(\"general\");\n  const [settings, setSettings] = useState({\n    general: {\n      siteName: \"AveoEarth\",\n      siteDescription: \"Sustainable E-commerce Marketplace\",\n      siteUrl: \"https://aveoearth.com\",\n      adminEmail: \"admin@aveoearth.com\",\n      timezone: \"Asia/Kolkata\",\n      currency: \"INR\",\n      language: \"en\"\n    },\n    notifications: {\n      emailNotifications: true,\n    orderNotifications: true,\n    supplierNotifications: true,\n      systemAlerts: true,\n      weeklyReports: true,\n      monthlyReports: true\n    },\n    security: {\n      twoFactorAuth: false,\n      sessionTimeout: 30,\n      passwordPolicy: \"strong\",\n      ipWhitelist: [],\n      loginAttempts: 5,\n      accountLockout: true\n    },\n    payment: {\n      stripeEnabled: true,\n      razorpayEnabled: true,\n      paypalEnabled: false,\n      defaultGateway: \"razorpay\",\n      currency: \"INR\",\n      commissionRate: 5.0\n    },\n    features: {\n      aiVerification: true,\n      esgTracking: true,\n      analytics: true,\n      chatSupport: true,\n      mobileApp: false,\n      apiAccess: true\n    },\n    integrations: {\n      googleAnalytics: \"\",\n      facebookPixel: \"\",\n      mailchimp: \"\",\n      slack: \"\",\n      webhookUrl: \"\"\n    }\n  });\n  const [loading, setLoading] = useState(false);\n  const [saved, setSaved] = useState(false);\n\n  const tabs = [\n    { id: \"general\", name: \"General\", icon: Cog6ToothIcon },\n    { id: \"notifications\", name: \"Notifications\", icon: BellIcon },\n    { id: \"security\", name: \"Security\", icon: ShieldCheckIcon },\n    { id: \"payment\", name: \"Payment\", icon: CreditCardIcon },\n    { id: \"features\", name: \"Features\", icon: ChartBarIcon },\n    { id: \"integrations\", name: \"Integrations\", icon: GlobeAltIcon }\n  ];\n\n  const handleSettingChange = (category, key, value) => {\n    setSettings(prev => ({\n      ...prev,\n      [category]: {\n        ...prev[category],\n        [key]: value\n      }\n    }));\n  };\n\n  const handleSaveSettings = async () => {\n    setLoading(true);\n    try {\n      // Simulate API call\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      setSaved(true);\n      setTimeout(() => setSaved(false), 3000);\n    } catch (error) {\n      console.error('Failed to save settings:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const renderGeneralSettings = () => (\n            <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Site Name\n                </label>\n                <input\n                  type=\"text\"\n            value={settings.general.siteName}\n            onChange={(e) => handleSettingChange(\"general\", \"siteName\", e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Admin Email\n                </label>\n                <input\n                  type=\"email\"\n            value={settings.general.adminEmail}\n            onChange={(e) => handleSettingChange(\"general\", \"adminEmail\", e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n                />\n        </div>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          Site Description\n                </label>\n        <textarea\n          value={settings.general.siteDescription}\n          onChange={(e) => handleSettingChange(\"general\", \"siteDescription\", e.target.value)}\n          rows={3}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n                />\n              </div>\n              \n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Timezone\n          </label>\n          <select\n            value={settings.general.timezone}\n            onChange={(e) => handleSettingChange(\"general\", \"timezone\", e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n          >\n            <option value=\"Asia/Kolkata\">Asia/Kolkata</option>\n            <option value=\"UTC\">UTC</option>\n            <option value=\"America/New_York\">America/New_York</option>\n            <option value=\"Europe/London\">Europe/London</option>\n          </select>\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Currency\n          </label>\n          <select\n            value={settings.general.currency}\n            onChange={(e) => handleSettingChange(\"general\", \"currency\", e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n          >\n            <option value=\"INR\">INR (₹)</option>\n            <option value=\"USD\">USD ($)</option>\n            <option value=\"EUR\">EUR (€)</option>\n            <option value=\"GBP\">GBP (£)</option>\n          </select>\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Language\n          </label>\n          <select\n            value={settings.general.language}\n            onChange={(e) => handleSettingChange(\"general\", \"language\", e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n          >\n            <option value=\"en\">English</option>\n            <option value=\"hi\">Hindi</option>\n            <option value=\"es\">Spanish</option>\n            <option value=\"fr\">French</option>\n          </select>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderNotificationSettings = () => (\n    <div className=\"space-y-6\">\n      <div className=\"space-y-4\">\n        {Object.entries(settings.notifications).map(([key, value]) => (\n          <div key={key} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\n            <div>\n              <h3 className=\"text-sm font-medium text-gray-900\">\n                {key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}\n              </h3>\n              <p className=\"text-sm text-gray-500\">\n                {key === 'emailNotifications' && 'Send email notifications for important events'}\n                {key === 'orderNotifications' && 'Notify when new orders are placed'}\n                {key === 'supplierNotifications' && 'Notify when suppliers register or update'}\n                {key === 'systemAlerts' && 'Send system alerts and warnings'}\n                {key === 'weeklyReports' && 'Send weekly performance reports'}\n                {key === 'monthlyReports' && 'Send monthly analytics reports'}\n              </p>\n            </div>\n            <label className=\"relative inline-flex items-center cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={value}\n                onChange={(e) => handleSettingChange(\"notifications\", key, e.target.checked)}\n                className=\"sr-only peer\"\n              />\n              <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-600\"></div>\n            </label>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n\n  const renderSecuritySettings = () => (\n    <div className=\"space-y-6\">\n      <div className=\"space-y-4\">\n        <div className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\n          <div>\n            <h3 className=\"text-sm font-medium text-gray-900\">Two-Factor Authentication</h3>\n            <p className=\"text-sm text-gray-500\">Require 2FA for admin accounts</p>\n          </div>\n          <label className=\"relative inline-flex items-center cursor-pointer\">\n            <input\n              type=\"checkbox\"\n              checked={settings.security.twoFactorAuth}\n              onChange={(e) => handleSettingChange(\"security\", \"twoFactorAuth\", e.target.checked)}\n              className=\"sr-only peer\"\n            />\n            <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-600\"></div>\n          </label>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Session Timeout (minutes)\n            </label>\n            <input\n              type=\"number\"\n              value={settings.security.sessionTimeout}\n              onChange={(e) => handleSettingChange(\"security\", \"sessionTimeout\", parseInt(e.target.value))}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n            />\n          </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Max Login Attempts\n                </label>\n                <input\n              type=\"number\"\n              value={settings.security.loginAttempts}\n              onChange={(e) => handleSettingChange(\"security\", \"loginAttempts\", parseInt(e.target.value))}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n                />\n              </div>\n            </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Password Policy\n          </label>\n          <select\n            value={settings.security.passwordPolicy}\n            onChange={(e) => handleSettingChange(\"security\", \"passwordPolicy\", e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n          >\n            <option value=\"basic\">Basic (6+ characters)</option>\n            <option value=\"medium\">Medium (8+ chars, 1 number)</option>\n            <option value=\"strong\">Strong (8+ chars, 1 number, 1 special)</option>\n            <option value=\"very-strong\">Very Strong (12+ chars, mixed case, numbers, symbols)</option>\n          </select>\n        </div>\n          </div>\n        </div>\n  );\n\n  const renderPaymentSettings = () => (\n    <div className=\"space-y-6\">\n      <div className=\"space-y-4\">\n        {Object.entries(settings.payment).filter(([key]) => key !== 'defaultGateway' && key !== 'currency' && key !== 'commissionRate').map(([key, value]) => (\n          <div key={key} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\n            <div>\n              <h3 className=\"text-sm font-medium text-gray-900\">\n                {key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}\n              </h3>\n              <p className=\"text-sm text-gray-500\">\n                {key === 'stripeEnabled' && 'Enable Stripe payment processing'}\n                {key === 'razorpayEnabled' && 'Enable Razorpay payment processing'}\n                {key === 'paypalEnabled' && 'Enable PayPal payment processing'}\n              </p>\n                </div>\n            <label className=\"relative inline-flex items-center cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={value}\n                onChange={(e) => handleSettingChange(\"payment\", key, e.target.checked)}\n                className=\"sr-only peer\"\n              />\n              <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-600\"></div>\n            </label>\n                </div>\n        ))}\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Default Payment Gateway\n            </label>\n            <select\n              value={settings.payment.defaultGateway}\n              onChange={(e) => handleSettingChange(\"payment\", \"defaultGateway\", e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n            >\n              <option value=\"razorpay\">Razorpay</option>\n              <option value=\"stripe\">Stripe</option>\n              <option value=\"paypal\">PayPal</option>\n            </select>\n                </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Commission Rate (%)\n            </label>\n            <input\n              type=\"number\"\n              step=\"0.1\"\n              value={settings.payment.commissionRate}\n              onChange={(e) => handleSettingChange(\"payment\", \"commissionRate\", parseFloat(e.target.value))}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n            />\n            </div>\n          </div>\n        </div>\n            </div>\n  );\n            \n  const renderFeatureSettings = () => (\n    <div className=\"space-y-6\">\n            <div className=\"space-y-4\">\n        {Object.entries(settings.features).map(([key, value]) => (\n          <div key={key} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg\">\n            <div>\n              <h3 className=\"text-sm font-medium text-gray-900\">\n                    {key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}\n              </h3>\n              <p className=\"text-sm text-gray-500\">\n                {key === 'aiVerification' && 'AI-powered product verification system'}\n                {key === 'esgTracking' && 'ESG impact tracking and reporting'}\n                {key === 'analytics' && 'Advanced analytics and reporting'}\n                {key === 'chatSupport' && 'Live chat support system'}\n                {key === 'mobileApp' && 'Mobile application support'}\n                {key === 'apiAccess' && 'API access for third-party integrations'}\n              </p>\n            </div>\n            <label className=\"relative inline-flex items-center cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={value}\n                onChange={(e) => handleSettingChange(\"features\", key, e.target.checked)}\n                className=\"sr-only peer\"\n              />\n              <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-600\"></div>\n                  </label>\n                </div>\n              ))}\n            </div>\n          </div>\n  );\n\n  const renderIntegrationSettings = () => (\n    <div className=\"space-y-6\">\n            <div className=\"space-y-4\">\n        {Object.entries(settings.integrations).map(([key, value]) => (\n          <div key={key}>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              {key.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase())}\n            </label>\n            <input\n              type=\"text\"\n              value={value}\n              onChange={(e) => handleSettingChange(\"integrations\", key, e.target.value)}\n              placeholder={`Enter ${key} configuration...`}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n            />\n            <p className=\"text-xs text-gray-500 mt-1\">\n              {key === 'googleAnalytics' && 'Google Analytics tracking ID (e.g., GA-XXXXXXXXX)'}\n              {key === 'facebookPixel' && 'Facebook Pixel ID (e.g., 123456789012345)'}\n              {key === 'mailchimp' && 'Mailchimp API key or list ID'}\n              {key === 'slack' && 'Slack webhook URL for notifications'}\n              {key === 'webhookUrl' && 'Webhook URL for external integrations'}\n            </p>\n                </div>\n              ))}\n            </div>\n          </div>\n  );\n\n  const renderTabContent = () => {\n    switch (activeTab) {\n      case \"general\":\n        return renderGeneralSettings();\n      case \"notifications\":\n        return renderNotificationSettings();\n      case \"security\":\n        return renderSecuritySettings();\n      case \"payment\":\n        return renderPaymentSettings();\n      case \"features\":\n        return renderFeatureSettings();\n      case \"integrations\":\n        return renderIntegrationSettings();\n      default:\n        return renderGeneralSettings();\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-2xl font-semibold text-black\">Settings</h1>\n        <div className=\"flex items-center gap-2\">\n          {saved && (\n            <div className=\"flex items-center gap-2 text-emerald-600\">\n              <CheckCircleIcon className=\"h-4 w-4\" />\n              <span className=\"text-sm\">Settings saved!</span>\n              </div>\n          )}\n          <button\n            onClick={handleSaveSettings}\n            disabled={loading}\n            className=\"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2\"\n          >\n            {loading ? (\n              <>\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\n                Saving...\n              </>\n            ) : (\n              <>\n                <CheckCircleIcon className=\"h-4 w-4\" />\n                Save Settings\n              </>\n            )}\n          </button>\n        </div>\n      </div>\n      \n      {/* Settings Tabs */}\n      <div className=\"bg-white rounded-xl border border-gray-200 shadow-sm\">\n        <div className=\"border-b border-gray-200\">\n          <nav className=\"flex space-x-8 px-6\" aria-label=\"Tabs\">\n            {tabs.map((tab) => {\n              const IconComponent = tab.icon;\n              return (\n                <button\n                  key={tab.id}\n                  onClick={() => setActiveTab(tab.id)}\n                  className={`${\n                    activeTab === tab.id\n                      ? 'border-emerald-500 text-emerald-600'\n                      : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                  } whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2`}\n                >\n                  <IconComponent className=\"h-4 w-4\" />\n                  {tab.name}\n        </button>\n              );\n            })}\n          </nav>\n        </div>\n\n        <div className=\"p-6\">\n          {renderTabContent()}\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":20653,"size_tokens":null},"src/components/forms/OTPVerification.jsx":{"content":"\"use client\";\n\nimport { useRef, useState } from \"react\";\n\nexport default function OTPVerification({ length = 6, onVerify }) {\n  const [otp, setOtp] = useState(\"\");\n  const inputRef = useRef(null);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (otp.length === length) {\n      onVerify?.(otp);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <main className=\"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        {/* Back Button */}\n        <div className=\"mb-8\">\n          <button className=\"flex items-center text-[#2c3a4b] hover:text-[#502c0a] font-semibold text-base\">\n            <div className=\"w-3 h-2 mr-2 rotate-90\">\n              <svg viewBox=\"0 0 7 4\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M3.5 4L0 0H7L3.5 4Z\" fill=\"currentColor\"/>\n              </svg>\n            </div>\n            Back\n          </button>\n        </div>\n\n        {/* Page Title */}\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-5xl text-[#09101d] mb-4\">\n            <span className=\"font-['Beth_Ellen',cursive] font-normal\">Verify </span>\n            <span className=\"font-normal\">OTP</span>\n          </h1>\n          <p className=\"text-[#09101d] opacity-60 text-base mb-6\">\n            We sent a {length}-digit code to your WhatsApp. Enter it below to verify your account.\n          </p>\n        </div>\n\n        <div className=\"max-w-md mx-auto\">\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <label className=\"block px-4 py-0 mb-2\">\n                <span className=\"text-[#09101d] text-base font-semibold opacity-80\">OTP Code</span>\n                <span className=\"text-[#da1414] text-[13px] opacity-80\">*</span>\n              </label>\n              <input\n                ref={inputRef}\n                type=\"text\"\n                inputMode=\"numeric\"\n                value={otp}\n                onChange={(e) => setOtp((e.target.value || \"\").replace(/\\D/g, \"\").slice(0, length))}\n                className=\"w-full tracking-widest text-center text-lg px-4 py-3 border border-[#858c94] rounded-lg text-[#09101d] font-semibold focus:outline-none focus:border-[#502c0a] placeholder:opacity-50\"\n                placeholder={\"•\".repeat(length)}\n                pattern={`[0-9]{${length}}`}\n                required\n              />\n            </div>\n            \n            {/* Submit Button */}\n            <div className=\"flex justify-center pt-4\">\n              <button \n                type=\"submit\" \n                disabled={otp.length !== length}\n                className=\"bg-[#502c0a] text-white px-[54px] py-4 rounded-[62px] text-base font-medium hover:bg-opacity-90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                Verify\n              </button>\n            </div>\n          </form>\n        </div>\n      </main>\n    </div>\n  );\n}\n","path":null,"size_bytes":2929,"size_tokens":null},"src/services/onboardingService.js":{"content":"// Onboarding service layer - handles business logic for supplier onboarding\nimport { supplierOnboarding, tokens } from '../lib/api';\nimport { validateOnboardingData, createFormData } from '../lib/fileUtils';\n\nclass OnboardingService {\n  constructor() {\n    this.cache = new Map();\n  }\n\n  // Get current auth token\n  getToken() {\n    const userTokens = tokens.get();\n    return userTokens?.access_token;\n  }\n\n  // Check if user has completed onboarding\n  async getOnboardingStatus() {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n      \n      const status = await supplierOnboarding.getStatus(token);\n      return status;\n    } catch (error) {\n      console.error('Failed to get onboarding status:', error);\n      throw error;\n    }\n  }\n\n  // Save business information (Step 1 & 2)\n  async saveBusinessInfo(data) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      // Validate data\n      const validation = validateOnboardingData(data);\n      if (!validation.isValid) {\n        throw new Error(`Validation failed: ${Object.values(validation.errors).join(', ')}`);\n      }\n\n      // Check if business profile exists\n      let existingBusiness = null;\n      try {\n        existingBusiness = await supplierOnboarding.getBusinessSafe(token);\n      } catch (error) {\n        console.error('Error checking existing business:', error);\n        // Continue with creating new business\n      }\n\n      // Create or update business profile\n      const result = existingBusiness \n        ? await supplierOnboarding.updateBusiness(data, token)\n        : await supplierOnboarding.createBusiness(data, token);\n\n      // Cache the result\n      this.cache.set('business_info', result);\n      return result;\n    } catch (error) {\n      console.error('Failed to save business info:', error);\n      throw error;\n    }\n  }\n\n  // Get business information\n  async getBusinessInfo() {\n    try {\n      // Return cached data if available\n      if (this.cache.has('business_info')) {\n        return this.cache.get('business_info');\n      }\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const business = await supplierOnboarding.getBusinessSafe(token);\n      if (business) {\n        this.cache.set('business_info', business);\n      }\n      return business;\n    } catch (error) {\n      console.error('Failed to get business info:', error);\n      return null; // Return null if no business info exists yet\n    }\n  }\n\n  // Upload logo\n  async uploadLogo(file) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await supplierOnboarding.uploadLogo(file, token);\n      return result;\n    } catch (error) {\n      console.error('Failed to upload logo:', error);\n      throw error;\n    }\n  }\n\n  // Upload banner\n  async uploadBanner(file) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await supplierOnboarding.uploadBanner(file, token);\n      return result;\n    } catch (error) {\n      console.error('Failed to upload banner:', error);\n      throw error;\n    }\n  }\n\n  // Save sustainability practices (Step 5)\n  async saveSustainabilityInfo(data) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      // Check if sustainability profile exists\n      let existingSustainability = null;\n      try {\n        existingSustainability = await supplierOnboarding.getSustainability(token);\n      } catch (error) {\n        // Sustainability doesn't exist yet\n      }\n\n      const result = existingSustainability\n        ? await supplierOnboarding.updateSustainability(data, token)\n        : await supplierOnboarding.createSustainability(data, token);\n\n      this.cache.set('sustainability_info', result);\n      return result;\n    } catch (error) {\n      console.error('Failed to save sustainability info:', error);\n      throw error;\n    }\n  }\n\n  // Get sustainability information\n  async getSustainabilityInfo() {\n    try {\n      if (this.cache.has('sustainability_info')) {\n        return this.cache.get('sustainability_info');\n      }\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const sustainability = await supplierOnboarding.getSustainability(token);\n      this.cache.set('sustainability_info', sustainability);\n      return sustainability;\n    } catch (error) {\n      console.error('Failed to get sustainability info:', error);\n      return null;\n    }\n  }\n\n  // Complete entire onboarding process\n  async completeOnboarding(allData) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      // Validate required business data\n      const validation = validateOnboardingData(allData);\n      if (!validation.isValid) {\n        throw new Error(`Validation failed: ${Object.values(validation.errors).join(', ')}`);\n      }\n\n      const result = await supplierOnboarding.completeOnboarding(allData, token);\n      \n      // Clear cache after successful completion\n      this.clearCache();\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to complete onboarding:', error);\n      throw error;\n    }\n  }\n\n  // Get all uploaded documents\n  async getDocuments() {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const documents = await supplierOnboarding.getDocuments(token);\n      return documents;\n    } catch (error) {\n      console.error('Failed to get documents:', error);\n      throw error;\n    }\n  }\n\n  // Delete a document\n  async deleteDocument(documentId) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      await supplierOnboarding.deleteDocument(documentId, token);\n    } catch (error) {\n      console.error('Failed to delete document:', error);\n      throw error;\n    }\n  }\n\n  // Get all assets\n  async getAssets() {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const assets = await supplierOnboarding.listAssets(token);\n      return assets;\n    } catch (error) {\n      console.error('Failed to get assets:', error);\n      throw error;\n    }\n  }\n\n  // Clear cache\n  clearCache() {\n    this.cache.clear();\n  }\n\n  // Helper to combine all onboarding data for completion\n  async getAllOnboardingData() {\n    try {\n      const [businessInfo, sustainabilityInfo] = await Promise.all([\n        this.getBusinessInfo(),\n        this.getSustainabilityInfo()\n      ]);\n\n      return {\n        business: businessInfo,\n        sustainability: sustainabilityInfo\n      };\n    } catch (error) {\n      console.error('Failed to get all onboarding data:', error);\n      throw error;\n    }\n  }\n}\n\n// Create singleton instance\nexport const onboardingService = new OnboardingService();\nexport default onboardingService;\n","path":null,"size_bytes":7142,"size_tokens":null},"src/components/ui/ProductCard.jsx":{"content":"\"use client\";\n\nimport Image from \"next/image\";\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useCart } from \"../../hooks/useCart\";\nimport { useAuth } from \"../../hooks/useAuth\";\nimport { Check, Minus, Plus } from \"lucide-react\";\n\n// Star Rating Component\nfunction StarRating({ rating = 4.9, reviews = 524 }) {\n  return (\n    <div className=\"content-stretch flex items-center justify-start relative shrink-0 w-full\">\n      {/* 5 Stars */}\n      {[1, 2, 3, 4, 5].map((star) => (\n        <div key={star} className=\"overflow-clip relative shrink-0 size-[17.929px]\">\n          <div className=\"absolute inset-[9.38%_9.38%_12.5%_9.37%]\">\n            <svg width=\"14\" height=\"13\" viewBox=\"0 0 14 13\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M7 0L8.854 4.708L14 5.459L10.5 8.792L11.409 13L7 10.833L2.591 13L3.5 8.792L0 5.459L5.146 4.708L7 0Z\" fill=\"#FFD700\"/>\n            </svg>\n          </div>\n        </div>\n      ))}\n      <div className=\"font-poppins leading-[0] not-italic relative shrink-0 text-gray-600 text-[11.952px] text-nowrap ml-1\">\n        <p className=\"leading-[1.3] whitespace-pre\">{rating}</p>\n      </div>\n      <div className=\"font-poppins leading-[0] not-italic relative shrink-0 text-gray-600 text-[11.952px] text-nowrap\">\n        <p className=\"leading-[1.3] whitespace-pre\">{` (${reviews} Feedback)`}</p>\n      </div>\n    </div>\n  );\n}\n\n// Progress Dots Component\nfunction ProgressDots({ images = [], currentIndex = 0, isHovered = false }) {\n  // Show dots only if there are multiple images\n  if (!images || images.length <= 1) {\n    return null;\n  }\n\n  return (\n    <div className=\"content-stretch flex gap-[3.984px] items-start justify-start relative shrink-0 w-full\">\n      {images.map((_, index) => (\n        <div \n          key={index}\n          className={`basis-0 grow h-[5.976px] min-h-px min-w-px rounded-[49.802px] shrink-0 transition-colors duration-300 ${\n            index === currentIndex ? 'bg-emerald-600' : 'bg-gray-200'\n          }`} \n        />\n      ))}\n    </div>\n  );\n}\n\n// Add to Cart Button Component\nfunction AddButton({ variant = \"dark\", onClick, disabled = false }) {\n  const bgColor = variant === \"dark\" ? \"bg-gray-800\" : \"bg-emerald-600\";\n  const hoverBgColor = variant === \"dark\" ? \"hover:bg-gray-900\" : \"hover:bg-emerald-700\";\n  const borderColor = variant === \"dark\" ? \"border-gray-700\" : \"border-emerald-600\";\n  \n  const handleClick = (e) => {\n    e.stopPropagation(); // Prevent event bubbling to parent card\n    if (onClick && !disabled) {\n      onClick(e);\n    }\n  };\n  \n  return (\n    <div \n      className={`${bgColor} ${!disabled ? hoverBgColor : ''} relative rounded-[11.952px] shrink-0 cursor-pointer transition-all duration-200 ${!disabled ? 'hover:scale-105 hover:shadow-md' : 'opacity-50 cursor-not-allowed'}`}\n      onClick={handleClick}\n      data-no-navigate=\"true\"\n    >\n      <div className=\"box-border content-stretch flex gap-[9.96px] items-center justify-center overflow-clip px-[15.937px] py-[7.968px] relative\">\n        <div className=\"relative shrink-0 size-[23.905px]\">\n          <div className=\"absolute inset-0 w-full h-full flex items-center justify-center\">\n            <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M3 3H5L5.4 5M7 13H17L21 5H5.4M7 13L5.4 5M7 13L4.7 15.3C4.3 15.7 4.6 16.5 5.1 16.5H17M17 13V16.5M9 19.5C9.8 19.5 10.5 20.2 10.5 21S9.8 22.5 9 22.5 7.5 21.8 7.5 21 8.2 19.5 9 19.5ZM20 19.5C20.8 19.5 21.5 20.2 21.5 21S20.8 22.5 20 22.5 18.5 21.8 18.5 21 19.2 19.5 20 19.5Z\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n          </div>\n        </div>\n        <div className=\"flex flex-col font-reem font-normal justify-center leading-[0] relative shrink-0 text-[#e9eceb] text-[11.952px] text-nowrap\">\n          <p className=\"leading-[normal] whitespace-pre\">Add</p>\n        </div>\n      </div>\n      <div aria-hidden=\"true\" className={`absolute ${borderColor} border-[0.996px] border-solid inset-0 pointer-events-none rounded-[11.952px]`} />\n    </div>\n  );\n}\n\n// Main Product Card Component\nexport default function ProductCard({ \n  imageUrl = \"/api/placeholder/265/132\",\n  images = [], // Array of image objects with url property\n  category = \"Home & Kitchen\",\n  title = \"Bamboo Kitchen Essentials\",\n  description = \"Complete sustainable Kitchen starter set\",\n  price = 89,\n  originalPrice = 120,\n  rating = 4.9,\n  reviews = 524,\n  variant = \"default\", // \"default\", \"featured\", \"tall\"\n  size = \"default\", // \"default\", \"wide\"\n  onClick, // Add onClick handler for quick view\n  className = \"\", // Additional classes\n  slug, // Product slug for navigation\n  productId, // Product ID for navigation\n  inStock = true // Add inStock prop, default true\n}) {\n  const router = useRouter();\n  const { addToCart, updateCartItem } = useCart();\n  const { isLoggedIn } = useAuth ? useAuth() : { isLoggedIn: true }; // fallback true if no hook\n\n  // Prepare images array - use images prop if available, otherwise fallback to imageUrl\n  const productImages = images && images.length > 0 \n    ? images.map(img => typeof img === 'string' ? img : img.url).filter(Boolean)\n    : [imageUrl];\n\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n  const [isHovered, setIsHovered] = useState(false);\n  const [currentQuantity, setCurrentQuantity] = useState(1);\n  const [isAddingToCart, setIsAddingToCart] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(\"\");\n  const [addedToCart, setAddedToCart] = useState(false);\n  const [cartItemId, setCartItemId] = useState(null);\n\n  // Handle adding to cart\n  const handleAddToCart = async (e) => {\n    e.stopPropagation(); // Prevent card click\n    setErrorMsg(\"\");\n\n    if (!isLoggedIn) {\n      setErrorMsg(\"Please log in to add items to your cart.\");\n      return;\n    }\n    if (!inStock) {\n      setErrorMsg(\"This item is out of stock.\");\n      return;\n    }\n    if (!productId) {\n      setErrorMsg(\"This is a demo product. Please browse actual products to add to cart.\");\n      return;\n    }\n\n    setIsAddingToCart(true);\n    try {\n      const result = await addToCart(productId, currentQuantity);\n      \n      // Store the cart item ID for future quantity updates\n      if (result?.items) {\n        const newItem = result.items.find(item => item.product_id === productId);\n        if (newItem) {\n          setCartItemId(newItem.id);\n        }\n      }\n      \n      setAddedToCart(true);\n      // Optional: Show success feedback\n      setErrorMsg(\"\");\n    } catch (error) {\n      setErrorMsg(\"Failed to add product to cart. Please try again.\");\n    } finally {\n      setIsAddingToCart(false);\n    }\n  };\n\n  // Handle quantity change\n  const handleQuantityChange = async (change) => {\n    const newQuantity = Math.max(1, currentQuantity + change);\n    \n    // Update local state immediately for better UX\n    setCurrentQuantity(newQuantity);\n    \n    // If item is already in cart, update it on the server\n    if (addedToCart && cartItemId) {\n      try {\n        await updateCartItem(cartItemId, newQuantity);\n      } catch (error) {\n        console.error('Failed to update cart item quantity:', error);\n        // Revert local state on error\n        setCurrentQuantity(currentQuantity);\n        setErrorMsg('Failed to update quantity. Please try again.');\n      }\n    }\n  };\n\n  // Handle product click navigation\n  const handleProductClick = () => {\n    if (slug) {\n      router.push(`/products/${slug}`);\n    } else if (productId) {\n      router.push(`/products/${productId}`);\n    }\n  };\n\n  // Auto-cycle through images on hover\n  useEffect(() => {\n    if (!isHovered || productImages.length <= 1) return;\n    const interval = setInterval(() => {\n      setCurrentImageIndex((prevIndex) => \n        prevIndex === productImages.length - 1 ? 0 : prevIndex + 1\n      );\n    }, 800); // Change image every 800ms\n    return () => clearInterval(interval);\n  }, [isHovered, productImages.length]);\n\n  // Reset to first image when not hovering\n  useEffect(() => {\n    if (!isHovered) {\n      setCurrentImageIndex(0);\n    }\n  }, [isHovered]);\n\n  const cardWidth = size === \"wide\" ? \"w-full sm:w-[280px] lg:w-[305px]\" : size === \"small\" ? \"w-full sm:w-[200px] lg:w-[220px]\" : \"w-full sm:w-[240px] lg:w-[265px]\";\n  const cardHeight = variant === \"featured\" ? \"h-[420px]\" : size === \"small\" ? \"h-[360px]\" : \"h-[410px]\";\n  const imageHeight = variant === \"featured\" ? \"h-[180px]\" : size === \"small\" ? \"h-[140px]\" : \"h-[150px]\";\n  const contentPadding = \"p-3 sm:p-4 lg:p-[20px]\"; // Responsive padding\n  const contentGap = \"gap-3 sm:gap-4 lg:gap-[14px]\"; // Responsive gap\n\n  const textColor = variant === \"featured\" ? \"text-gray-800\" : \"text-gray-600\";\n  const titleColor = \"text-gray-800\";\n  const descColor = variant === \"featured\" ? \"text-gray-600\" : \"text-gray-600\";\n  const priceColor = variant === \"featured\" ? \"text-gray-800\" : \"text-gray-900\";\n  const originalPriceColor = variant === \"featured\" ? \"text-gray-600\" : \"text-gray-600\";\n\n  const handleCardClick = (e) => {\n    // Don't navigate if user clicked on Add to Cart button or if onClick handler exists\n    if (e.target.closest('[data-no-navigate]')) {\n      return;\n    }\n    if (onClick) {\n      onClick(e);\n    } else {\n      handleProductClick();\n    }\n  };\n\n  return (\n    <div \n      className={`bg-white border border-gray-100 content-stretch flex flex-col overflow-clip relative rounded-[12px] shrink-0 ${cardWidth} ${cardHeight} cursor-pointer hover:shadow-xl transition-all duration-200 hover:scale-[1.02] ${className}`}\n      onClick={handleCardClick}\n      onMouseEnter={() => setIsHovered(true)}\n      onMouseLeave={() => setIsHovered(false)}\n    >\n      {/* Product Image */}\n      <div className={`relative ${imageHeight} shrink-0 w-full overflow-hidden rounded-t-[12px]`}>\n        <Image\n          src={productImages[currentImageIndex] || '/placeholder-product.jpg'}\n          alt={title}\n          fill\n          className=\"object-cover transition-opacity duration-300\"\n          sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\n        />\n      </div>\n\n      {/* Card Content - using flexbox to push price section to bottom */}\n      <div className={`box-border flex flex-col ${contentPadding} relative shrink-0 w-full flex-1`}>\n\n        {/* Top content section - grows to take available space */}\n        <div className=\"flex flex-col gap-[14px] items-start justify-start flex-1\">\n          {/* Title and Category */}\n          <div className=\"content-stretch flex flex-col gap-[3.984px] items-start justify-start leading-[0] relative shrink-0 w-full\">\n            <div className={`flex flex-col font-poppins font-bold justify-center not-italic relative shrink-0 ${textColor} text-[10px] sm:text-[11px] lg:text-[11.952px] w-full`}>\n              <p className=\"leading-[normal]\">{category}</p>\n            </div>\n            <div className={`flex flex-col font-reem font-semibold justify-start relative shrink-0 ${titleColor} text-[16px] sm:text-[18px] lg:text-[19.921px] w-full h-12 overflow-hidden`}>\n              <p className=\"leading-[normal] line-clamp-2\">{title}</p>\n            </div>\n          </div>\n\n          {/* Description */}\n          <div className={`flex flex-col font-poppins justify-start leading-[0] not-italic relative shrink-0 ${descColor} text-[10px] sm:text-[11px] lg:text-[11.952px] w-full h-8 overflow-hidden`}>\n            <p className=\"leading-[normal] line-clamp-2\">{description}</p>\n          </div>\n\n          {/* Rating */}\n          <StarRating rating={rating} reviews={reviews} />\n\n          {/* Progress Dots */}\n          <ProgressDots \n            images={productImages} \n            currentIndex={currentImageIndex} \n            isHovered={isHovered} \n          />\n        </div>\n\n        {/* Price and Add Button - always at bottom */}\n        <div className=\"content-stretch flex items-center justify-between relative shrink-0 w-full mt-auto pt-4\">\n          <div className=\"content-stretch flex gap-[3.984px] items-center justify-start relative shrink-0\">\n            <div className=\"content-stretch flex flex-col gap-[3.984px] items-start justify-start relative shrink-0\">\n              <div className={`flex flex-col font-poppins font-semibold justify-center leading-[0] not-italic relative shrink-0 ${priceColor} text-[16px] sm:text-[18px] lg:text-[19.921px] text-nowrap`}>\n                <p className=\"leading-[normal] whitespace-pre\">₹{price}</p>\n              </div>\n            </div>\n            <div className=\"content-stretch flex flex-col gap-[3.984px] items-start justify-start relative shrink-0\">\n              <div className={`flex flex-col font-poppins font-light justify-center leading-[0] not-italic relative shrink-0 ${originalPriceColor} text-[10px] sm:text-[11px] lg:text-[11.952px] text-nowrap`}>\n                <p className=\"leading-[normal] whitespace-pre\">₹{originalPrice}</p>\n              </div>\n              {/* Strike through line */}\n              <div className=\"absolute h-0 left-0 top-[8.32px] w-[25.897px]\">\n                <div className=\"absolute bottom-[-0.4px] left-0 right-0 top-[-0.4px] bg-current h-[0.8px]\" />\n              </div>\n            </div>\n          </div>\n\n          {/* Add Button or Quantity Controls */}\n          {addedToCart ? (\n            <div className=\"flex items-center gap-2 bg-emerald-50 border border-emerald-200 rounded-[11.952px] px-3 py-2\">\n              <Check className=\"w-3 h-3 text-emerald-600\" />\n              <div className=\"flex items-center gap-1\">\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleQuantityChange(-1);\n                  }}\n                  className=\"bg-white border border-gray-300 rounded-full w-[20px] h-[20px] flex items-center justify-center hover:bg-gray-50\"\n                >\n                  <Minus className=\"w-2.5 h-2.5\" />\n                </button>\n                <span className=\"font-medium text-xs min-w-[16px] text-center\">{currentQuantity}</span>\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    handleQuantityChange(1);\n                  }}\n                  className=\"bg-white border border-gray-300 rounded-full w-[20px] h-[20px] flex items-center justify-center hover:bg-gray-50\"\n                >\n                  <Plus className=\"w-2.5 h-2.5\" />\n                </button>\n              </div>\n            </div>\n          ) : (\n            <AddButton \n              variant={variant === \"featured\" ? \"brown\" : \"dark\"} \n              onClick={handleAddToCart}\n              disabled={isAddingToCart || !isLoggedIn || !inStock}\n              data-no-navigate=\"true\"\n            />\n          )}\n        </div>\n        {/* Error message */}\n        {errorMsg && (\n          <div className=\"mt-2 text-xs text-red-600 font-poppins animate-pulse\">{errorMsg}</div>\n        )}\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":15046,"size_tokens":null},"src/components/forms/ForgotPasswordForm.jsx":{"content":"\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { auth } from \"../../lib/api\";\n\nexport default function ForgotPasswordForm() {\n  const [email, setEmail] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError(\"\");\n    setMessage(\"\");\n    \n    try {\n      const result = await auth.forgotPassword(email);\n      setMessage(result?.message || \"If your email exists, we've sent you a reset link.\");\n    } catch (err) {\n      setError(err.message || \"Failed to send reset email\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <main className=\"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        {/* Back Button */}\n        <div className=\"mb-8\">\n          <button className=\"flex items-center text-[#2c3a4b] hover:text-[#502c0a] font-semibold text-base\">\n            <div className=\"w-3 h-2 mr-2 rotate-90\">\n              <svg viewBox=\"0 0 7 4\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M3.5 4L0 0H7L3.5 4Z\" fill=\"currentColor\"/>\n              </svg>\n            </div>\n            Back\n          </button>\n        </div>\n\n        {/* Page Title */}\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-5xl text-[#09101d] mb-4\">\n            <span className=\"font-['Beth_Ellen',cursive] font-normal\">Forgot </span>\n            <span className=\"font-normal\">password</span>\n          </h1>\n          <p className=\"text-[#09101d] opacity-60 text-base\">Enter your email to receive a reset link.</p>\n        </div>\n\n        <div className=\"max-w-md mx-auto\">\n          \n          {message && (\n            <div className=\"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg\">\n              <p className=\"text-green-800 text-sm\">{message}</p>\n            </div>\n          )}\n          \n          {error && (\n            <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\">\n              <p className=\"text-red-800 text-sm\">{error}</p>\n            </div>\n          )}\n          \n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <label className=\"block px-4 py-0 mb-2\">\n                <span className=\"text-[#09101d] text-base font-semibold opacity-80\">Email Address</span>\n                <span className=\"text-[#da1414] text-[13px] opacity-80\">*</span>\n              </label>\n              <input\n                type=\"email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                disabled={isLoading}\n                className=\"w-full px-4 py-3 border border-[#858c94] rounded-lg text-[#09101d] text-base font-semibold focus:outline-none focus:border-[#502c0a] placeholder:opacity-50 disabled:opacity-50\"\n                placeholder=\"you@example.com\"\n                required\n              />\n            </div>\n            \n            {/* Submit Button */}\n            <div className=\"flex justify-center pt-4\">\n              <button\n                type=\"submit\" \n                disabled={isLoading}\n                className=\"bg-[#502c0a] text-white px-[54px] py-4 rounded-[62px] text-base font-medium hover:bg-opacity-90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {isLoading ? \"Sending...\" : \"Send reset link\"}\n              </button>\n            </div>\n            \n            {/* Back to Login Link */}\n            <div className=\"text-center\">\n              <p className=\"text-[#09101d] text-[13px] leading-[20px] opacity-60\">\n                Remembered it?{\" \"}\n                <Link href=\"/login\" className=\"font-bold text-[#502c0a]\">\n                  Back to login\n                </Link>\n              </p>\n            </div>\n          </form>\n        </div>\n      </main>\n    </div>\n  );\n}\n","path":null,"size_bytes":4035,"size_tokens":null},"src/app/RefundsandCancellation/page.jsx":{"content":"import React from 'react';\n\nexport const metadata = {\n  title: 'Shipping & Delivery | Refunds & Cancellations - AveoEarth',\n  description: 'Learn about our shipping, delivery, refunds, and cancellation policies. Understand timelines, charges, and return procedures.',\n};\n\nexport default function RefundsAndCancellationPage() {\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        {/* Header */}\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">Shipping & Delivery | Refunds & Cancellations</h1>\n          <p className=\"text-lg text-gray-600\">\n            Understand our policies for shipping, delivery, returns, and refunds.\n          </p>\n        </div>\n\n        {/* Shipping & Delivery Policy */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8 mb-8\">\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-6 border-b border-gray-200 pb-4\">\n            Shipping & Delivery Policy\n          </h2>\n\n          <div className=\"prose prose-lg max-w-none\">\n\n            {/* Section 1 */}\n            <section className=\"mb-8\">\n              <h3 className=\"text-2xl font-semibold text-gray-900 mb-4\">1. Coverage & Modes</h3>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>1.1</strong> Deliveries are performed by Sellers or logistics partners to serviceable pincodes in India. Some products may have location-based restrictions (visible on the PDP/checkout).</p>\n                <p><strong>1.2</strong> Digital/services: fulfilment occurs by email, download link, or account activation.</p>\n              </div>\n            </section>\n\n            {/* Section 2 */}\n            <section className=\"mb-8\">\n              <h3 className=\"text-2xl font-semibold text-gray-900 mb-4\">2. Timelines</h3>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>2.1</strong> Dispatch: typically within 1–2 business days of order acceptance unless otherwise stated.</p>\n                <p><strong>2.2</strong> Delivery: usually 3–7 business days post-dispatch depending on pincode, carrier capacity, and Seller location. Delivery estimates are shown at checkout and in order tracking.</p>\n              </div>\n            </section>\n\n            {/* Section 3 */}\n            <section className=\"mb-8\">\n              <h3 className=\"text-2xl font-semibold text-gray-900 mb-4\">3. Charges</h3>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>3.1</strong> Shipping/handling fees (if any) are displayed at checkout; promotions or free-shipping thresholds may apply per Seller.</p>\n              </div>\n            </section>\n\n            {/* Section 4 */}\n            <section className=\"mb-8\">\n              <h3 className=\"text-2xl font-semibold text-gray-900 mb-4\">4. Tracking & Attempts</h3>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>4.1</strong> Tracking details and status updates will be shared. Carriers may make up to 3 attempts; undelivered shipments may be marked RTO (Return to Origin).</p>\n              </div>\n            </section>\n\n            {/* Section 5 */}\n            <section className=\"mb-8\">\n              <h3 className=\"text-2xl font-semibold text-gray-900 mb-4\">5. Risk of Loss & Title</h3>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>5.1</strong> Risk and title pass on delivery to the shipping address (or on digital/service fulfilment). Please refuse open/visibly damaged packages and report issues within 48 hours to support@aveoearth.com with photos.</p>\n              </div>\n            </section>\n\n            {/* Section 6 */}\n            <section className=\"mb-8\">\n              <h3 className=\"text-2xl font-semibold text-gray-900 mb-4\">6. Delays & Force Majeure</h3>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>6.1</strong> Weather, strikes, containment zones, regulatory checks, or force majeure may affect timelines. We will keep you informed and attempt expedited redelivery or refund, as applicable.</p>\n              </div>\n            </section>\n\n            {/* Section 7 */}\n            <section className=\"mb-8\">\n              <h3 className=\"text-2xl font-semibold text-gray-900 mb-4\">7. Cross-border</h3>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>7.1</strong> Unless explicitly stated, we do not ship internationally.</p>\n              </div>\n            </section>\n\n            {/* Contact */}\n            <div className=\"mt-8 p-4 bg-blue-50 rounded-lg\">\n              <p className=\"text-gray-700\">\n                <strong>Contact:</strong> support@aveoearth.com, +91-99100 77670\n              </p>\n            </div>\n\n            {/* Last Updated */}\n            <div className=\"mt-8 pt-6 border-t border-gray-200\">\n              <p className=\"text-center text-sm text-gray-500\">\n                Last updated: 11-09-2025\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Refunds & Cancellations Policy */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8\">\n          <h2 className=\"text-3xl font-bold text-gray-900 mb-6 border-b border-gray-200 pb-4\">\n            Refunds & Cancellations Policy\n          </h2>\n\n          <div className=\"prose prose-lg max-w-none\">\n\n            {/* Section 1 */}\n            <section className=\"mb-8\">\n              <h3 className=\"text-2xl font-semibold text-gray-900 mb-4\">1. Order Cancellation (Before Dispatch/Fulfilment)</h3>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>1.1</strong> You may cancel an order from your account or by contacting support@aveoearth.com before dispatch (or before digital/service fulfilment). Approved cancellations receive a full refund.</p>\n              </div>\n            </section>\n\n            {/* Section 2 */}\n            <section className=\"mb-8\">\n              <h3 className=\"text-2xl font-semibold text-gray-900 mb-4\">2. Returns & Replacements (After Delivery)</h3>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>2.1</strong> Standard return window: 7 days from delivery for eligible items, unless the PDP states a different window.</p>\n                <p><strong>2.2</strong> Item must be unused, in original condition with tags/accessories/IMEI intact and in the original packaging.</p>\n                <p><strong>2.3</strong> After a successful quality check, you may choose refund to original source or replacement (subject to stock).</p>\n              </div>\n            </section>\n\n            {/* Section 3 */}\n            <section className=\"mb-8\">\n              <h3 className=\"text-2xl font-semibold text-gray-900 mb-4\">3. Non-returnable/Non-cancellable Items</h3>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>3.1</strong> Perishables; hygiene/consumables (opened); intimate or personal-care items; made-to-order/customised goods; \"final sale\" items; downloadable/digital products once delivered/activated; items damaged due to misuse; serial/IMEI-mismatched returns.</p>\n              </div>\n            </section>\n\n            {/* Section 4 */}\n            <section className=\"mb-8\">\n              <h3 className=\"text-2xl font-semibold text-gray-900 mb-4\">4. Damage/Shortage on Delivery</h3>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>4.1</strong> Report within 48 hours to support@aveoearth.com with photos/unboxing video (if available). We may arrange pickup/inspection and process replacement/refund as applicable.</p>\n              </div>\n            </section>\n\n            {/* Section 5 */}\n            <section className=\"mb-8\">\n              <h3 className=\"text-2xl font-semibold text-gray-900 mb-4\">5. Refund Method & Timelines</h3>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>5.1</strong> Refunds are issued to the original payment method only.</p>\n                <p><strong>5.2</strong> On approval, we initiate refunds within 48 hours. Bank/card/UPI credit typically reflects in 5–7 working days (subject to issuer/network).</p>\n                <p><strong>5.3</strong> For COD (if offered), refunds are made to a verified bank account/UPI you provide.</p>\n              </div>\n            </section>\n\n            {/* Section 6 */}\n            <section className=\"mb-8\">\n              <h3 className=\"text-2xl font-semibold text-gray-900 mb-4\">6. Return Logistics</h3>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>6.1</strong> We may offer pickup; if pickup isn't available, use a trackable courier and share proof. Postage for approved returns is reimbursed as per Seller/Platform rules.</p>\n              </div>\n            </section>\n\n            {/* Section 7 */}\n            <section className=\"mb-8\">\n              <h3 className=\"text-2xl font-semibold text-gray-900 mb-4\">7. Abuse & Fraud</h3>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>7.1</strong> Returns are monitored. Excessive/abusive returns, wardrobing or fraud may lead to account limitations or refusal of service as permitted by law.</p>\n              </div>\n            </section>\n\n            {/* Section 8 */}\n            <section className=\"mb-8\">\n              <h3 className=\"text-2xl font-semibold text-gray-900 mb-4\">8. Marketplace Clarification</h3>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>8.1</strong> AveoEarth facilitates returns between you and the Seller. Where a Seller policy provides better terms than ours, the better terms prevail for that item.</p>\n              </div>\n            </section>\n\n            {/* Contact & Grievance */}\n            <div className=\"mt-8 p-4 bg-blue-50 rounded-lg\">\n              <p className=\"text-gray-700\">\n                <strong>Contact & Grievance:</strong> support@aveoearth.com | Grievance Officer: Anand B, grievance@aveoearth.com\n              </p>\n            </div>\n\n            {/* Last Updated */}\n            <div className=\"mt-8 pt-6 border-t border-gray-200\">\n              <p className=\"text-center text-sm text-gray-500\">\n                Last updated: 11-09-2025\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer Note */}\n        <div className=\"mt-8 text-center\">\n          <p className=\"text-sm text-gray-600\">\n            If you have any questions about our policies, please contact us at{' '}\n            <a href=\"mailto:support@aveoearth.com\" className=\"text-[#1a4032] hover:underline\">\n              support@aveoearth.com\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":10880,"size_tokens":null},"src/app/api/newsletter/route.js":{"content":"export async function POST(request) {\n  try {\n    const { email } = await request.json();\n    if (!email || typeof email !== 'string') {\n      return new Response(JSON.stringify({ ok: false, error: 'Invalid email' }), { status: 400 });\n    }\n    // TODO: Integrate with backend or mailing service here\n    return new Response(JSON.stringify({ ok: true }), { status: 200 });\n  } catch (e) {\n    return new Response(JSON.stringify({ ok: false, error: 'Bad Request' }), { status: 400 });\n  }\n}\n\n\n","path":null,"size_bytes":493,"size_tokens":null},"src/app/category/page.jsx":{"content":"\"use client\";\n\nimport { useMemo, useState } from \"react\";\nimport Link from \"next/link\";\nimport { \n  Filter,\n  Star,\n  Heart,\n  ShoppingCart,\n  Leaf,\n  SlidersHorizontal,\n  Grid3X3,\n  LayoutList,\n  ChevronDown,\n  Search\n} from \"lucide-react\";\n\nconst formatPrice = (price) => `₹${price.toLocaleString('en-IN')}`;\n\nconst categories = {\n  all: 'Explore All Products',\n  'zerowaste': 'Zero Waste Essentials',\n  'fashion': 'Sustainable Fashion',\n  'upcycled': 'Upcycled & Repurposed',\n  'beauty': 'Conscious Beauty',\n  'green-tech': 'Green Technology'\n};\n\nconst mockProducts = [\n  { id: 1, name: \"Bamboo Kitchen Utensil Set\", price: 1299, originalPrice: 1899, image: \"https://placehold.co/300x200/e9d5ff/4c1d95?text=Bamboo\", rating: 4.8, reviews: 234, ecoScore: \"95%\", badges: [\"Zero Waste\", \"Renewable\"], category: \"zerowaste\" },\n  { id: 2, name: \"Organic Cotton Bedsheet Set\", price: 2999, originalPrice: 4499, image: \"https://placehold.co/300x200/99f6e4/042f2e?text=Cotton+Bedding\", rating: 4.9, reviews: 456, ecoScore: \"92%\", badges: [\"Organic\", \"Fair Trade\"], category: \"fashion\" },\n  { id: 3, name: \"Hemp Yoga Mat\", price: 2199, originalPrice: 2899, image: \"https://placehold.co/300x200/a7f3d0/065f46?text=Hemp+Mat\", rating: 4.7, reviews: 189, ecoScore: \"94%\", badges: [\"Natural\", \"Biodegradable\"], category: \"zerowaste\" },\n  { id: 4, name: \"Recycled PET Water Bottle\", price: 499, originalPrice: 799, image: \"https://placehold.co/300x200/bae6fd/0369a1?text=Recycled+Bottle\", rating: 4.6, reviews: 567, ecoScore: \"89%\", badges: [\"Recycled\", \"BPA Free\"], category: \"zerowaste\" },\n  { id: 5, name: \"Linen Trousers - Earth Dye\", price: 1899, originalPrice: 2499, image: \"https://placehold.co/300x200/fecaca/991b1b?text=Linen+Pants\", rating: 4.6, reviews: 567, ecoScore: \"89%\", badges: [\"Organic\", \"Fair Trade\"], category: \"fashion\" },\n  { id: 6, name: \"Natural Face Serum\", price: 1599, originalPrice: 2199, image: \"https://placehold.co/300x200/fce7f3/9d174d?text=Vegan+Serum\", rating: 4.9, reviews: 345, ecoScore: \"96%\", badges: [\"Cruelty-Free\", \"Vegan\"], category: \"beauty\" },\n  { id: 7, name: \"Organic Quinoa 1kg\", price: 649, originalPrice: 849, image: \"https://placehold.co/300x200/ffedd5/9a3412?text=Quinoa\", rating: 4.8, reviews: 123, ecoScore: \"93%\", badges: [\"Certified Organic\", \"Gluten-Free\"], category: \"zerowaste\" },\n  { id: 8, name: \"Upcycled Denim Tote Bag\", price: 999, originalPrice: 1499, image: \"https://placehold.co/300x200/bfdbfe/1e3a8a?text=Denim+Tote\", rating: 4.7, reviews: 112, ecoScore: \"90%\", badges: [\"Upcycled\", \"Handmade\"], category: \"upcycled\" },\n  { id: 9, name: \"Refillable Toothpaste Tablets\", price: 599, originalPrice: 799, image: \"https://placehold.co/300x200/ccfbf1/0f766e?text=Toothpaste\", rating: 4.8, reviews: 401, ecoScore: \"98%\", badges: [\"Zero Waste\", \"Plastic-Free\"], category: \"zerowaste\" },\n  { id: 10, name: \"Vintage Silk Scarf Dress\", price: 4500, originalPrice: 5500, image: \"https://placehold.co/300x200/fef3c7/a16207?text=Vintage+Dress\", rating: 4.9, reviews: 55, ecoScore: \"88%\", badges: [\"Upcycled\", \"Unique\"], category: \"upcycled\" },\n  { id: 11, name: \"Solid Shampoo Bar - Citrus\", price: 449, originalPrice: 699, image: \"https://placehold.co/300x200/f0f9ff/0c4a6e?text=Shampoo+Bar\", rating: 4.7, reviews: 290, ecoScore: \"97%\", badges: [\"Palm-Oil Free\", \"Vegan\"], category: \"beauty\" },\n  { id: 12, name: \"Modular Desk Lamp - Bamboo/LED\", price: 5999, originalPrice: 7500, image: \"https://placehold.co/300x200/f5d0fe/701a75?text=LED+Lamp\", rating: 4.4, reviews: 42, ecoScore: \"87%\", badges: [\"Low Energy\", \"Durable\"], category: \"green-tech\" },\n  { id: 13, name: \"Fair Trade Alpaca Sweater\", price: 6999, originalPrice: 9500, image: \"https://placehold.co/300x200/fefce8/78350f?text=Alpaca+Sweater\", rating: 4.5, reviews: 67, ecoScore: \"91%\", badges: [\"Ethical\", \"Natural Fiber\"], category: \"fashion\" },\n];\n\nfunction Badge({ children, className = \"\" }) {\n  return <span className={`inline-flex items-center px-2 py-0.5 font-semibold rounded-full text-xs bg-emerald-50 text-emerald-700 border border-emerald-200 ${className}`}>{children}</span>;\n}\n\nfunction Button({ children, className = \"\", ...props }) {\n  return (\n    <button {...props} className={`inline-flex items-center justify-center h-10 px-4 rounded-xl bg-emerald-700 text-white hover:bg-emerald-800 transition-colors ${className}`}>\n      {children}\n    </button>\n  );\n}\n\nfunction Card({ children, className = \"\" }) {\n  return <div className={`bg-white border border-gray-200 rounded-2xl shadow-sm ${className}`}>{children}</div>;\n}\n\nfunction ProductCard({ product, viewMode }) {\n  if (viewMode === 'list') {\n    return (\n      <Card className=\"p-4 flex flex-col md:flex-row items-center justify-between gap-4\">\n        <div className=\"flex items-center gap-4 w-full md:w-auto\">\n          <img src={product.image} alt={product.name} className=\"w-24 h-24 object-cover rounded-xl\" />\n          <div className=\"space-y-1\">\n            <h3 className=\"font-semibold text-neutral-800 text-lg\">{product.name}</h3>\n            <div className=\"flex items-center gap-2 text-sm\">\n              <Star className=\"w-4 h-4 text-yellow-500 fill-yellow-500\" />\n              <span className=\"font-medium\">{product.rating} ({product.reviews})</span>\n              <Badge>{product.ecoScore}</Badge>\n            </div>\n            <div className=\"flex gap-2 flex-wrap pt-1\">\n              {product.badges.map((b) => (\n                <Badge key={b}>{b}</Badge>\n              ))}\n            </div>\n          </div>\n        </div>\n        <div className=\"flex flex-col items-end min-w-[150px]\">\n          <span className=\"text-2xl font-bold text-emerald-700\">{formatPrice(product.price)}</span>\n          <span className=\"text-sm text-gray-500 line-through\">{formatPrice(product.originalPrice)}</span>\n          <Button className=\"mt-2\">\n            <ShoppingCart className=\"w-4 h-4 mr-2\" /> Cart\n          </Button>\n        </div>\n      </Card>\n    );\n  }\n  return (\n    <Card className=\"group overflow-hidden\">\n      <div className=\"relative h-48\">\n        <img src={product.image} alt={product.name} className=\"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105\" />\n        <button className=\"absolute top-3 right-3 p-2 rounded-full bg-black/30 text-white hover:bg-white hover:text-red-500\">\n          <Heart className=\"w-4 h-4\" />\n        </button>\n        <div className=\"absolute top-3 left-3\">\n          <Badge className=\"bg-emerald-700 text-white border-emerald-700\">{product.ecoScore}</Badge>\n        </div>\n      </div>\n      <div className=\"p-4 space-y-3\">\n        <div className=\"space-y-1\">\n          <h3 className=\"font-semibold text-neutral-800 text-lg\">{product.name}</h3>\n          <div className=\"flex items-center gap-2 text-sm\">\n            <Star className=\"w-4 h-4 text-yellow-500 fill-yellow-500\" />\n            <span className=\"font-medium\">{product.rating}</span>\n            <span className=\"text-gray-500\">({product.reviews})</span>\n          </div>\n          <div className=\"flex gap-2 flex-wrap\">\n            {product.badges.slice(0,2).map((b) => (\n              <Badge key={b}>{b}</Badge>\n            ))}\n          </div>\n        </div>\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-2xl font-bold text-emerald-700\">{formatPrice(product.price)}</span>\n            <span className=\"text-sm text-gray-500 line-through\">{formatPrice(product.originalPrice)}</span>\n          </div>\n          <div className=\"flex items-center gap-1 text-xs text-emerald-700\">\n            <Leaf className=\"w-3 h-3\" /> Eco\n          </div>\n        </div>\n        <Button className=\"w-full\">\n          <ShoppingCart className=\"w-4 h-4 mr-2\" /> Add to Cart\n        </Button>\n      </div>\n    </Card>\n  );\n}\n\nexport default function CategoryIndexPage() {\n  const [viewMode, setViewMode] = useState('grid');\n  const [sortBy, setSortBy] = useState('popularity');\n  const [currentCategory, setCurrentCategory] = useState('all');\n  const [searchTerm, setSearchTerm] = useState('');\n  const [isFilterOpen, setIsFilterOpen] = useState(false);\n  const [selectedBadges, setSelectedBadges] = useState([]);\n  const [selectedRating, setSelectedRating] = useState([]);\n\n  const categoryName = categories[currentCategory] || categories['all'];\n  const categoryTagline = currentCategory === 'all'\n    ? 'Curated for a greener planet, browse our full ethical collection.'\n    : 'Sustainable essentials for a better you and a healthier Earth.';\n\n  const sortOptions = [\n    { value: 'popularity', label: 'Most Popular' },\n    { value: 'price-low', label: 'Price: Low to High' },\n    { value: 'price-high', label: 'Price: High to Low' },\n    { value: 'rating', label: 'Highest Rated' },\n    { value: 'eco-score', label: 'Best Eco Score' }\n  ];\n\n  const filterOptions = {\n    badges: ['Zero Waste', 'Organic', 'Renewable', 'Fair Trade', 'Cruelty-Free', 'Vegan', 'Recycled', 'Gluten-Free', 'Upcycled', 'Handmade', 'Durable', 'Plastic-Free'],\n    rating: ['4+ Stars']\n  };\n\n  const finalProducts = useMemo(() => {\n    let products = mockProducts;\n    if (currentCategory !== 'all') {\n      products = products.filter(p => p.category === currentCategory);\n    }\n    if (searchTerm) {\n      const s = searchTerm.toLowerCase();\n      products = products.filter(p =>\n        p.name.toLowerCase().includes(s) ||\n        p.badges.some(b => b.toLowerCase().includes(s)) ||\n        p.category.toLowerCase().includes(s)\n      );\n    }\n    products = products.filter(p => {\n      const badgeOk = selectedBadges.length === 0 || selectedBadges.every(b => p.badges.includes(b));\n      const ratingOk = selectedRating.length === 0 || selectedRating.some(r => r === '4+ Stars' ? p.rating >= 4 : true);\n      return badgeOk && ratingOk;\n    });\n    return products.sort((a, b) => {\n      switch (sortBy) {\n        case 'price-low': return a.price - b.price;\n        case 'price-high': return b.price - a.price;\n        case 'rating': return b.rating - a.rating;\n        case 'eco-score': return parseInt(b.ecoScore) - parseInt(a.ecoScore);\n        case 'popularity':\n        default: return b.reviews - a.reviews;\n      }\n    });\n  }, [currentCategory, searchTerm, selectedBadges, selectedRating, sortBy]);\n\n  const handleBadgeChange = (badge) => {\n    setSelectedBadges(prev => prev.includes(badge) ? prev.filter(b => b !== badge) : [...prev, badge]);\n  };\n  const handleRatingChange = (rating) => {\n    setSelectedRating(prev => prev.includes(rating) ? prev.filter(r => r !== rating) : [...prev, rating]);\n  };\n  const clearAllFilters = () => {\n    setCurrentCategory('all');\n    setSelectedBadges([]);\n    setSelectedRating([]);\n    setSearchTerm('');\n  };\n\n  const FilterSidebar = ({ isMobile }) => (\n    <aside className={`w-full lg:w-80 space-y-6 p-6 lg:p-0 ${isMobile ? 'h-full overflow-y-auto' : 'hidden lg:block'}`}>\n      <div className=\"lg:sticky lg:top-4 space-y-6\">\n        <h3 className=\"font-extrabold text-2xl text-neutral-800 flex items-center justify-between\">\n          <span className='flex items-center gap-2'><SlidersHorizontal className=\"w-5 h-5 text-emerald-700\" /> Filter & Category</span>\n          <button onClick={clearAllFilters} className=\"text-sm text-red-500 hover:text-red-700\">Clear All</button>\n        </h3>\n        <Card className=\"p-4 space-y-1\">\n          <h4 className=\"font-bold text-base text-neutral-800 mb-2 flex items-center gap-2\">\n            <Filter className=\"w-4 h-4 text-emerald-700\" />\n            Product Categories\n          </h4>\n          <div className=\"space-y-1 max-h-60 overflow-y-auto\">\n            {Object.entries(categories).map(([slug, name]) => (\n              <button\n                key={slug}\n                onClick={() => setCurrentCategory(slug)}\n                className={`w-full text-left px-3 py-2 rounded-xl text-sm transition-colors ${currentCategory === slug ? 'bg-emerald-700 text-white' : 'text-neutral-700 hover:bg-neutral-100'}`}\n              >\n                {name}\n              </button>\n            ))}\n          </div>\n        </Card>\n        <Card className=\"p-4 space-y-2\">\n          <h4 className=\"font-bold text-base text-neutral-800 flex items-center gap-2\">\n            <Leaf className=\"w-4 h-4 text-emerald-700\" /> Eco Certifications\n          </h4>\n          <div className=\"space-y-2 max-h-48 overflow-y-auto\">\n            {filterOptions.badges.map((badge) => (\n              <label key={badge} className=\"flex items-center gap-3 cursor-pointer\">\n                <input type=\"checkbox\" className=\"w-4 h-4 accent-emerald-700 border-gray-300 rounded\" checked={selectedBadges.includes(badge)} onChange={() => handleBadgeChange(badge)} />\n                <span className=\"text-sm text-neutral-600\">{badge}</span>\n              </label>\n            ))}\n          </div>\n        </Card>\n        <Card className=\"p-4 space-y-2\">\n          <h4 className=\"font-bold text-base text-neutral-800 flex items-center gap-2\">\n            <Star className=\"w-4 h-4 text-yellow-500 fill-yellow-500\" /> Customer Rating\n          </h4>\n          <div className=\"space-y-2\">\n            {filterOptions.rating.map((rating) => (\n              <label key={rating} className=\"flex items-center gap-3 cursor-pointer\">\n                <input type=\"checkbox\" className=\"w-4 h-4 accent-emerald-700 border-gray-300 rounded\" checked={selectedRating.includes(rating)} onChange={() => handleRatingChange(rating)} />\n                <span className=\"text-sm text-neutral-600\">{rating}</span>\n              </label>\n            ))}\n          </div>\n        </Card>\n      </div>\n    </aside>\n  );\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6\">\n        <nav className=\"text-sm text-neutral-500\">\n          <Link href=\"/\" className=\"hover:text-emerald-700\">Home</Link>\n          <span className=\"mx-2\">/</span>\n          <span className=\"text-neutral-800 font-medium\">{categoryName}</span>\n        </nav>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-4\">\n        <div className=\"w-full min-h-[140px] rounded-2xl bg-gradient-to-r from-emerald-700 to-emerald-500 text-white flex items-center justify-center shadow\">\n          <div className=\"text-center p-6\">\n            <h1 className=\"text-4xl sm:text-5xl font-extrabold tracking-tight\">{categoryName}</h1>\n            <p className=\"text-lg sm:text-xl font-medium mt-1 opacity-90\">{categoryTagline}</p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-10\">\n        <div className=\"flex items-center justify-between p-3 my-6 bg-white rounded-xl border border-gray-200 shadow-sm\">\n          <div className=\"text-sm text-neutral-600\">\n            Showing <span className=\"font-semibold text-neutral-800\">{finalProducts.length}</span> products\n          </div>\n          <div className=\"text-xs text-neutral-500 hidden sm:block\">\n            {selectedBadges.length > 0 && (<span className=\"mr-3\">{selectedBadges.length} badge filter(s)</span>)}\n            {selectedRating.length > 0 && (<span>{selectedRating.length} rating filter(s)</span>)}\n          </div>\n        </div>\n\n        <div className=\"flex gap-8\">\n          <div className=\"hidden lg:block w-80 flex-shrink-0\">\n            <FilterSidebar isMobile={false} />\n          </div>\n\n          {isFilterOpen && (\n            <div className=\"fixed inset-0 z-50 bg-white lg:hidden\">\n              <div className=\"p-4 border-b flex justify-end\">\n                <button onClick={() => setIsFilterOpen(false)} className=\"px-3 py-1 rounded-lg text-neutral-700 hover:bg-neutral-100\">Close</button>\n              </div>\n              <FilterSidebar isMobile={true} />\n            </div>\n          )}\n\n          <main className=\"flex-1 space-y-8\">\n            <div className=\"flex flex-col md:flex-row items-stretch md:items-center justify-between gap-4 p-3 bg-white rounded-xl shadow-sm border border-gray-200\">\n              <div className=\"relative flex-grow\">\n                <Search className=\"w-4 h-4 text-neutral-400 absolute left-3 top-1/2 -translate-y-1/2\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search products, keywords, or badges...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-600 focus:border-transparent\"\n                />\n              </div>\n              <div className=\"flex items-center gap-4\">\n                <button onClick={() => setIsFilterOpen(true)} className=\"lg:hidden border border-gray-300 rounded-xl px-3 py-2 text-sm\">\n                  <span className=\"inline-flex items-center\"><Filter className=\"w-4 h-4 mr-2\" /> Filters</span>\n                </button>\n                <div className=\"relative\">\n                  <select value={sortBy} onChange={(e) => setSortBy(e.target.value)} className=\"appearance-none text-sm border border-gray-300 rounded-xl pl-3 pr-8 py-2 bg-white text-neutral-800 focus:ring-2 focus:ring-emerald-600\">\n                    {sortOptions.map(o => (<option key={o.value} value={o.value}>{o.label}</option>))}\n                  </select>\n                  <ChevronDown className=\"w-4 h-4 absolute right-2 top-1/2 -translate-y-1/2 text-neutral-500 pointer-events-none\" />\n                </div>\n                <div className=\"flex border border-gray-300 rounded-xl bg-white\">\n                  <button onClick={() => setViewMode('grid')} className={`px-3 py-2 rounded-l-xl ${viewMode === 'grid' ? 'bg-emerald-700 text-white' : 'text-neutral-600'}`}><Grid3X3 className=\"w-4 h-4\" /></button>\n                  <div className=\"w-px bg-gray-300\" />\n                  <button onClick={() => setViewMode('list')} className={`px-3 py-2 rounded-r-xl ${viewMode === 'list' ? 'bg-emerald-700 text-white' : 'text-neutral-600'}`}><LayoutList className=\"w-4 h-4\" /></button>\n                </div>\n              </div>\n            </div>\n\n            <div className={`grid gap-6 ${viewMode === 'grid' ? 'grid-cols-1 sm:grid-cols-2 xl:grid-cols-3' : 'grid-cols-1'}`}>\n              {finalProducts.map((p) => (\n                <div key={p.id}><ProductCard product={p} viewMode={viewMode} /></div>\n              ))}\n              {finalProducts.length === 0 && (\n                <div className=\"col-span-full text-center py-16 border-2 border-dashed border-gray-300 rounded-xl bg-white\">\n                  <Leaf className=\"w-10 h-10 mx-auto text-emerald-600 mb-4\" />\n                  <p className=\"text-xl font-medium text-neutral-800\">No products found!</p>\n                  <p className=\"text-neutral-500\">Try adjusting your filters, category, or search term.</p>\n                </div>\n              )}\n            </div>\n\n            {finalProducts.length > 0 && (\n              <div className=\"text-center pt-2\">\n                <button className=\"border border-gray-300 rounded-xl px-4 py-2 text-sm hover:bg-neutral-50\">Load More Products</button>\n              </div>\n            )}\n          </main>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":19249,"size_tokens":null},"src/components/vendor/products/ProductsHeader.jsx":{"content":"import { useState } from 'react';\nimport AddProductModal from './AddProductModal';\n\nexport default function ProductsHeader({ onProductAdded }) {\n  const [isAddModalOpen, setIsAddModalOpen] = useState(false);\n\n  const handleProductAdded = (product) => {\n    console.log('Product added:', product);\n    if (onProductAdded) {\n      onProductAdded(product);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"mb-8 sm:mb-12 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-0\">\n        <div>\n          <h1 className=\"text-[20px] sm:text-[24px] font-poppins font-medium text-black tracking-[0.3px] mb-2 sm:mb-4\">\n            Products\n          </h1>\n          <p className=\"text-[16px] sm:text-[20px] font-poppins text-[#757575] tracking-[0.3px]\">\n            Welcome back! here's your business overview\n          </p>\n        </div>\n        <button\n          onClick={() => setIsAddModalOpen(true)}\n          className=\"bg-[#1a4032] hover:bg-[#2d5a42] text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg font-semibold transition-colors flex items-center gap-2 w-full sm:w-auto justify-center\"\n        >\n          <svg width=\"16\" height=\"16\" className=\"sm:w-5 sm:h-5\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M12 5v14m-7-7h14\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n          </svg>\n          Add Product\n        </button>\n      </div>\n\n      <AddProductModal\n        isOpen={isAddModalOpen}\n        onClose={() => setIsAddModalOpen(false)}\n        onProductAdded={handleProductAdded}\n      />\n    </>\n  );\n}\n","path":null,"size_bytes":1627,"size_tokens":null},"src/components/explore/ExploreHeader.jsx":{"content":"\"use client\";\n\nconst FilterIcon = () => (\n  <svg width=\"20\" height=\"17\" viewBox=\"0 0 20 17\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path \n      d=\"M2 4.5H18M2 4.5C2 3.11929 3.11929 2 4.5 2C5.88071 2 7 3.11929 7 4.5M2 4.5C2 5.88071 3.11929 7 4.5 7C5.88071 7 7 5.88071 7 4.5M18 4.5C18 3.11929 16.8807 2 15.5 2C14.1193 2 13 3.11929 13 4.5M18 4.5C18 5.88071 16.8807 7 15.5 7C14.1193 7 13 5.88071 13 4.5M7 4.5H13M2 12.5H18M2 12.5C2 11.1193 3.11929 10 4.5 10C5.88071 10 7 11.1193 7 12.5M2 12.5C2 13.8807 3.11929 15 4.5 15C5.88071 15 7 13.8807 7 12.5M18 12.5C18 11.1193 16.8807 10 15.5 10C14.1193 10 13 11.1193 13 12.5M18 12.5C18 13.8807 16.8807 15 15.5 15C14.1193 15 13 13.8807 13 12.5M7 12.5H13\"\n      stroke=\"white\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n);\n\nconst ChevronDownIcon = () => (\n  <svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path \n      d=\"M3.5 5.25L7 8.75L10.5 5.25\" \n      stroke=\"#4d4d4d\" \n      strokeWidth=\"2\" \n      strokeLinecap=\"round\" \n      strokeLinejoin=\"round\"\n    />\n  </svg>\n);\n\nexport default function ExploreHeader({ sortBy, onSortChange, onToggleFilters, resultsCount }) {\n  const sortOptions = [\n    { value: \"latest\", label: \"Latest\" },\n    { value: \"price_low_high\", label: \"Price: Low to High\" },\n    { value: \"price_high_low\", label: \"Price: High to Low\" },\n    { value: \"rating\", label: \"Highest Rated\" },\n    { value: \"popular\", label: \"Most Popular\" }\n  ];\n\n  return (\n    <div className=\"border-b border-gray-200 px-4 py-3 mx-4 my-4\"> {/* Reduced padding */}\n      <div className=\"flex flex-col gap-3 lg:flex-row lg:items-center lg:justify-between\"> {/* Reduced gap */}\n        \n        {/* Filter Button - Mobile and Tablet */}\n        <div className=\"flex items-center gap-4\">\n          <button\n            onClick={onToggleFilters}\n            className=\"lg:hidden bg-[#272727] hover:bg-[#1a1a1a] text-white px-6 py-2.5 rounded-full font-poppins font-semibold text-[14px] flex items-center gap-2 transition-colors\"\n          >\n            <span>Filter</span>\n            <FilterIcon />\n          </button>\n\n          {/* Desktop Filter Button */}\n          <button\n            onClick={onToggleFilters}\n            className=\"hidden lg:flex bg-[#272727] hover:bg-[#1a1a1a] text-white px-8 py-3.5 rounded-full font-poppins font-semibold text-[14px] items-center gap-3 transition-colors\"\n          >\n            <span>Filter</span>\n            <FilterIcon />\n          </button>\n        </div>\n\n        {/* Sort By Dropdown */}\n        <div className=\"flex items-center gap-2\">\n          <span className=\"font-poppins text-[14px] text-gray-600\">Sort by:</span>\n          <div className=\"relative\">\n            <select\n              value={sortBy}\n              onChange={(e) => onSortChange(e.target.value)}\n              className=\"appearance-none border border-[#272727] rounded px-4 py-2.5 pr-10 font-poppins text-[14px] text-[#4d4d4d] bg-white focus:outline-none focus:ring-2 focus:ring-[#1a4032] cursor-pointer min-w-[140px]\"\n            >\n              {sortOptions.map((option) => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n            </select>\n            <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none\">\n              <ChevronDownIcon />\n            </div>\n          </div>\n        </div>\n\n        {/* Results Count */}\n        <div className=\"text-right\">\n          <span className=\"font-poppins text-[16px]\">\n            <span className=\"font-semibold text-[#1a1a1a]\">{resultsCount}</span>\n            <span className=\"text-[#1a1a1a]\"> </span>\n            <span className=\"text-[#666666]\">Results Found</span>\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":3890,"size_tokens":null},"src/services/addressService.js":{"content":"// Address service for managing user addresses\nimport { auth, tokens } from '../lib/api';\n\nclass AddressService {\n  constructor() {\n    this.cache = new Map();\n    this.cacheTime = 5 * 60 * 1000; // 5 minutes\n  }\n\n  // Get authentication token\n  getToken() {\n    const userTokens = tokens.get();\n    return userTokens?.access_token;\n  }\n\n  // Cache management\n  isCacheValid(key) {\n    const cached = this.cache.get(key);\n    return cached && (Date.now() - cached.timestamp) < this.cacheTime;\n  }\n\n  setCache(key, data) {\n    this.cache.set(key, {\n      data,\n      timestamp: Date.now()\n    });\n  }\n\n  getCache(key) {\n    const cached = this.cache.get(key);\n    return this.isCacheValid(key) ? cached.data : null;\n  }\n\n  clearCache() {\n    this.cache.clear();\n  }\n\n  // Get all user addresses\n  async getAddresses() {\n    try {\n      const cacheKey = 'user_addresses';\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const response = await auth.getAddresses(token);\n      // Ensure response is an array\n      const addresses = Array.isArray(response) ? response : (response?.addresses || []);\n      this.setCache(cacheKey, addresses);\n      return addresses;\n    } catch (error) {\n      console.error('Error fetching addresses:', error);\n      throw error;\n    }\n  }\n\n  // Create a new address\n  async createAddress(addressData) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const response = await auth.createAddress(addressData, token);\n      this.clearCache(); // Clear cache after creating\n      return response;\n    } catch (error) {\n      console.error('Error creating address:', error);\n      throw error;\n    }\n  }\n\n  // Update an existing address\n  async updateAddress(addressId, addressData) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const response = await auth.updateAddress(addressId, addressData, token);\n      this.clearCache(); // Clear cache after updating\n      return response;\n    } catch (error) {\n      console.error('Error updating address:', error);\n      throw error;\n    }\n  }\n\n  // Delete an address\n  async deleteAddress(addressId) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const response = await auth.deleteAddress(addressId, token);\n      this.clearCache(); // Clear cache after deleting\n      return response;\n    } catch (error) {\n      console.error('Error deleting address:', error);\n      throw error;\n    }\n  }\n\n  // Set an address as default\n  async setDefaultAddress(addressId) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const response = await auth.setDefaultAddress(addressId, token);\n      this.clearCache(); // Clear cache after setting default\n      return response;\n    } catch (error) {\n      console.error('Error setting default address:', error);\n      throw error;\n    }\n  }\n\n  // Get default address by type\n  async getDefaultAddress(addressType) {\n    try {\n      const cacheKey = `default_address_${addressType}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const response = await auth.getDefaultAddress(addressType, token);\n      this.setCache(cacheKey, response);\n      return response;\n    } catch (error) {\n      // If no default address found, return null instead of throwing\n      if (error.status === 404) {\n        return null;\n      }\n      console.error('Error fetching default address:', error);\n      throw error;\n    }\n  }\n\n  // Get addresses by type (shipping/billing/home/work/other)\n  async getAddressesByType(addressType = null) {\n    try {\n      const addresses = await this.getAddresses();\n      \n      if (!addressType) return addresses;\n      \n      return addresses.filter(address => address.type === addressType);\n    } catch (error) {\n      console.error('Error fetching addresses by type:', error);\n      throw error;\n    }\n  }\n\n  // Validate address data before sending to API\n  validateAddressData(addressData) {\n    const errors = {};\n\n    if (!addressData.first_name?.trim()) {\n      errors.first_name = 'First name is required';\n    }\n\n    if (!addressData.last_name?.trim()) {\n      errors.last_name = 'Last name is required';\n    }\n\n    if (!addressData.address_line_1?.trim()) {\n      errors.address_line_1 = 'Address line 1 is required';\n    }\n\n    if (!addressData.city?.trim()) {\n      errors.city = 'City is required';\n    }\n\n    if (!addressData.state?.trim()) {\n      errors.state = 'State is required';\n    }\n\n    if (!addressData.postal_code?.trim()) {\n      errors.postal_code = 'Postal code is required';\n    }\n\n    if (!addressData.country?.trim()) {\n      errors.country = 'Country is required';\n    }\n\n    if (!addressData.type) {\n      errors.type = 'Address type is required';\n    }\n\n    if (addressData.phone && addressData.phone.length < 10) {\n      errors.phone = 'Phone number must be at least 10 digits';\n    }\n\n    return {\n      isValid: Object.keys(errors).length === 0,\n      errors\n    };\n  }\n\n  // Format address for display\n  formatAddress(address) {\n    if (!address) return '';\n    \n    const parts = [];\n    \n    if (address.first_name && address.last_name) {\n      parts.push(`${address.first_name} ${address.last_name}`);\n    }\n    \n    if (address.company) {\n      parts.push(address.company);\n    }\n    \n    parts.push(address.address_line_1);\n    \n    if (address.address_line_2) {\n      parts.push(address.address_line_2);\n    }\n    \n    const cityStateParts = [];\n    if (address.city) cityStateParts.push(address.city);\n    if (address.state) cityStateParts.push(address.state);\n    if (address.postal_code) cityStateParts.push(address.postal_code);\n    \n    if (cityStateParts.length > 0) {\n      parts.push(cityStateParts.join(', '));\n    }\n    \n    if (address.country && address.country !== 'India') {\n      parts.push(address.country);\n    }\n    \n    return parts.join('\\n');\n  }\n\n  // Get address type options\n  getAddressTypeOptions() {\n    return [\n      { value: 'home', label: 'Home' },\n      { value: 'work', label: 'Work' },\n      { value: 'billing', label: 'Billing' },\n      { value: 'shipping', label: 'Shipping' },\n      { value: 'other', label: 'Other' }\n    ];\n  }\n}\n\nexport const addressService = new AddressService();\nexport default addressService;\n","path":null,"size_bytes":6668,"size_tokens":null},"src/components/vendor/orders/OrderRow.jsx":{"content":"import { useState } from 'react';\nimport supplierOrdersService from '../../../services/supplierOrdersService';\n\nexport default function OrderRow({ order, onStatusUpdate }) {\n  const [isUpdating, setIsUpdating] = useState(false);\n  const [showDetails, setShowDetails] = useState(false);\n  const [orderDetails, setOrderDetails] = useState(null);\n\n  const handleStatusChange = async (newStatus) => {\n    if (isUpdating) return;\n\n    try {\n      setIsUpdating(true);\n      \n      // Map frontend status values to API expected values\n      const statusMapping = {\n        'pending': 'pending',\n        'confirmed': 'processing', // Map confirmed to processing\n        'processing': 'processing',\n        'shipped': 'shipped',\n        'delivered': 'delivered',\n        'cancelled': 'cancelled'\n      };\n      \n      const apiStatus = statusMapping[newStatus] || 'pending';\n      \n      await supplierOrdersService.updateOrderFulfillment(order.originalOrder.id, {\n        fulfillment_status: apiStatus\n      });\n\n      // Notify parent component of status update\n      if (onStatusUpdate) {\n        onStatusUpdate(order.originalOrder.id, newStatus);\n      }\n\n      // Update local order status\n      order.status = newStatus;\n    } catch (error) {\n      console.error('Failed to update order status:', error);\n      alert('Failed to update order status. Please try again.');\n    } finally {\n      setIsUpdating(false);\n    }\n  };\n\n  const handleViewDetails = async () => {\n    if (showDetails) {\n      setShowDetails(false);\n      return;\n    }\n\n    try {\n      const details = await supplierOrdersService.getOrderItem(order.originalOrder.id);\n      setOrderDetails(details);\n      setShowDetails(true);\n    } catch (error) {\n      console.error('Failed to fetch order details:', error);\n      alert('Failed to load order details. Please try again.');\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status?.toLowerCase()) {\n      case 'fulfilled':\n      case 'delivered':\n        return 'bg-green-100 text-green-800';\n      case 'processing':\n        return 'bg-blue-100 text-blue-800';\n      case 'shipped':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'cancelled':\n        return 'bg-red-100 text-red-800';\n      case 'pending':\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  return (\n    <>\n      <div className=\"bg-white rounded-[14px] border-[0.7px] border-[#989898] p-3 sm:p-4 mb-3 sm:mb-4\">\n        {/* Mobile Layout - Stacked */}\n        <div className=\"block sm:hidden space-y-3\">\n          <div className=\"flex justify-between items-start\">\n            <div className=\"flex-1\">\n              <div className=\"font-reem font-medium text-[14px] text-black mb-1\">{order.id}</div>\n              <div className=\"font-poppins font-medium text-[13px] text-black\">{order.product}</div>\n              <div className=\"font-poppins font-medium text-[11px] text-[#8b8b8b]\">{order.market}</div>\n            </div>\n            <div className=\"text-right\">\n              <div className=\"font-poppins font-medium text-[13px] text-black mb-1\">₹{order.total.replace('$$', '')}</div>\n              <div className=\"font-poppins font-medium text-[11px] text-black\">{order.date}</div>\n            </div>\n          </div>\n\n          <div className=\"flex justify-between items-center\">\n            <div className=\"font-poppins font-medium text-[11px] text-black\">{order.items}</div>\n            <div className=\"flex items-center gap-2\">\n              <select\n                value={order.status}\n                onChange={(e) => handleStatusChange(e.target.value)}\n                disabled={isUpdating}\n                className={`px-2 py-1 rounded text-xs font-medium border-0 ${getStatusColor(order.status)} ${isUpdating ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}`}\n              >\n                <option value=\"pending\">Pending</option>\n                <option value=\"processing\">Processing</option>\n                <option value=\"shipped\">Shipped</option>\n                <option value=\"delivered\">Delivered</option>\n                <option value=\"cancelled\">Cancelled</option>\n              </select>\n              <button\n                onClick={handleViewDetails}\n                className=\"bg-[#fcfdfd] border-[0.6px] border-[#818181] rounded-[4px] px-2 py-1 hover:bg-gray-50 transition-colors\"\n              >\n                <span className=\"font-reem text-[11px] text-[#969696]\">\n                  {showDetails ? 'Hide' : 'View'}\n                </span>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Desktop Layout - Grid */}\n        <div className=\"hidden sm:flex items-center\">\n          {/* Order ID */}\n          <div className=\"w-[120px] text-center\">\n            <span className=\"font-reem font-medium text-[14px] text-black\">{order.id}</span>\n          </div>\n\n          {/* Product Info */}\n          <div className=\"w-[180px] text-center\">\n            <div className=\"flex flex-col items-center\">\n              <span className=\"font-poppins font-medium text-[14px] text-black\">{order.product}</span>\n              <span className=\"font-poppins font-medium text-[12px] text-[#8b8b8b]\">{order.market}</span>\n            </div>\n          </div>\n\n          {/* Items */}\n          <div className=\"w-[120px] text-center\">\n            <span className=\"font-poppins font-medium text-[12px] text-black\">{order.items}</span>\n          </div>\n\n          {/* Total */}\n          <div className=\"w-[120px] text-center\">\n            <span className=\"font-poppins font-medium text-[12px] text-black\">₹{order.total.replace('$$', '')}</span>\n          </div>\n\n          {/* Date */}\n          <div className=\"w-[120px] text-center\">\n            <span className=\"font-poppins font-medium text-[12px] text-black\">{order.date}</span>\n          </div>\n\n          {/* Status */}\n          <div className=\"w-[120px] text-center\">\n            <select\n              value={order.status}\n              onChange={(e) => handleStatusChange(e.target.value)}\n              disabled={isUpdating}\n              className={`px-2 py-1 rounded text-xs font-medium border-0 ${getStatusColor(order.status)} ${isUpdating ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}`}\n            >\n              <option value=\"pending\">Pending</option>\n              <option value=\"processing\">Processing</option>\n              <option value=\"shipped\">Shipped</option>\n              <option value=\"delivered\">Delivered</option>\n              <option value=\"cancelled\">Cancelled</option>\n            </select>\n          </div>\n\n          {/* Action */}\n          <div className=\"w-[120px] text-center\">\n            <button\n              onClick={handleViewDetails}\n              className=\"bg-[#fcfdfd] border-[0.6px] border-[#818181] rounded-[4px] px-3 py-1 hover:bg-gray-50 transition-colors\"\n            >\n              <span className=\"font-reem text-[12px] text-[#969696]\">\n                {showDetails ? 'Hide Details' : 'View Details'}\n              </span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Order Details */}\n      {showDetails && orderDetails && (\n        <div className=\"bg-gray-50 rounded-[14px] border border-[#c6c6c6] p-4 sm:p-6 mb-3 sm:mb-4 ml-0 sm:ml-8\">\n          <h4 className=\"font-inter font-semibold text-[14px] sm:text-[16px] text-black mb-3 sm:mb-4\">Order Details</h4>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 text-sm\">\n            <div>\n              <span className=\"font-medium text-gray-600\">Customer:</span>\n              <span className=\"ml-2 text-gray-900\">\n                {orderDetails.order?.shipping_address?.first_name && orderDetails.order?.shipping_address?.last_name\n                  ? `${orderDetails.order.shipping_address.first_name} ${orderDetails.order.shipping_address.last_name}`\n                  : orderDetails.order?.billing_address?.first_name && orderDetails.order?.billing_address?.last_name\n                  ? `${orderDetails.order.billing_address.first_name} ${orderDetails.order.billing_address.last_name}`\n                  : 'N/A'}\n              </span>\n            </div>\n            <div>\n              <span className=\"font-medium text-gray-600\">Email:</span>\n              <span className=\"ml-2 text-gray-900\">\n                {orderDetails.order?.shipping_address?.email || orderDetails.order?.billing_address?.email || 'N/A'}\n              </span>\n            </div>\n            <div>\n              <span className=\"font-medium text-gray-600\">Phone:</span>\n              <span className=\"ml-2 text-gray-900\">\n                {orderDetails.order?.shipping_address?.phone || orderDetails.order?.billing_address?.phone || 'N/A'}\n              </span>\n            </div>\n            <div>\n              <span className=\"font-medium text-gray-600\">Address:</span>\n              <span className=\"ml-2 text-gray-900\">\n                {orderDetails.order?.shipping_address\n                  ? `${orderDetails.order.shipping_address.address_line_1 || ''}${orderDetails.order.shipping_address.address_line_2 ? ', ' + orderDetails.order.shipping_address.address_line_2 : ''}, ${orderDetails.order.shipping_address.city || ''}, ${orderDetails.order.shipping_address.state || ''} ${orderDetails.order.shipping_address.postal_code || ''}`\n                  : 'N/A'}\n              </span>\n            </div>\n            <div className=\"col-span-1 sm:col-span-2\">\n              <span className=\"font-medium text-gray-600\">Notes:</span>\n              <span className=\"ml-2 text-gray-900\">\n                {orderDetails.order?.customer_notes || 'No notes'}\n              </span>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n","path":null,"size_bytes":9743,"size_tokens":null},"src/app/admin/dashboard/page.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport AdminSidebar from \"@/components/admin/AdminSidebar\";\nimport AdminTopbar from \"@/components/admin/AdminTopbar\";\nimport DashboardScreen from \"@/components/admin/screens/DashboardScreen\";\nimport SuppliersScreen from \"@/components/admin/screens/SuppliersScreen\";\nimport ProductsScreen from \"@/components/admin/screens/ProductsScreen\";\nimport OrdersScreen from \"@/components/admin/screens/OrdersScreen\";\nimport UsersScreen from \"@/components/admin/screens/UsersScreen\";\nimport AnalyticsScreen from \"@/components/admin/screens/AnalyticsScreen\";\nimport SettingsScreen from \"@/components/admin/screens/SettingsScreen\";\n\nexport default function AdminDashboard() {\n  const [activeScreen, setActiveScreen] = useState(\"dashboard\");\n  const [isLoading, setIsLoading] = useState(true);\n  const { user, loading } = useAuth();\n\n  useEffect(() => {\n    if (!loading) {\n      if (!user || user.user_role !== \"admin\") {\n        window.location.href = \"/admin/login\";\n      } else {\n        setIsLoading(false);\n      }\n    }\n  }, [user, loading]);\n\n  const renderScreen = () => {\n    switch (activeScreen) {\n      case \"dashboard\":\n        return <DashboardScreen />;\n      case \"analytics\":\n        return <AnalyticsScreen />;\n      case \"users\":\n        return <UsersScreen />;\n      case \"suppliers\":\n        return <SuppliersScreen />;\n      case \"products\":\n        return <ProductsScreen />;\n      case \"orders\":\n        return <OrdersScreen />;\n      case \"settings\":\n        return <SettingsScreen />;\n      default:\n        return <DashboardScreen />;\n    }\n  };\n\n  if (loading || isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading admin dashboard...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Sidebar */}\n      <AdminSidebar \n        activeScreen={activeScreen} \n        onScreenChange={setActiveScreen} \n      />\n      \n      {/* Main Content */}\n      <div className=\"ml-60\">\n        {/* Top Bar */}\n        <AdminTopbar user={user} />\n        \n        {/* Page Content */}\n        <main className=\"p-6\">\n          {renderScreen()}\n        </main>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":2504,"size_tokens":null},"src/components/admin/screens/SuppliersScreen.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { \n  MagnifyingGlassIcon,\n  EyeIcon,\n  CheckIcon,\n  XMarkIcon,\n  DocumentTextIcon,\n  BuildingOfficeIcon\n} from \"@heroicons/react/24/outline\";\nimport adminService from \"@/services/adminService\";\n\nexport default function SuppliersScreen() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [verificationFilter, setVerificationFilter] = useState(\"all\");\n  \n  // Data state\n  const [suppliers, setSuppliers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 20,\n    total: 0,\n    total_pages: 0\n  });\n\n  // Modal state\n  const [selectedSupplier, setSelectedSupplier] = useState(null);\n  const [showDocumentsModal, setShowDocumentsModal] = useState(false);\n  const [supplierDocuments, setSupplierDocuments] = useState([]);\n  const [documentsLoading, setDocumentsLoading] = useState(false);\n  \n  // Review state\n  const [showReviewModal, setShowReviewModal] = useState(false);\n  const [reviewAction, setReviewAction] = useState(null); // 'approve' or 'reject'\n  const [reviewComment, setReviewComment] = useState(\"\");\n  const [isSubmittingReview, setIsSubmittingReview] = useState(false);\n\n  useEffect(() => {\n    fetchSuppliers();\n  }, [pagination.page, verificationFilter]);\n\n  const fetchSuppliers = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const result = await adminService.getAllSuppliers({\n        page: pagination.page,\n        limit: pagination.limit,\n        verification_status: verificationFilter === 'all' ? undefined : verificationFilter\n      });\n      \n      setSuppliers(result.items || []);\n      setPagination(prev => ({\n        ...prev,\n        total: result.total || 0,\n        total_pages: result.total_pages || 0\n      }));\n      \n    } catch (error) {\n      console.error('Failed to fetch suppliers:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchSupplierDocuments = async (supplierId) => {\n    try {\n      setDocumentsLoading(true);\n      const documents = await adminService.getSupplierDocuments(supplierId);\n      setSupplierDocuments(documents || []);\n    } catch (error) {\n      console.error('Failed to fetch supplier documents:', error);\n      setSupplierDocuments([]);\n    } finally {\n      setDocumentsLoading(false);\n    }\n  };\n\n  const openDocumentsModal = async (supplier) => {\n    setSelectedSupplier(supplier);\n    setShowDocumentsModal(true);\n    await fetchSupplierDocuments(supplier.supplier_id);\n  };\n\n  const openReviewModal = (supplier, action) => {\n    setSelectedSupplier(supplier);\n    setReviewAction(action);\n    setReviewComment(\"\");\n    setShowReviewModal(true);\n  };\n\n  const closeReviewModal = () => {\n    setSelectedSupplier(null);\n    setReviewAction(null);\n    setReviewComment(\"\");\n    setShowReviewModal(false);\n  };\n\n  const handleSupplierReview = async () => {\n    if (!selectedSupplier || !reviewAction) return;\n\n    try {\n      setIsSubmittingReview(true);\n      \n      await adminService.reviewSupplierVerification(\n        selectedSupplier.supplier_id,\n        reviewAction,\n        reviewComment\n      );\n\n      // Refresh suppliers list\n      await fetchSuppliers();\n      \n      // Close modal\n      closeReviewModal();\n      \n      // Show success message\n      alert(`Supplier ${reviewAction === 'approve' ? 'approved' : 'rejected'} successfully!`);\n      \n    } catch (error) {\n      console.error('Failed to review supplier:', error);\n      alert('Failed to review supplier: ' + error.message);\n    } finally {\n      setIsSubmittingReview(false);\n    }\n  };\n\n  const handleApproveSupplier = async (supplierId) => {\n    try {\n      setIsLoading(true);\n      \n      await adminService.updateSupplierStatus(supplierId, true);\n      \n      // Refresh suppliers list\n      await fetchSuppliers();\n      \n      // Close modal\n      setShowDocumentsModal(false);\n      setSelectedSupplier(null);\n      setSupplierDocuments([]);\n      \n      alert('Supplier approved successfully!');\n      \n    } catch (error) {\n      console.error('Failed to approve supplier:', error);\n      alert('Failed to approve supplier: ' + error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleRejectSupplier = async (supplierId) => {\n    try {\n      setIsLoading(true);\n      \n      await adminService.updateSupplierStatus(supplierId, false);\n      \n      // Refresh suppliers list\n      await fetchSuppliers();\n      \n      // Close modal\n      setShowDocumentsModal(false);\n      setSelectedSupplier(null);\n      setSupplierDocuments([]);\n      \n      alert('Supplier rejected successfully!');\n      \n    } catch (error) {\n      console.error('Failed to reject supplier:', error);\n      alert('Failed to reject supplier: ' + error.message);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const getVerificationStatus = (supplier) => {\n    // This would depend on your backend verification logic\n    const hasDocuments = supplier.documents?.length > 0;\n    const isVerified = supplier.is_verified || supplier.verification_status === 'verified';\n    \n    if (isVerified) {\n      return { color: 'bg-green-100 text-green-800', text: 'Verified' };\n    } else if (hasDocuments) {\n      return { color: 'bg-yellow-100 text-yellow-800', text: 'Pending Review' };\n    } else {\n      return { color: 'bg-red-100 text-red-800', text: 'Documents Missing' };\n    }\n  };\n\n  const filteredSuppliers = suppliers.filter(supplier => {\n    const matchesSearch = supplier.business_name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         (supplier.supplier_email || supplier.email)?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         (supplier.contact_person || \n                          `${supplier.supplier_first_name || ''} ${supplier.supplier_last_name || ''}`.trim())?.toLowerCase().includes(searchTerm.toLowerCase());\n    return matchesSearch;\n  });\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <h1 className=\"text-2xl font-semibold text-black\">Suppliers Management</h1>\n        <div className=\"animate-pulse\">\n          <div className=\"bg-gray-200 h-12 rounded-lg mb-4\"></div>\n          <div className=\"space-y-4\">\n            {[1, 2, 3, 4, 5].map(i => (\n              <div key={i} className=\"bg-gray-200 h-16 rounded-lg\"></div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"space-y-6\">\n        <h1 className=\"text-2xl font-semibold text-black\">Suppliers Management</h1>\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <p className=\"text-red-600\">Failed to load suppliers: {error}</p>\n          <button \n            onClick={fetchSuppliers}\n            className=\"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Page Header */}\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-2xl font-semibold text-black\">Suppliers Management</h1>\n        <button \n          onClick={fetchSuppliers}\n          className=\"bg-[#1a4032] hover:bg-[#0f2319] text-white px-4 py-2 rounded-lg transition-colors\"\n        >\n          Refresh\n        </button>\n      </div>\n\n      {/* Search and Filters */}\n      <div className=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n        <div className=\"flex gap-4\">\n          <div className=\"flex-1\">\n            <div className=\"relative\">\n              <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search suppliers by business name, email, or contact person...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4032] focus:border-transparent\"\n              />\n            </div>\n          </div>\n          <select\n            value={verificationFilter}\n            onChange={(e) => setVerificationFilter(e.target.value)}\n            className=\"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4032] focus:border-transparent\"\n          >\n            <option value=\"all\">All Verification Status</option>\n            <option value=\"verified\">Verified</option>\n            <option value=\"pending\">Pending Review</option>\n            <option value=\"rejected\">Rejected</option>\n            <option value=\"suspended\">Suspended</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Suppliers Table */}\n      <div className=\"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Business\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Contact Info\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Registration Date\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Verification Status\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {filteredSuppliers.length === 0 ? (\n                <tr>\n                  <td colSpan={5} className=\"px-6 py-12 text-center text-gray-500\">\n                    No suppliers found\n                  </td>\n                </tr>\n              ) : (\n                filteredSuppliers.map((supplier) => {\n                  const verification = getVerificationStatus(supplier);\n                  return (\n                    <tr key={supplier.id} className=\"hover:bg-gray-50\">\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center\">\n                          <div className=\"flex-shrink-0 h-12 w-12\">\n                            {supplier.logo_url ? (\n                              <img \n                                className=\"h-12 w-12 rounded-lg object-cover\" \n                                src={supplier.logo_url} \n                                alt={supplier.business_name} \n                              />\n                            ) : (\n                              <div className=\"h-12 w-12 bg-gray-200 rounded-lg flex items-center justify-center\">\n                                <BuildingOfficeIcon className=\"h-6 w-6 text-gray-400\" />\n                              </div>\n                            )}\n                          </div>\n                          <div className=\"ml-4\">\n                            <div className=\"text-sm font-medium text-gray-900\">\n                              {supplier.business_name || 'Business Name Not Set'}\n                            </div>\n                            <div className=\"text-sm text-gray-500\">\n                              ID: {supplier.id}\n                            </div>\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm text-gray-900\">\n                          {supplier.supplier_email || supplier.email}\n                        </div>\n                        <div className=\"text-sm text-gray-500\">\n                          {supplier.supplier_phone || supplier.phone || 'No phone'}\n                        </div>\n                        <div className=\"text-sm text-gray-500\">\n                          {supplier.supplier_first_name || supplier.supplier_last_name \n                            ? `${supplier.supplier_first_name || ''} ${supplier.supplier_last_name || ''}`.trim()\n                            : supplier.contact_person || 'No contact person'}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm text-gray-900\">\n                          {supplier.created_at ? new Date(supplier.created_at).toLocaleDateString() : 'Unknown'}\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className={`inline-flex px-2 py-1 text-xs font-medium rounded-full ${verification.color}`}>\n                          {verification.text}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                        <div className=\"flex items-center space-x-2\">\n                          <button\n                            onClick={() => openDocumentsModal(supplier)}\n                            className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\n                            title=\"View Documents\"\n                          >\n                            <DocumentTextIcon className=\"h-4 w-4\" />\n                          </button>\n                          \n                          {/* Approval actions - only show for pending suppliers */}\n                          {supplier.verification_status !== 'verified' && (\n                            <button\n                              onClick={() => openReviewModal(supplier, 'approve')}\n                              className=\"text-green-600 hover:text-green-900 p-1 rounded\"\n                              title=\"Approve Supplier\"\n                            >\n                              <CheckIcon className=\"h-4 w-4\" />\n                            </button>\n                          )}\n                          \n                          {supplier.verification_status !== 'rejected' && (\n                            <button\n                              onClick={() => openReviewModal(supplier, 'reject')}\n                              className=\"text-red-600 hover:text-red-900 p-1 rounded\"\n                              title=\"Reject Supplier\"\n                            >\n                              <XMarkIcon className=\"h-4 w-4\" />\n                            </button>\n                          )}\n                          \n                          <button\n                            onClick={() => openDocumentsModal(supplier)}\n                            className=\"text-gray-600 hover:text-gray-900 p-1 rounded\"\n                            title=\"View Details\"\n                          >\n                            <EyeIcon className=\"h-4 w-4\" />\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  );\n                })\n              )}\n            </tbody>\n          </table>\n        </div>\n\n        {/* Pagination */}\n        {pagination.total_pages > 1 && (\n          <div className=\"px-6 py-4 border-t border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"text-sm text-gray-700\">\n                Showing {((pagination.page - 1) * pagination.limit) + 1} to{' '}\n                {Math.min(pagination.page * pagination.limit, pagination.total)} of{' '}\n                {pagination.total} results\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={() => setPagination(prev => ({ ...prev, page: prev.page - 1 }))}\n                  disabled={pagination.page === 1}\n                  className=\"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\n                >\n                  Previous\n                </button>\n                <span className=\"px-3 py-1 text-sm\">\n                  Page {pagination.page} of {pagination.total_pages}\n                </span>\n                <button\n                  onClick={() => setPagination(prev => ({ ...prev, page: prev.page + 1 }))}\n                  disabled={pagination.page === pagination.total_pages}\n                  className=\"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\n                >\n                  Next\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Documents Modal */}\n      {showDocumentsModal && selectedSupplier && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n              Supplier Details: {selectedSupplier.business_name || selectedSupplier.email}\n            </h3>\n            \n            {/* Supplier Info */}\n            <div className=\"mb-6 p-4 bg-gray-50 rounded-lg\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <h4 className=\"font-medium text-gray-900 mb-2\">Business Information</h4>\n                  <p className=\"text-sm text-gray-600\">Business Name: {selectedSupplier.business_name || 'Not provided'}</p>\n                  <p className=\"text-sm text-gray-600\">Email: {selectedSupplier.supplier_email || selectedSupplier.email || 'Not provided'}</p>\n                  <p className=\"text-sm text-gray-600\">Phone: {selectedSupplier.supplier_phone || selectedSupplier.phone || 'Not provided'}</p>\n                  <p className=\"text-sm text-gray-600\">Contact Person: {selectedSupplier.supplier_first_name || selectedSupplier.supplier_last_name \n                    ? `${selectedSupplier.supplier_first_name || ''} ${selectedSupplier.supplier_last_name || ''}`.trim()\n                    : selectedSupplier.contact_person || 'Not provided'}</p>\n                </div>\n                <div>\n                  <h4 className=\"font-medium text-gray-900 mb-2\">Registration Details</h4>\n                  <p className=\"text-sm text-gray-600\">\n                    Registration Date: {selectedSupplier.created_at ? new Date(selectedSupplier.created_at).toLocaleDateString() : 'Unknown'}\n                  </p>\n                  <p className=\"text-sm text-gray-600\">\n                    Verification Status: {getVerificationStatus(selectedSupplier).text}\n                  </p>\n                  <p className=\"text-sm text-gray-600\">\n                    User Type: {selectedSupplier.user_type || 'supplier'}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Documents Section */}\n            <div className=\"mb-6\">\n              <h4 className=\"font-medium text-gray-900 mb-4\">Verification Documents</h4>\n              \n              {documentsLoading ? (\n                <div className=\"text-center py-8\">\n                  <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1a4032] mx-auto\"></div>\n                  <p className=\"text-sm text-gray-500 mt-2\">Loading documents...</p>\n                </div>\n              ) : supplierDocuments.length === 0 ? (\n                <div className=\"text-center py-8 text-gray-500\">\n                  <DocumentTextIcon className=\"h-12 w-12 mx-auto mb-2 text-gray-400\" />\n                  <p>No documents uploaded yet</p>\n                </div>\n              ) : (\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                  {supplierDocuments.map((document) => (\n                    <div key={document.id} className=\"border border-gray-200 rounded-lg p-4\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <h5 className=\"font-medium text-gray-900\">{document.document_name || document.document_type}</h5>\n                        <span className={`px-2 py-1 text-xs rounded-full ${\n                          document.document_status === 'verified' \n                            ? 'bg-green-100 text-green-800'\n                            : document.document_status === 'rejected'\n                            ? 'bg-red-100 text-red-800'\n                            : 'bg-yellow-100 text-yellow-800'\n                        }`}>\n                          {document.document_status || 'pending'}\n                        </span>\n                      </div>\n                      <p className=\"text-sm text-gray-600 mb-3\">Type: {document.document_type}</p>\n                      {document.file_url && (\n                        <a \n                          href={document.file_url}\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"inline-flex items-center text-blue-600 hover:text-blue-800 text-sm underline\"\n                        >\n                          <DocumentTextIcon className=\"h-4 w-4 mr-1\" />\n                          View Document\n                        </a>\n                      )}\n                      <div className=\"mt-3 text-xs text-gray-500\">\n                        <p>Size: {document.file_size ? `${Math.round(document.file_size / 1024)} KB` : 'Unknown'}</p>\n                        <p>Uploaded: {document.created_at ? new Date(document.created_at).toLocaleDateString() : 'Unknown'}</p>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            <div className=\"flex justify-end space-x-3 pt-4 border-t border-gray-200\">\n              <button\n                onClick={() => {\n                  setShowDocumentsModal(false);\n                  setSelectedSupplier(null);\n                  setSupplierDocuments([]);\n                }}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\"\n              >\n                Close\n              </button>\n              {selectedSupplier.verification_status !== 'verified' && (\n                <>\n                  <button\n                    onClick={() => handleApproveSupplier(selectedSupplier.supplier_id)}\n                    disabled={isLoading}\n                    className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed\"\n                  >\n                    {isLoading ? 'Processing...' : 'Verify Supplier'}\n                  </button>\n                  <button\n                    onClick={() => handleRejectSupplier(selectedSupplier.supplier_id)}\n                    disabled={isLoading}\n                    className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed\"\n                  >\n                    {isLoading ? 'Processing...' : 'Reject Application'}\n                  </button>\n                </>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":23934,"size_tokens":null},"src/components/dashboard/OrderDetails.jsx":{"content":"\"use client\";\n\n// Back arrow icon\nconst ArrowLeftIcon = () => (\n  <svg width=\"19.2\" height=\"19.2\" viewBox=\"0 0 19.2 19.2\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path \n      d=\"M4.209 4.412L15.583 15.175\" \n      stroke=\"#858c94\" \n      strokeWidth=\"1.6\" \n      strokeLinecap=\"round\" \n      strokeLinejoin=\"round\"\n      transform=\"rotate(180 9.6 9.6)\"\n    />\n  </svg>\n);\n\n// Progress tracker icons\nconst CheckIcon = () => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n    <path d=\"M4 10L8 14L16 6\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport default function OrderDetails({ orderData, onBack }) {\n  // Sample data - replace with actual order data\n  const defaultOrderData = {\n    orderId: \"#4152\",\n    orderDate: \"21 October, 2025\",\n    productCount: 3,\n    paymentMethod: \"Paypal\",\n    status: \"processing\", // \"received\", \"processing\", \"onway\", \"delivered\"\n    billingAddress: {\n      name: \"Ravi Garg\",\n      address: \"4140 Punjab Rd. Janak Puri , New Delhi 110034\",\n      email: \"ravi@gmail.com\",\n      phone: \"+91-9565845845\"\n    },\n    shippingAddress: {\n      name: \"Ravina Garg\", \n      address: \"4140 Punjab Rd. Janak Puri , New Delhi 110034\",\n      email: \"ravina@gmail.com\",\n      phone: \"+91-9565845845\"\n    },\n    products: [\n      {\n        id: 1,\n        name: \"Wood Spoon\",\n        image: \"/spoons.png\",\n        price: 100,\n        quantity: 5,\n        subtotal: 500\n      },\n      {\n        id: 2,\n        name: \"Wood Spoon\",\n        image: \"/spoons.png\", \n        price: 100,\n        quantity: 2,\n        subtotal: 200\n      },\n      {\n        id: 3,\n        name: \"Wood Spoon\",\n        image: \"/spoons.png\",\n        price: 100,\n        quantity: 10,\n        subtotal: 1000\n      }\n    ],\n    pricing: {\n      subtotal: 170,\n      discount: \"20%\",\n      shipping: \"Free\",\n      total: 170\n    },\n    changeDeadline: \"21 October, 2025\"\n  };\n\n  const order = orderData || defaultOrderData;\n\n  const progressSteps = [\n    { key: \"received\", label: \"Order received\", completed: true },\n    { key: \"processing\", label: \"Processing\", completed: order.status === \"processing\" || order.status === \"onway\" || order.status === \"delivered\" },\n    { key: \"onway\", label: \"On the way\", completed: order.status === \"onway\" || order.status === \"delivered\" },\n    { key: \"delivered\", label: \"Delivered\", completed: order.status === \"delivered\" }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-[#e1e4e3] relative\">\n      {/* Main Content */}\n      <div className=\"px-4 sm:px-6 lg:px-16 xl:px-[62px] pb-8\">\n        {/* Go Back Button */}\n        <div className=\"mb-4 pt-4\">\n          <button \n            onClick={onBack}\n            className=\"bg-white border border-[#b8b8b8] rounded-[4.8px] px-[25.6px] py-[12px] flex items-center gap-[25.6px] hover:bg-gray-50 transition-colors\"\n          >\n            <ArrowLeftIcon />\n            <span className=\"font-poppins font-medium text-[#484848] text-[14.4px]\">Go back</span>\n          </button>\n        </div>\n\n        {/* Order Details Container */}\n        <div className=\"bg-white rounded-[8px] border border-[#e6e6e6] max-w-[984px] mx-auto\">\n          {/* Header */}\n          <div className=\"flex items-center justify-between px-6 py-4 border-b border-[#e6e6e6] rounded-t-[8px]\">\n            <div className=\"flex items-center gap-2 text-nowrap\">\n              <h1 className=\"font-poppins font-medium text-[#1a1a1a] text-[20px] leading-[1.5]\">\n                Order Details\n              </h1>\n              <span className=\"font-poppins font-regular text-[#4d4d4d] text-[14px]\">•</span>\n              <span className=\"font-poppins font-regular text-[#4d4d4d] text-[14px]\">\n                {order.orderDate}\n              </span>\n              <span className=\"font-poppins font-regular text-[#4d4d4d] text-[14px]\">•</span>\n              <span className=\"font-poppins font-regular text-[#4d4d4d] text-[14px]\">\n                {order.productCount} Products\n              </span>\n            </div>\n            \n            <div className=\"flex items-center gap-4\">\n              <span className=\"font-poppins font-regular text-[#4d4d4d] text-[14px]\">\n                till {order.changeDeadline}\n              </span>\n              <button className=\"bg-[#7e7e7e] hover:bg-[#6e6e6e] text-white font-poppins font-semibold text-[11.2px] px-7 py-[11.2px] rounded-[43px] transition-colors\">\n                Make Changes to Your Order\n              </button>\n            </div>\n          </div>\n\n          {/* Content */}\n          <div className=\"p-6\">\n            {/* Billing & Shipping Section */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\n              {/* Left Side - Addresses */}\n              <div className=\"bg-white border border-[#e6e6e6] rounded-[6px] p-6\">\n                <div className=\"grid grid-cols-2 gap-6\">\n                  {/* Billing Address */}\n                  <div>\n                    <h3 className=\"font-poppins font-medium text-[#999999] text-[14px] uppercase tracking-[0.42px] mb-6\">\n                      Billing Address\n                    </h3>\n                    <div className=\"space-y-4\">\n                      <p className=\"font-poppins font-regular text-[#1a1a1a] text-[16px] leading-[1.5]\">\n                        {order.billingAddress.name}\n                      </p>\n                      <p className=\"font-poppins font-regular text-[#666666] text-[14px] leading-[1.5]\">\n                        {order.billingAddress.address}\n                      </p>\n                      <div>\n                        <p className=\"font-poppins font-medium text-[#999999] text-[12px] uppercase tracking-[0.36px] mb-1\">\n                          Email\n                        </p>\n                        <p className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                          {order.billingAddress.email}\n                        </p>\n                      </div>\n                      <div>\n                        <p className=\"font-poppins font-medium text-[#999999] text-[12px] uppercase tracking-[0.36px] mb-1\">\n                          Phone\n                        </p>\n                        <p className=\"font-poppins font-regular text-[#1a1a1a] text-[16px] leading-[1.5]\">\n                          {order.billingAddress.phone}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Shipping Address */}\n                  <div className=\"border-l border-[#e6e6e6] pl-6\">\n                    <h3 className=\"font-poppins font-medium text-[#999999] text-[14px] uppercase tracking-[0.42px] mb-6\">\n                      Shipping Address\n                    </h3>\n                    <div className=\"space-y-4\">\n                      <p className=\"font-poppins font-regular text-[#1a1a1a] text-[16px] leading-[1.5]\">\n                        {order.shippingAddress.name}\n                      </p>\n                      <p className=\"font-poppins font-regular text-[#666666] text-[14px] leading-[1.5]\">\n                        {order.shippingAddress.address}\n                      </p>\n                      <div>\n                        <p className=\"font-poppins font-medium text-[#999999] text-[12px] uppercase tracking-[0.36px] mb-1\">\n                          Email\n                        </p>\n                        <p className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                          {order.shippingAddress.email}\n                        </p>\n                      </div>\n                      <div>\n                        <p className=\"font-poppins font-medium text-[#999999] text-[12px] uppercase tracking-[0.36px] mb-1\">\n                          Phone\n                        </p>\n                        <p className=\"font-poppins font-regular text-[#1a1a1a] text-[16px] leading-[1.5]\">\n                          {order.shippingAddress.phone}\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Right Side - Order Info */}\n              <div className=\"bg-white border border-[#e6e6e6] rounded-[6px]\">\n                {/* Order ID & Payment */}\n                <div className=\"flex items-center gap-5 px-5 py-[18px]\">\n                  <div>\n                    <p className=\"font-poppins font-medium text-[#999999] text-[12px] uppercase tracking-[0.36px] mb-1.5\">\n                      Order ID:\n                    </p>\n                    <p className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5] w-20\">\n                      {order.orderId}\n                    </p>\n                  </div>\n                  <div className=\"w-px h-10 bg-[#e6e6e6]\"></div>\n                  <div>\n                    <p className=\"font-poppins font-medium text-[#999999] text-[12px] uppercase tracking-[0.36px] mb-1.5\">\n                      Payment Method:\n                    </p>\n                    <p className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5] w-32\">\n                      {order.paymentMethod}\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"h-px bg-[#e6e6e6]\"></div>\n\n                {/* Pricing */}\n                <div className=\"px-5 py-[18px] space-y-1\">\n                  <div className=\"flex justify-between items-center pb-3\">\n                    <span className=\"font-poppins font-regular text-[#666666] text-[14px] leading-[1.5]\">\n                      Subtotal:\n                    </span>\n                    <span className=\"font-poppins font-medium text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                      ₹{order.pricing.subtotal}\n                    </span>\n                  </div>\n                  <div className=\"h-px bg-[#e6e6e6]\"></div>\n                  \n                  <div className=\"flex justify-between items-center py-3\">\n                    <span className=\"font-poppins font-regular text-[#666666] text-[14px] leading-[1.5]\">\n                      Discount\n                    </span>\n                    <span className=\"font-poppins font-medium text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                      {order.pricing.discount}\n                    </span>\n                  </div>\n                  <div className=\"h-px bg-[#e6e6e6]\"></div>\n                  \n                  <div className=\"flex justify-between items-center py-3\">\n                    <span className=\"font-poppins font-regular text-[#666666] text-[14px] leading-[1.5]\">\n                      Shipping\n                    </span>\n                    <span className=\"font-poppins font-medium text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                      {order.pricing.shipping}\n                    </span>\n                  </div>\n                  <div className=\"h-px bg-[#e6e6e6]\"></div>\n                  \n                  <div className=\"flex justify-between items-center pt-3\">\n                    <span className=\"font-poppins font-regular text-[#1a1a1a] text-[18px] leading-[1.5]\">\n                      Total\n                    </span>\n                    <span className=\"font-poppins font-semibold text-[#7e7e7e] text-[18px] leading-[1.5]\">\n                      ₹{order.pricing.total}\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Progress Tracker */}\n            <div className=\"mb-8\">\n              <div className=\"relative\">\n                {/* Progress Line */}\n                <div className=\"absolute top-5 left-5 right-5 h-1 bg-[#e6e6e6] rounded-full\">\n                  <div \n                    className=\"h-full bg-[#4CAF50] rounded-full transition-all duration-300\"\n                    style={{ \n                      width: `${(progressSteps.filter(step => step.completed).length - 1) * 33.33}%` \n                    }}\n                  ></div>\n                </div>\n\n                {/* Progress Steps */}\n                <div className=\"flex justify-between items-center relative z-10\">\n                  {progressSteps.map((step, index) => (\n                    <div key={step.key} className=\"flex flex-col items-center\">\n                      <div className={`w-10 h-10 rounded-full flex items-center justify-center text-center transition-colors ${\n                        step.completed \n                          ? 'bg-[#4CAF50] text-white' \n                          : 'bg-white border-2 border-[#666666] text-[#666666]'\n                      }`}>\n                        {step.completed && index === 0 ? (\n                          <CheckIcon />\n                        ) : (\n                          <span className=\"font-poppins font-medium text-[14px]\">\n                            {String(index + 1).padStart(2, '0')}\n                          </span>\n                        )}\n                      </div>\n                      <p className={`font-poppins text-[14px] text-center mt-4 ${\n                        step.completed ? 'font-medium text-[#333333]' : 'font-regular text-[#666666]'\n                      }`}>\n                        {step.label}\n                      </p>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n\n            {/* Products Section */}\n            <div>\n              {/* Products Header */}\n              <div className=\"bg-[#f2f2f2] h-9 flex items-center px-5 mb-4\">\n                <div className=\"grid grid-cols-12 gap-4 w-full\">\n                  <div className=\"col-span-5\">\n                    <span className=\"font-poppins font-medium text-[#4d4d4d] text-[12px] uppercase tracking-[0.36px]\">\n                      Product\n                    </span>\n                  </div>\n                  <div className=\"col-span-2 text-center\">\n                    <span className=\"font-poppins font-medium text-[#4d4d4d] text-[12px] uppercase tracking-[0.36px]\">\n                      Price\n                    </span>\n                  </div>\n                  <div className=\"col-span-3 text-center\">\n                    <span className=\"font-poppins font-medium text-[#4d4d4d] text-[12px] uppercase tracking-[0.36px]\">\n                      Quantity\n                    </span>\n                  </div>\n                  <div className=\"col-span-2 text-center\">\n                    <span className=\"font-poppins font-medium text-[#4d4d4d] text-[12px] uppercase tracking-[0.36px]\">\n                      Subtotal\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              {/* Product List */}\n              <div className=\"space-y-4\">\n                {order.products.map((product, index) => (\n                  <div key={product.id}>\n                    <div className=\"grid grid-cols-12 gap-4 items-center px-5 py-4\">\n                      <div className=\"col-span-5 flex items-center gap-3\">\n                        <div \n                          className=\"w-[70px] h-[70px] bg-center bg-cover bg-no-repeat rounded\"\n                          style={{ backgroundImage: `url('${product.image}')` }}\n                        />\n                        <span className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                          {product.name}\n                        </span>\n                      </div>\n                      <div className=\"col-span-2 text-center\">\n                        <span className=\"font-poppins font-medium text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                          ₹{product.price}\n                        </span>\n                      </div>\n                      <div className=\"col-span-3 text-center\">\n                        <span className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                          x{product.quantity}\n                        </span>\n                      </div>\n                      <div className=\"col-span-2 text-center\">\n                        <span className=\"font-poppins font-medium text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                          ₹{product.subtotal}\n                        </span>\n                      </div>\n                    </div>\n                    {index < order.products.length - 1 && (\n                      <div className=\"h-px bg-[#e6e6e6] mx-5\"></div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":16720,"size_tokens":null},"src/lib/productsService.js":{"content":"import api, { uploadRequest } from './api';\n\nclass ProductsService {\n  constructor() {\n    this.cache = new Map();\n    this.cacheTimeout = 5 * 60 * 1000; // 5 minutes\n  }\n\n  // Cache management\n  setCache(key, data) {\n    this.cache.set(key, {\n      data,\n      timestamp: Date.now()\n    });\n  }\n\n  getCache(key) {\n    const cached = this.cache.get(key);\n    if (cached && (Date.now() - cached.timestamp) < this.cacheTimeout) {\n      return cached.data;\n    }\n    this.cache.delete(key);\n    return null;\n  }\n\n  // Get categories for products\n  async getCategories() {\n    try {\n      const cacheKey = 'categories';\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const response = await api.productsBuyer.getCategoriesTree();\n      \n      // FastAPI returns data directly, not wrapped in { data: [...] }\n      const categories = Array.isArray(response) ? response : (response.data || []);\n      \n      this.setCache(cacheKey, categories);\n      return categories;\n    } catch (error) {\n      console.error('Error fetching categories:', error);\n      return [];\n    }\n  }\n\n  // Get brands for products\n  async getBrands() {\n    try {\n      const cacheKey = 'brands';\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const response = await api.productsBuyer.getActiveBrands();\n      \n      // FastAPI returns data directly, not wrapped in { data: [...] }\n      const brands = Array.isArray(response) ? response : (response.data || []);\n      \n      this.setCache(cacheKey, brands);\n      return brands;\n    } catch (error) {\n      console.error('Error fetching brands:', error);\n      return [];\n    }\n  }\n\n  // Upload product image\n  async uploadProductImage(file) {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('type', 'product_image');\n\n      const response = await uploadRequest('/files/upload', { formData });\n      return response.data;\n    } catch (error) {\n      console.error('Error uploading product image:', error);\n      throw error;\n    }\n  }\n\n  // Upload inventory document\n  async uploadInventoryDocument(file) {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('type', 'inventory_document');\n\n      const response = await uploadRequest('/files/upload', { formData });\n      return response.data;\n    } catch (error) {\n      console.error('Error uploading inventory document:', error);\n      throw error;\n    }\n  }\n\n  // Upload sustainability certificate\n  async uploadSustainabilityCertificate(file) {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('type', 'sustainability_certificate');\n\n      const response = await uploadRequest('/files/upload', { formData });\n      return response.data;\n    } catch (error) {\n      console.error('Error uploading sustainability certificate:', error);\n      throw error;\n    }\n  }\n\n  // Create product (for suppliers)\n  async createProduct(productData) {\n    try {\n      const response = await api.productsSupplier.createProduct(productData);\n      \n      // Clear relevant caches\n      this.clearProductCaches();\n      \n      return response;\n    } catch (error) {\n      console.error('Error creating product:', error);\n      throw error;\n    }\n  }\n\n  // Update product\n  async updateProduct(productId, productData) {\n    try {\n      const response = await api.productsSupplier.updateProduct(productId, productData);\n      \n      // Clear relevant caches\n      this.clearProductCaches();\n      \n      return response;\n    } catch (error) {\n      console.error('Error updating product:', error);\n      throw error;\n    }\n  }\n\n  // Get supplier products\n  async getSupplierProducts(page = 1, limit = 10) {\n    try {\n      const cacheKey = `supplier_products_${page}_${limit}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const response = await api.productsSupplier.getProducts({ page, limit });\n      \n      this.setCache(cacheKey, response);\n      return response;\n    } catch (error) {\n      console.error('Error fetching supplier products:', error);\n      throw error;\n    }\n  }\n\n  // Get buyer products (marketplace)\n  async getBuyerProducts(filters = {}) {\n    try {\n      const queryParams = new URLSearchParams(filters).toString();\n      const cacheKey = `buyer_products_${queryParams}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const response = await api.productsBuyer.getProducts(filters);\n      \n      this.setCache(cacheKey, response);\n      return response;\n    } catch (error) {\n      console.error('Error fetching buyer products:', error);\n      throw error;\n    }\n  }\n\n  // Get single product details\n  async getProduct(productSlug) {\n    try {\n      const cacheKey = `product_${productSlug}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const response = await api.productsBuyer.getProduct(productSlug);\n      \n      this.setCache(cacheKey, response);\n      return response;\n    } catch (error) {\n      console.error('Error fetching product:', error);\n      throw error;\n    }\n  }\n\n  // Clear product-related caches\n  clearProductCaches() {\n    const keysToDelete = [];\n    for (const key of this.cache.keys()) {\n      if (key.includes('products') || key.includes('product_')) {\n        keysToDelete.push(key);\n      }\n    }\n    keysToDelete.forEach(key => this.cache.delete(key));\n  }\n\n  // Clear all caches\n  clearCache() {\n    this.cache.clear();\n  }\n}\n\n// Create and export singleton instance\nexport const productsService = new ProductsService();\n","path":null,"size_bytes":5703,"size_tokens":null},"src/components/vendor/products/EditProductModal.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport productsService from '../../../services/productsService';\nimport supplierAnalyticsService from '../../../services/supplierAnalyticsService';\n\nexport default function EditProductModal({ isOpen, onClose, productId, onProductUpdated }) {\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [product, setProduct] = useState(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    short_description: '',\n    price: '',\n    category_id: '',\n    brand_id: '',\n    sku: '',\n    weight: '',\n    dimensions: '',\n    status: 'draft'\n  });\n  const [inventory, setInventory] = useState({\n    quantity: 0,\n    low_stock_threshold: 5,\n    location: ''\n  });\n  const [images, setImages] = useState([]);\n  const [newImages, setNewImages] = useState([]);\n  const [variants, setVariants] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [brands, setBrands] = useState([]);\n\n  // Fetch product data when modal opens\n  useEffect(() => {\n    if (isOpen && productId) {\n      fetchProductData();\n      fetchCategories();\n      fetchBrands();\n    }\n  }, [isOpen, productId]);\n\n  const fetchProductData = async () => {\n    setLoading(true);\n    try {\n      const [productData, inventoryData] = await Promise.all([\n        productsService.getSupplierProduct(productId),\n        supplierAnalyticsService.getProductInventory(productId).catch(() => null)\n      ]);\n\n      setProduct(productData);\n      setFormData({\n        name: productData.name || '',\n        description: productData.description || '',\n        short_description: productData.short_description || '',\n        price: productData.price || '',\n        category_id: productData.category_id || '',\n        brand_id: productData.brand_id || '',\n        sku: productData.sku || '',\n        weight: productData.weight || '',\n        dimensions: productData.dimensions || '',\n        status: productData.status || 'draft'\n      });\n\n      setImages(productData.images || []);\n      setVariants(productData.variants || []);\n\n      if (inventoryData) {\n        const inv = Array.isArray(inventoryData) ? inventoryData[0] : inventoryData;\n        setInventory({\n          quantity: inv?.available_quantity || inv?.quantity || 0,\n          low_stock_threshold: inv?.low_stock_threshold || 5,\n          location: inv?.location || ''\n        });\n      }\n    } catch (error) {\n      console.error('Failed to fetch product data:', error);\n      alert('Failed to load product data');\n      onClose();\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchCategories = async () => {\n    try {\n      const response = await fetch(`${process.env.NEXT_PUBLIC_API_BASE || 'http://localhost:8000'}/categories`);\n      if (response.ok) {\n        const data = await response.json();\n        setCategories(data.items || []);\n      }\n    } catch (error) {\n      console.error('Failed to fetch categories:', error);\n    }\n  };\n\n  const fetchBrands = async () => {\n    try {\n      const response = await fetch(`${process.env.NEXT_PUBLIC_API_BASE || 'http://localhost:8000'}/brands`);\n      if (response.ok) {\n        const data = await response.json();\n        setBrands(data.items || []);\n      }\n    } catch (error) {\n      console.error('Failed to fetch brands:', error);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleInventoryChange = (e) => {\n    const { name, value } = e.target;\n    setInventory(prev => ({ ...prev, [name]: value }));\n  };\n\n  const handleImageUpload = (e) => {\n    const files = Array.from(e.target.files);\n    setNewImages(prev => [...prev, ...files]);\n  };\n\n  const handleRemoveExistingImage = async (imageId) => {\n    if (!confirm('Are you sure you want to delete this image?')) return;\n    \n    try {\n      await productsService.deleteProductImage(productId, imageId);\n      setImages(prev => prev.filter(img => img.id !== imageId));\n    } catch (error) {\n      console.error('Failed to delete image:', error);\n      alert('Failed to delete image');\n    }\n  };\n\n  const handleRemoveNewImage = (index) => {\n    setNewImages(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setSaving(true);\n\n    try {\n      // Update product basic info\n      await productsService.updateProduct(productId, formData);\n\n      // Update inventory\n      if (inventory.quantity !== undefined) {\n        await supplierAnalyticsService.updateProductInventory(productId, inventory);\n      }\n\n      // Upload new images\n      if (newImages.length > 0) {\n        const imageFormData = new FormData();\n        newImages.forEach((file, index) => {\n          imageFormData.append('images', file);\n        });\n        await productsService.uploadProductImages(productId, imageFormData);\n      }\n\n      onProductUpdated();\n      onClose();\n    } catch (error) {\n      console.error('Failed to update product:', error);\n      alert('Failed to update product: ' + error.message);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto\">\n        <div className=\"p-6 border-b border-gray-200 flex justify-between items-center\">\n          <h2 className=\"text-xl font-semibold\">Edit Product</h2>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n        </div>\n\n        {loading ? (\n          <div className=\"p-8 text-center\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600 mx-auto\"></div>\n            <p className=\"mt-2 text-gray-600\">Loading product data...</p>\n          </div>\n        ) : (\n          <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n            {/* Basic Information */}\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Product Name *\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"name\"\n                  value={formData.name}\n                  onChange={handleInputChange}\n                  className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  SKU\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"sku\"\n                  value={formData.sku}\n                  onChange={handleInputChange}\n                  className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Price *\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  name=\"price\"\n                  value={formData.price}\n                  onChange={handleInputChange}\n                  className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Category\n                </label>\n                <select\n                  name=\"category_id\"\n                  value={formData.category_id}\n                  onChange={handleInputChange}\n                  className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                >\n                  <option value=\"\">Select Category</option>\n                  {categories.map(cat => (\n                    <option key={cat.id} value={cat.id}>{cat.name}</option>\n                  ))}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Brand\n                </label>\n                <select\n                  name=\"brand_id\"\n                  value={formData.brand_id}\n                  onChange={handleInputChange}\n                  className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                >\n                  <option value=\"\">Select Brand</option>\n                  {brands.map(brand => (\n                    <option key={brand.id} value={brand.id}>{brand.name}</option>\n                  ))}\n                </select>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Status\n                </label>\n                <select\n                  name=\"status\"\n                  value={formData.status}\n                  onChange={handleInputChange}\n                  className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                >\n                  <option value=\"draft\">Draft</option>\n                  <option value=\"active\">Active</option>\n                  <option value=\"inactive\">Inactive</option>\n                </select>\n              </div>\n            </div>\n\n            {/* Descriptions */}\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Short Description\n                </label>\n                <textarea\n                  name=\"short_description\"\n                  value={formData.short_description}\n                  onChange={handleInputChange}\n                  rows={2}\n                  className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Description\n                </label>\n                <textarea\n                  name=\"description\"\n                  value={formData.description}\n                  onChange={handleInputChange}\n                  rows={4}\n                  className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                />\n              </div>\n            </div>\n\n            {/* Inventory */}\n            <div className=\"border-t pt-6\">\n              <h3 className=\"text-lg font-medium mb-4\">Inventory</h3>\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Quantity\n                  </label>\n                  <input\n                    type=\"number\"\n                    name=\"quantity\"\n                    value={inventory.quantity}\n                    onChange={handleInventoryChange}\n                    className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Low Stock Threshold\n                  </label>\n                  <input\n                    type=\"number\"\n                    name=\"low_stock_threshold\"\n                    value={inventory.low_stock_threshold}\n                    onChange={handleInventoryChange}\n                    className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Location\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"location\"\n                    value={inventory.location}\n                    onChange={handleInventoryChange}\n                    placeholder=\"e.g., Warehouse A\"\n                    className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Images */}\n            <div className=\"border-t pt-6\">\n              <h3 className=\"text-lg font-medium mb-4\">Images</h3>\n              \n              {/* Existing Images */}\n              {images.length > 0 && (\n                <div className=\"mb-4\">\n                  <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Current Images</h4>\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                    {images.map((image) => (\n                      <div key={image.id} className=\"relative\">\n                        <img\n                          src={image.url}\n                          alt=\"Product\"\n                          className=\"w-full h-24 object-cover rounded border\"\n                        />\n                        <button\n                          type=\"button\"\n                          onClick={() => handleRemoveExistingImage(image.id)}\n                          className=\"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600\"\n                        >\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                          </svg>\n                        </button>\n                        {image.is_primary && (\n                          <span className=\"absolute bottom-1 left-1 bg-green-500 text-white text-xs px-1 rounded\">\n                            Primary\n                          </span>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* New Images */}\n              {newImages.length > 0 && (\n                <div className=\"mb-4\">\n                  <h4 className=\"text-sm font-medium text-gray-700 mb-2\">New Images to Upload</h4>\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                    {newImages.map((file, index) => (\n                      <div key={index} className=\"relative\">\n                        <img\n                          src={URL.createObjectURL(file)}\n                          alt=\"New\"\n                          className=\"w-full h-24 object-cover rounded border\"\n                        />\n                        <button\n                          type=\"button\"\n                          onClick={() => handleRemoveNewImage(index)}\n                          className=\"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600\"\n                        >\n                          <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                          </svg>\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Upload New Images */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Add New Images\n                </label>\n                <input\n                  type=\"file\"\n                  multiple\n                  accept=\"image/*\"\n                  onChange={handleImageUpload}\n                  className=\"block w-full text-sm text-gray-500\n                    file:mr-4 file:py-2 file:px-4\n                    file:rounded-full file:border-0\n                    file:text-sm file:font-semibold\n                    file:bg-green-50 file:text-green-700\n                    hover:file:bg-green-100\"\n                />\n              </div>\n            </div>\n\n            {/* Action Buttons */}\n            <div className=\"border-t pt-6 flex gap-3\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\n                disabled={saving}\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                className=\"flex-1 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50\"\n                disabled={saving}\n              >\n                {saving ? 'Saving...' : 'Save Changes'}\n              </button>\n            </div>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":17743,"size_tokens":null},"src/components/admin/screens/OrdersScreen.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { \n  MagnifyingGlassIcon,\n  EyeIcon,\n  CheckIcon,\n  XMarkIcon,\n  TruckIcon,\n  ClockIcon,\n  CurrencyRupeeIcon\n} from \"@heroicons/react/24/outline\";\nimport adminService from \"@/services/adminService\";\n\nexport default function OrdersScreen() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState(\"all\");\n  \n  // Data state\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    limit: 20,\n    total: 0,\n    total_pages: 0\n  });\n\n  // Modal state\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [showOrderModal, setShowOrderModal] = useState(false);\n  const [orderItems, setOrderItems] = useState([]);\n\n  useEffect(() => {\n    fetchOrders();\n  }, [pagination.page, statusFilter]);\n\n  const fetchOrders = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const result = await adminService.getAllOrders({\n        page: pagination.page,\n        limit: pagination.limit,\n        status: statusFilter === 'all' ? undefined : statusFilter\n      });\n      \n      setOrders(result.items || []);\n      setPagination(prev => ({\n        ...prev,\n        total: result.total || 0,\n        total_pages: result.total_pages || 0\n      }));\n      \n    } catch (error) {\n      console.error('Failed to fetch orders:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const openOrderModal = (order) => {\n    setSelectedOrder(order);\n    setOrderItems(order.items || []);\n    setShowOrderModal(true);\n  };\n\n  const updateOrderStatus = async (orderId, newStatus) => {\n    try {\n      await adminService.updateOrderStatus(orderId, newStatus);\n      // Refresh orders\n      await fetchOrders();\n      \n      // Update selected order if modal is open\n      if (selectedOrder && selectedOrder.id === orderId) {\n        setSelectedOrder(prev => ({ ...prev, status: newStatus }));\n      }\n    } catch (error) {\n      console.error('Failed to update order status:', error);\n      alert('Failed to update order status: ' + error.message);\n    }\n  };\n\n  const getStatusBadge = (status) => {\n    const statusConfig = {\n      pending: { color: 'bg-yellow-100 text-yellow-800', text: 'Pending' },\n      confirmed: { color: 'bg-blue-100 text-blue-800', text: 'Confirmed' },\n      processing: { color: 'bg-purple-100 text-purple-800', text: 'Processing' },\n      shipped: { color: 'bg-indigo-100 text-indigo-800', text: 'Shipped' },\n      delivered: { color: 'bg-green-100 text-green-800', text: 'Delivered' },\n      cancelled: { color: 'bg-red-100 text-red-800', text: 'Cancelled' },\n      refunded: { color: 'bg-gray-100 text-gray-800', text: 'Refunded' },\n    };\n    \n    const config = statusConfig[status] || { color: 'bg-gray-100 text-gray-800', text: status };\n    return (\n      <span className={`inline-flex px-2 py-1 text-xs font-medium rounded-full ${config.color}`}>\n        {config.text}\n      </span>\n    );\n  };\n\n  const filteredOrders = orders.filter(order => {\n    const matchesSearch = order.order_number?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         order.customer_email?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         order.customer_name?.toLowerCase().includes(searchTerm.toLowerCase());\n    return matchesSearch;\n  });\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <h1 className=\"text-2xl font-semibold text-black\">Orders Management</h1>\n        <div className=\"animate-pulse\">\n          <div className=\"bg-gray-200 h-12 rounded-lg mb-4\"></div>\n          <div className=\"space-y-4\">\n            {[1, 2, 3, 4, 5].map(i => (\n              <div key={i} className=\"bg-gray-200 h-16 rounded-lg\"></div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"space-y-6\">\n        <h1 className=\"text-2xl font-semibold text-black\">Orders Management</h1>\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <p className=\"text-red-600\">Failed to load orders: {error}</p>\n          <button \n            onClick={fetchOrders}\n            className=\"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Page Header */}\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-2xl font-semibold text-black\">Orders Management</h1>\n        <button \n          onClick={fetchOrders}\n          className=\"bg-[#1a4032] hover:bg-[#0f2319] text-white px-4 py-2 rounded-lg transition-colors\"\n        >\n          Refresh\n        </button>\n      </div>\n\n      {/* Search and Filters */}\n      <div className=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n        <div className=\"flex gap-4\">\n          <div className=\"flex-1\">\n            <div className=\"relative\">\n              <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search orders by order number, customer name, or email...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4032] focus:border-transparent\"\n              />\n            </div>\n          </div>\n          <select\n            value={statusFilter}\n            onChange={(e) => setStatusFilter(e.target.value)}\n            className=\"px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1a4032] focus:border-transparent\"\n          >\n            <option value=\"all\">All Status</option>\n            <option value=\"pending\">Pending</option>\n            <option value=\"confirmed\">Confirmed</option>\n            <option value=\"processing\">Processing</option>\n            <option value=\"shipped\">Shipped</option>\n            <option value=\"delivered\">Delivered</option>\n            <option value=\"cancelled\">Cancelled</option>\n            <option value=\"refunded\">Refunded</option>\n          </select>\n        </div>\n      </div>\n\n      {/* Orders Table */}\n      <div className=\"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Order Details\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Customer\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Amount\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Date\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Status\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {filteredOrders.length === 0 ? (\n                <tr>\n                  <td colSpan={6} className=\"px-6 py-12 text-center text-gray-500\">\n                    No orders found\n                  </td>\n                </tr>\n              ) : (\n                filteredOrders.map((order) => (\n                  <tr key={order.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm font-medium text-gray-900\">\n                        #{order.order_number || order.id}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        {order.items?.length || 0} items\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">\n                        {order.shipping_address?.name || 'Unknown Customer'}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        {order.shipping_address?.email || 'No email'}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm font-medium text-gray-900\">\n                        ₹{(order.total_amount || 0).toLocaleString()}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        {order.payment_status || 'Unknown'}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">\n                        {order.created_at ? new Date(order.created_at).toLocaleDateString() : 'Unknown'}\n                      </div>\n                      <div className=\"text-sm text-gray-500\">\n                        {order.created_at ? new Date(order.created_at).toLocaleTimeString() : ''}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {getStatusBadge(order.status)}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <div className=\"flex items-center space-x-2\">\n                        <button\n                          onClick={() => openOrderModal(order)}\n                          className=\"text-blue-600 hover:text-blue-900 p-1 rounded\"\n                          title=\"View Order Details\"\n                        >\n                          <EyeIcon className=\"h-4 w-4\" />\n                        </button>\n                        {order.status === 'pending' && (\n                          <button\n                            onClick={() => updateOrderStatus(order.id, 'confirmed')}\n                            className=\"text-green-600 hover:text-green-900 p-1 rounded\"\n                            title=\"Confirm Order\"\n                          >\n                            <CheckIcon className=\"h-4 w-4\" />\n                          </button>\n                        )}\n                        {['confirmed', 'processing'].includes(order.status) && (\n                          <button\n                            onClick={() => updateOrderStatus(order.id, 'shipped')}\n                            className=\"text-indigo-600 hover:text-indigo-900 p-1 rounded\"\n                            title=\"Mark as Shipped\"\n                          >\n                            <TruckIcon className=\"h-4 w-4\" />\n                          </button>\n                        )}\n                        {order.status !== 'cancelled' && order.status !== 'delivered' && (\n                          <button\n                            onClick={() => updateOrderStatus(order.id, 'cancelled')}\n                            className=\"text-red-600 hover:text-red-900 p-1 rounded\"\n                            title=\"Cancel Order\"\n                          >\n                            <XMarkIcon className=\"h-4 w-4\" />\n                          </button>\n                        )}\n                      </div>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n\n        {/* Pagination */}\n        {pagination.total_pages > 1 && (\n          <div className=\"px-6 py-4 border-t border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"text-sm text-gray-700\">\n                Showing {((pagination.page - 1) * pagination.limit) + 1} to{' '}\n                {Math.min(pagination.page * pagination.limit, pagination.total)} of{' '}\n                {pagination.total} results\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={() => setPagination(prev => ({ ...prev, page: prev.page - 1 }))}\n                  disabled={pagination.page === 1}\n                  className=\"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\n                >\n                  Previous\n                </button>\n                <span className=\"px-3 py-1 text-sm\">\n                  Page {pagination.page} of {pagination.total_pages}\n                </span>\n                <button\n                  onClick={() => setPagination(prev => ({ ...prev, page: prev.page + 1 }))}\n                  disabled={pagination.page === pagination.total_pages}\n                  className=\"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\n                >\n                  Next\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Order Details Modal */}\n      {showOrderModal && selectedOrder && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\n              Order Details: #{selectedOrder.order_number || selectedOrder.id}\n            </h3>\n            \n            {/* Order Info */}\n            <div className=\"mb-6 p-4 bg-gray-50 rounded-lg\">\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                <div>\n                  <h4 className=\"font-medium text-gray-900 mb-2\">Order Information</h4>\n                  <p className=\"text-sm text-gray-600\">Order ID: {selectedOrder.id}</p>\n                  <p className=\"text-sm text-gray-600\">\n                    Order Number: #{selectedOrder.order_number || 'N/A'}\n                  </p>\n                  <p className=\"text-sm text-gray-600\">\n                    Status: {getStatusBadge(selectedOrder.status)}\n                  </p>\n                  <p className=\"text-sm text-gray-600\">\n                    Date: {selectedOrder.created_at ? new Date(selectedOrder.created_at).toLocaleString() : 'Unknown'}\n                  </p>\n                </div>\n                <div>\n                  <h4 className=\"font-medium text-gray-900 mb-2\">Customer Details</h4>\n                  <p className=\"text-sm text-gray-600\">\n                    Name: {selectedOrder.shipping_address?.name || 'Unknown'}\n                  </p>\n                  <p className=\"text-sm text-gray-600\">\n                    Email: {selectedOrder.shipping_address?.email || 'N/A'}\n                  </p>\n                  <p className=\"text-sm text-gray-600\">\n                    Phone: {selectedOrder.shipping_address?.phone || 'N/A'}\n                  </p>\n                </div>\n                <div>\n                  <h4 className=\"font-medium text-gray-900 mb-2\">Payment & Shipping</h4>\n                  <p className=\"text-sm text-gray-600\">\n                    Total: ₹{(selectedOrder.total_amount || 0).toLocaleString()}\n                  </p>\n                  <p className=\"text-sm text-gray-600\">\n                    Payment: {selectedOrder.payment_status || 'Unknown'}\n                  </p>\n                  <p className=\"text-sm text-gray-600\">\n                    Payment Status: {selectedOrder.payment_status || 'Unknown'}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Shipping Address */}\n            {selectedOrder.shipping_address && (\n              <div className=\"mb-6 p-4 bg-blue-50 rounded-lg\">\n                <h4 className=\"font-medium text-gray-900 mb-2\">Shipping Address</h4>\n                <div className=\"text-sm text-gray-600\">\n                  <p>{selectedOrder.shipping_address.name}</p>\n                  <p>{selectedOrder.shipping_address.street_address}</p>\n                  <p>\n                    {selectedOrder.shipping_address.city}, {selectedOrder.shipping_address.state} {selectedOrder.shipping_address.postal_code}\n                  </p>\n                  <p>{selectedOrder.shipping_address.country}</p>\n                  {selectedOrder.shipping_address.phone && <p>Phone: {selectedOrder.shipping_address.phone}</p>}\n                </div>\n              </div>\n            )}\n\n            {/* Order Items */}\n            <div className=\"mb-6\">\n              <h4 className=\"font-medium text-gray-900 mb-4\">Order Items</h4>\n              \n              {orderItems.length === 0 ? (\n                <div className=\"text-center py-8 text-gray-500\">\n                  <p>No items found for this order</p>\n                </div>\n              ) : (\n                <div className=\"space-y-4\">\n                  {orderItems.map((item, index) => (\n                    <div key={item.id || index} className=\"flex items-center p-4 border border-gray-200 rounded-lg\">\n                      <div className=\"flex-shrink-0 h-16 w-16\">\n                        {item.product_image ? (\n                          <img \n                            className=\"h-16 w-16 rounded-lg object-cover\" \n                            src={item.product_image} \n                            alt={item.product_name || 'Product'} \n                          />\n                        ) : (\n                          <div className=\"h-16 w-16 bg-gray-200 rounded-lg flex items-center justify-center\">\n                            <span className=\"text-gray-400 text-xs\">No Image</span>\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"ml-4 flex-1\">\n                        <h5 className=\"font-medium text-gray-900\">\n                          {item.product_name || 'Unknown Product'}\n                        </h5>\n                        <p className=\"text-sm text-gray-600\">\n                          Quantity: {item.quantity || 1}\n                        </p>\n                        <p className=\"text-sm text-gray-600\">\n                          Price: ₹{(item.unit_price || 0).toLocaleString()} each\n                        </p>\n                      </div>\n                      <div className=\"text-right\">\n                        <p className=\"font-medium text-gray-900\">\n                          ₹{((item.unit_price || 0) * (item.quantity || 1)).toLocaleString()}\n                        </p>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Status Update Actions */}\n            <div className=\"mb-6 p-4 bg-gray-50 rounded-lg\">\n              <h4 className=\"font-medium text-gray-900 mb-3\">Quick Actions</h4>\n              <div className=\"flex flex-wrap gap-2\">\n                {selectedOrder.status === 'pending' && (\n                  <button\n                    onClick={() => updateOrderStatus(selectedOrder.id, 'confirmed')}\n                    className=\"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors\"\n                  >\n                    Confirm Order\n                  </button>\n                )}\n                {selectedOrder.status === 'confirmed' && (\n                  <button\n                    onClick={() => updateOrderStatus(selectedOrder.id, 'processing')}\n                    className=\"px-3 py-1 bg-purple-600 text-white rounded text-sm hover:bg-purple-700 transition-colors\"\n                  >\n                    Start Processing\n                  </button>\n                )}\n                {['confirmed', 'processing'].includes(selectedOrder.status) && (\n                  <button\n                    onClick={() => updateOrderStatus(selectedOrder.id, 'shipped')}\n                    className=\"px-3 py-1 bg-indigo-600 text-white rounded text-sm hover:bg-indigo-700 transition-colors\"\n                  >\n                    Mark as Shipped\n                  </button>\n                )}\n                {selectedOrder.status === 'shipped' && (\n                  <button\n                    onClick={() => updateOrderStatus(selectedOrder.id, 'delivered')}\n                    className=\"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors\"\n                  >\n                    Mark as Delivered\n                  </button>\n                )}\n                {!['cancelled', 'delivered', 'refunded'].includes(selectedOrder.status) && (\n                  <button\n                    onClick={() => updateOrderStatus(selectedOrder.id, 'cancelled')}\n                    className=\"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700 transition-colors\"\n                  >\n                    Cancel Order\n                  </button>\n                )}\n              </div>\n            </div>\n\n            <div className=\"flex justify-end space-x-3 pt-4 border-t border-gray-200\">\n              <button\n                onClick={() => {\n                  setShowOrderModal(false);\n                  setSelectedOrder(null);\n                  setOrderItems([]);\n                }}\n                className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":22272,"size_tokens":null},"src/app/wishlist/page.jsx":{"content":"export const metadata = { title: \"Wishlist\" };\n\nexport default function WishlistPage() {\n  return (\n    <div className=\"container mx-auto px-4 py-10\">\n      <h1 className=\"text-3xl font-semibold mb-3\">Wishlist</h1>\n      <p className=\"text-neutral-600\">Your saved products live here.</p>\n    </div>\n  );\n}\n\n\n","path":null,"size_bytes":308,"size_tokens":null},"src/components/ui/CategoryCard.jsx":{"content":"import Link from \"next/link\";\nimport Image from \"next/image\";\n\nexport default function CategoryCard({ title, imageUrl, href = \"#\" }) {\n  return (\n    <Link href={href} className=\"bg-[#7e7e7e] flex flex-col items-start justify-start overflow-hidden relative rounded-[12px] w-full sm:w-[240px] lg:w-[253px] cursor-pointer hover:transform hover:scale-105 transition-all duration-300 group\">\n      \n      {/* Category Image */}\n      <div className=\"relative w-full h-[140px] sm:h-[150px] lg:h-[164px] overflow-hidden\">\n        <Image\n          src={imageUrl}\n          alt={title}\n          fill\n          className=\"object-cover object-center transition-all duration-300 group-hover:scale-110\"\n          sizes=\"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 20vw\"\n        />\n      </div>\n      \n      {/* Category Title */}\n      <div className=\"box-border flex flex-col gap-4 items-start justify-start px-4 sm:px-6 py-3 relative w-full\">\n        <div className=\"flex flex-col gap-1 items-start justify-start relative w-full\">\n          <div className=\"flex flex-col font-reem font-semibold justify-center leading-[0] relative text-[16px] sm:text-[18px] lg:text-[20px] text-center text-white w-full\">\n            <p className=\"leading-normal\">{title}</p>\n          </div>\n        </div>\n      </div>\n    </Link>\n  );\n}\n","path":null,"size_bytes":1322,"size_tokens":null},"src/app/products/page.jsx":{"content":"import { redirect } from \"next/navigation\";\n\nexport default function ProductsIndexPage() {\n  redirect(\"/explore\");\n}\n\n\n","path":null,"size_bytes":119,"size_tokens":null},"src/app/contact/page.jsx":{"content":"import { redirect } from \"next/navigation\";\n\nexport default function ContactRedirect() {\n  redirect(\"/contactus\");\n}\n\n\n","path":null,"size_bytes":119,"size_tokens":null},"src/components/layout/Navbar.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { auth, tokens } from \"../../lib/api\";\nimport UserProfilePopup from \"../ui/UserProfilePopup\";\nimport MiniCart from \"../cart/MiniCart\";\nimport SearchAutocomplete from \"../search/SearchAutocomplete\";\nimport { useCart } from \"../../hooks/useCart\";\n\n// SVG Icons as inline components\nconst ChevronDownIcon = ({ color = \"#666666\" }) => (\n  <svg width=\"7\" height=\"4\" viewBox=\"0 0 7 4\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M3.5 4L0 0H7L3.5 4Z\" fill={color}/>\n  </svg>\n);\n\nconst CartIcon = ({ color = \"black\" }) => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M7 18c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12L8.1 13h7.45c.75 0 1.41-.41 1.75-1.03L21.7 4H5.21l-.94-2H1zm16 16c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" fill={color}/>\n  </svg>\n);\n\nconst UserIcon = ({ color = \"black\" }) => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\" fill={color}/>\n  </svg>\n);\n\n\n// Vendor Profile Component\nconst VendorProfile = ({ isLoggedIn, userProfile }) => {\n  const [isVendorPopupOpen, setIsVendorPopupOpen] = useState(false);\n  const dropdownRef = useRef(null);\n  \n  const handleSignOut = () => {\n    // Clear tokens\n    tokens.clear();\n    // Reload the page or redirect to login\n    if (typeof window !== 'undefined') {\n      window.location.href = '/';\n    }\n  };\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsVendorPopupOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n  \n  return (\n    <div className=\"flex items-center gap-6\">\n      {/* Notification Icon - only show when logged in */}\n      {isLoggedIn && (\n        <div className=\"relative\">\n          <div className=\"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center\">\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\" stroke=\"#666\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              <path d=\"M13.73 21a2 2 0 0 1-3.46 0\" stroke=\"#666\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n          </div>\n          <div className=\"absolute -top-1 -right-1 bg-emerald-600 text-white text-[12px] rounded-full w-4 h-4 flex items-center justify-center font-bold\">\n            6\n          </div>\n        </div>\n      )}\n      \n      {/* Conditional rendering based on login status */}\n      {isLoggedIn ? (\n        // Vendor Profile - show when logged in\n        <div className=\"relative\" ref={dropdownRef}>\n          <div className=\"flex items-center gap-3 cursor-pointer\" onClick={() => setIsVendorPopupOpen(!isVendorPopupOpen)}>\n            <div className=\"w-12 h-12 rounded-full overflow-hidden bg-emerald-500 flex items-center justify-center\">\n              {userProfile?.avatar_url ? (\n                <img \n                  src={userProfile.avatar_url} \n                  alt=\"Profile\" \n                  className=\"w-full h-full object-cover\"\n                />\n              ) : (\n                <svg width=\"32\" height=\"32\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                  <circle cx=\"12\" cy=\"7\" r=\"4\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                </svg>\n              )}\n            </div>\n            <div className=\"text-right\">\n              <div className=\"text-[14px] text-gray-800 font-bold font-poppins\">\n                {userProfile?.first_name && userProfile?.last_name \n                  ? `${userProfile.first_name} ${userProfile.last_name}`\n                  : userProfile?.first_name || \"User\"\n                }\n              </div>\n              <div className=\"text-[12px] text-gray-600 font-semibold font-poppins\">\n                {userProfile?.user_type?.charAt(0).toUpperCase() + userProfile?.user_type?.slice(1) || \"User\"}\n              </div>\n            </div>\n            <ChevronDownIcon color=\"#818181\" />\n          </div>\n          \n          {/* Dropdown Menu */}\n          {isVendorPopupOpen && (\n            <div className=\"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50\">\n              <Link \n                href=\"/vendor/dashboard\" \n                className=\"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-gray-100 transition-colors\"\n                onClick={() => setIsVendorPopupOpen(false)}\n              >\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" className=\"mr-3\">\n                  <rect x=\"3\" y=\"3\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                  <rect x=\"14\" y=\"3\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                  <rect x=\"14\" y=\"14\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                  <rect x=\"3\" y=\"14\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                </svg>\n                Dashboard\n              </Link>\n              \n              <div className=\"border-t border-gray-100 my-1\"></div>\n              \n              <button\n                onClick={handleSignOut}\n                className=\"flex items-center w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors\"\n              >\n                <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" className=\"mr-3\">\n                  <path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                  <polyline points=\"16,17 21,12 16,7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                  <line x1=\"21\" y1=\"12\" x2=\"9\" y2=\"12\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                </svg>\n                Sign Out\n              </button>\n            </div>\n          )}\n        </div>\n      ) : (\n        // Sign Up Button - show when not logged in\n        <Link href=\"/signup\" className=\"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded-[5px] font-poppins font-semibold text-[14px] tracking-[0.3px] transition-colors shadow-md hover:shadow-lg\">\n          Join Green Community\n        </Link>\n      )}\n    </div>\n  );\n};\n\nexport default function Navbar() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isUserPopupOpen, setIsUserPopupOpen] = useState(false);\n  const [isClient, setIsClient] = useState(false);\n  const [userProfile, setUserProfile] = useState(null);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const { cart } = useCart();\n  const pathname = usePathname();\n  const router = useRouter();\n  \n  // Check if we're in vendor dashboard\n  const isVendorDashboard = pathname?.startsWith('/vendor');\n\n  // Handle search submission\n  const handleSearchSubmit = (e) => {\n    e.preventDefault();\n    if (searchQuery.trim()) {\n      router.push(`/explore?search=${encodeURIComponent(searchQuery.trim())}`);\n    } else {\n      router.push('/explore');\n    }\n  };\n\n  // Handle search input change\n  const handleSearchChange = (value) => {\n    setSearchQuery(value);\n  };\n\n  // Check if user is logged in and fetch profile on component mount\n  useEffect(() => {\n    setIsClient(true);\n    const userTokens = tokens.get();\n    const loggedIn = !!userTokens?.access_token;\n    setIsLoggedIn(loggedIn);\n    \n    // Fetch user profile if logged in\n    if (loggedIn && userTokens?.access_token) {\n      auth.getProfile(userTokens.access_token)\n        .then(profile => {\n          setUserProfile(profile);\n        })\n        .catch(error => {\n          console.error('Failed to fetch user profile:', error);\n        });\n    }\n    \n    // Listener to react to token changes elsewhere in the app (login/logout)\n    const onTokensChanged = (ev) => {\n      const toks = ev?.detail || tokens.get();\n      const nowLoggedIn = !!toks?.access_token;\n      setIsLoggedIn(nowLoggedIn);\n      if (nowLoggedIn && toks?.access_token) {\n        auth.getProfile(toks.access_token)\n          .then(profile => setUserProfile(profile))\n          .catch(() => setUserProfile(null));\n      } else {\n        setUserProfile(null);\n      }\n    };\n\n    if (typeof window !== 'undefined') {\n      window.addEventListener('ae_tokens_changed', onTokensChanged);\n    }\n\n    return () => {\n      if (typeof window !== 'undefined') {\n        window.removeEventListener('ae_tokens_changed', onTokensChanged);\n      }\n    };\n  }, []);\n\n  return (\n    <div className=\"w-full fixed top-0 left-0 z-20\">\n      {/* Impact Banner */}\n      {!isVendorDashboard && (\n        <div className=\"bg-emerald-700 text-white py-2 px-4 text-center text-sm\">\n          <div className=\"flex items-center justify-center gap-4 max-w-4xl mx-auto\">\n            <div className=\"flex items-center gap-1\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M12 2l2 7h7l-5.5 4 2 7-5.5-4-5.5 4 2-7L3 9h7l2-7z\" fill=\"currentColor\"/></svg>\n              <span>2,847 trees planted this month</span>\n            </div>\n            <div className=\"hidden md:flex items-center gap-1\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M21 16V8a2 2 0 0 0-2-2h-3l-1-2H9L8 6H5a2 2 0 0 0-2 2v8\" stroke=\"currentColor\" strokeWidth=\"2\"/></svg>\n              <span>15.2T CO₂ offset</span>\n            </div>\n            <div className=\"hidden lg:flex items-center gap-1\">\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M19 2l3 3-9 9H10v-3l9-9z\" stroke=\"currentColor\" strokeWidth=\"2\"/></svg>\n              <span>500K+ plastic items saved</span>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className={`bg-white/90 backdrop-blur-xl border-b border-gray-200 flex items-center justify-between px-6 py-3 w-full`}>\n        {/* Logo */}\n        <Link href=\"/\" className=\"flex items-center gap-2 shrink-0\">\n          <div className=\"w-6 h-6\">\n            <Image src=\"/logo.png\" alt=\"AveoEarth Logo\" width={24} height={24} className=\"w-full h-full object-contain\" />\n          </div>\n          <span className=\"text-[24px] font-eb-garamond font-medium tracking-[-0.72px] hidden sm:block text-emerald-700\">AveoEarth</span>\n        </Link>\n\n        {/* Search Bar - only show for non-vendor pages */}\n        {!isVendorDashboard && (\n          <div className=\"hidden lg:flex max-w-[500px] flex-1 mx-6\">\n            <SearchAutocomplete\n              searchQuery={searchQuery}\n              onSearchChange={handleSearchChange}\n              onSearchSubmit={handleSearchSubmit}\n              onSelectItem={(item) => {\n                // Optional: handle item selection\n                console.log('Selected item:', item);\n              }}\n              placeholder=\"Search eco-friendly products...\"\n              className=\"glass rounded-[20px] px-[23px] py-2 w-full shadow-eco border border-white/20\"\n            />\n          </div>\n        )}\n\n        {/* Desktop Navigation */}\n        {!isVendorDashboard && (\n          <nav className=\"hidden lg:flex items-center space-x-8\">\n            <Link href=\"/category\" className=\"text-gray-700 hover:text-emerald-700 transition-colors font-medium\">Categories</Link>\n            <Link href=\"/explore?sort=new\" className=\"text-gray-700 hover:text-emerald-700 transition-colors font-medium\">New Arrivals</Link>\n            <Link href=\"/explore?sort=popular\" className=\"text-gray-700 hover:text-emerald-700 transition-colors font-medium\">Best Sellers</Link>\n            <Link href=\"/community\" className=\"text-gray-700 hover:text-emerald-700 transition-colors font-medium\">Community</Link>\n            <Link href=\"/about\" className=\"text-gray-700 hover:text-emerald-700 transition-colors font-medium\">About Us</Link>\n          </nav>\n        )}\n\n        {/* Right Side Items */}\n        <div className=\"flex items-center gap-6\">\n          {isClient && (\n            <>\n              {isVendorDashboard ? (\n                <VendorProfile isLoggedIn={isLoggedIn} userProfile={userProfile} />\n              ) : (\n                <>\n                  {/* Cart - only show for non-vendor pages */}\n                  <MiniCart />\n\n\n                  {/* User Icon / Profile */}\n                  <div className=\"relative\">\n                    {isClient ? (\n                      <>\n                        {isLoggedIn ? (\n                          <button onClick={() => setIsUserPopupOpen(!isUserPopupOpen)} className=\"relative focus:outline-none text-gray-700 hover:text-emerald-700\">\n                            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                              <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\" fill=\"currentColor\"/>\n                            </svg>\n                          </button>\n                        ) : (\n                          <button onClick={() => setIsUserPopupOpen(!isUserPopupOpen)} className=\"relative focus:outline-none text-gray-700 hover:text-emerald-700\">\n                            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                              <path d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\" fill=\"currentColor\"/>\n                            </svg>\n                          </button>\n                        )}\n                        \n                        <UserProfilePopup \n                          isOpen={isUserPopupOpen}\n                          onClose={() => setIsUserPopupOpen(false)}\n                          isLoggedIn={isLoggedIn}\n                          userProfile={userProfile}\n                        />\n                      </>\n                    ) : (\n                      // Fallback during SSR\n                      <div className=\"w-[32px] h-[32px] bg-emerald-500 rounded-full\"></div>\n                    )}\n                  </div>\n                </>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":15382,"size_tokens":null},"src/app/account/settings/page.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useAuth } from '@/hooks/useAuth';\nimport { auth } from '@/lib/api';\nimport { tokens } from '@/lib/api';\nimport Navbar from \"../../../components/layout/Navbar\";\nimport Footer from \"../../../components/layout/Footer\";\nimport NewsletterSubscription from \"../../../components/explore/NewsletterSubscription\";\nimport AddressManager from \"../../../components/address/AddressManager\";\nimport profileService from \"../../../services/profileService\";\nimport { ChevronDownIcon, EyeIcon } from \"@heroicons/react/24/outline\";\n\n// Back arrow icon\nconst ArrowLeftIcon = () => (\n  <svg width=\"19.2\" height=\"19.2\" viewBox=\"0 0 19.2 19.2\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path \n      d=\"M4.209 4.412L15.583 15.175\" \n      stroke=\"#858c94\" \n      strokeWidth=\"1.6\" \n      strokeLinecap=\"round\" \n      strokeLinejoin=\"round\"\n      transform=\"rotate(180 9.6 9.6)\"\n    />\n  </svg>\n);\n\nexport default function AccountSettingsPage() {\n  const { isLoggedIn, userProfile, loading: authLoading, refreshProfile } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState('');\n  const [error, setError] = useState('');\n  const [activeTab, setActiveTab] = useState('personal');\n\n  // Form state for personal information\n  const [personalInfo, setPersonalInfo] = useState({\n    firstName: \"\",\n    lastName: \"\", \n    email: \"\",\n    phoneNumber: \"\"\n  });\n\n  // Form state for extended profile\n  const [extendedProfile, setExtendedProfile] = useState({\n    dateOfBirth: \"\",\n    gender: \"\",\n    bio: \"\"\n  });\n\n  // Form state for preferences\n  const [preferences, setPreferences] = useState({\n    language: \"en\",\n    currency: \"INR\",\n    theme: \"light\",\n    newsletter: true,\n    recommendations: true\n  });\n\n  // Form state for notification settings\n  const [notificationSettings, setNotificationSettings] = useState({\n    email_marketing: true,\n    email_orders: true,\n    email_security: true,\n    sms_orders: false,\n    sms_marketing: false,\n    push_orders: true,\n    push_marketing: false\n  });\n\n  // Load user data when available\n  useEffect(() => {\n    if (userProfile) {\n      setPersonalInfo({\n        firstName: userProfile.first_name || \"\",\n        lastName: userProfile.last_name || \"\",\n        email: userProfile.email || \"\",\n        phoneNumber: userProfile.phone || \"\"\n      });\n    }\n\n    if (userProfile) {\n      setExtendedProfile({\n        dateOfBirth: userProfile.date_of_birth || \"\",\n        gender: userProfile.gender || \"\",\n        bio: userProfile.bio || \"\"\n      });\n\n      // Load preferences\n      if (userProfile.preferences) {\n        setPreferences(prev => ({\n          ...prev,\n          ...userProfile.preferences\n        }));\n      }\n\n      // Load notification settings\n      if (userProfile.notification_settings) {\n        setNotificationSettings(prev => ({\n          ...prev,\n          ...userProfile.notification_settings\n        }));\n      }\n    }\n  }, [userProfile]);\n\n  const [passwordData, setPasswordData] = useState({\n    currentPassword: \"\",\n    newPassword: \"\",\n    confirmPassword: \"\"\n  });\n\n  const showMessage = (message, type = 'success') => {\n    if (type === 'success') {\n      setSuccess(message);\n      setError('');\n    } else {\n      setError(message);\n      setSuccess('');\n    }\n    setTimeout(() => {\n      setSuccess('');\n      setError('');\n    }, 5000);\n  };\n\n  const handlePersonalInfoSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    \n    try {\n      const profileData = {\n        first_name: personalInfo.firstName,\n        last_name: personalInfo.lastName,\n        phone: personalInfo.phoneNumber\n      };\n\n      await profileService.updateBasicProfile(profileData);\n      await refreshProfile();\n      showMessage('Personal information updated successfully!');\n    } catch (err) {\n      console.error('Update error:', err);\n      showMessage(err.message || 'Failed to update personal information', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleExtendedProfileSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    \n    try {\n      const profileData = {\n        date_of_birth: extendedProfile.dateOfBirth || null,\n        gender: extendedProfile.gender || null,\n        bio: extendedProfile.bio || null\n      };\n\n      await profileService.updateCompleteProfile(profileData);\n      await refreshProfile();\n      showMessage('Profile updated successfully!');\n    } catch (err) {\n      console.error('Update error:', err);\n      showMessage(err.message || 'Failed to update profile', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePreferencesSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    \n    try {\n      await profileService.updateCompleteProfile({ preferences });\n      await refreshProfile();\n      showMessage('Preferences updated successfully!');\n    } catch (err) {\n      console.error('Update error:', err);\n      showMessage(err.message || 'Failed to update preferences', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleNotificationSettingsSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    \n    try {\n      await profileService.updateCompleteProfile({ notification_settings: notificationSettings });\n      await refreshProfile();\n      showMessage('Notification settings updated successfully!');\n    } catch (err) {\n      console.error('Update error:', err);\n      showMessage(err.message || 'Failed to update notification settings', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePasswordSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (passwordData.newPassword !== passwordData.confirmPassword) {\n      showMessage('New passwords do not match', 'error');\n      return;\n    }\n\n    if (passwordData.newPassword.length < 8) {\n      showMessage('Password must be at least 8 characters long', 'error');\n      return;\n    }\n\n    setLoading(true);\n    \n    try {\n      const token = tokens.get()?.access_token;\n      if (!token) {\n        throw new Error('No authentication token');\n      }\n\n      await auth.resetPassword(passwordData.newPassword, token);\n      setPasswordData({ currentPassword: '', newPassword: '', confirmPassword: '' });\n      showMessage('Password changed successfully!');\n    } catch (err) {\n      console.error('Password change error:', err);\n      showMessage(err.message || 'Failed to change password', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const [showPasswords, setShowPasswords] = useState({\n    current: false,\n    new: false,\n    confirm: false\n  });\n\n  const handlePersonalInfoChange = (field, value) => {\n    setPersonalInfo(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handleExtendedProfileChange = (field, value) => {\n    setExtendedProfile(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handlePreferencesChange = (field, value) => {\n    setPreferences(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handleNotificationChange = (field, value) => {\n    setNotificationSettings(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handlePasswordChange = (field, value) => {\n    setPasswordData(prev => ({ ...prev, [field]: value }));\n  };\n\n  const togglePasswordVisibility = (field) => {\n    setShowPasswords(prev => ({ ...prev, [field]: !prev[field] }));\n  };\n\n  const handleGoBack = () => {\n    window.history.back();\n  };\n\n  const tabs = [\n    { id: 'personal', label: 'Personal Info' },\n    { id: 'profile', label: 'Extended Profile' },\n    { id: 'addresses', label: 'Addresses' },\n    { id: 'preferences', label: 'Preferences' },\n    { id: 'notifications', label: 'Notifications' },\n    { id: 'security', label: 'Security' }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-[#e1e4e3]\">\n      <Navbar />\n      \n      {authLoading ? (\n        <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n          <div className=\"text-center\">\n            <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-green-600 mx-auto\"></div>\n            <p className=\"mt-4 text-gray-600\">Loading account settings...</p>\n          </div>\n        </div>\n      ) : (\n        <>\n          {/* Success/Error Messages */}\n          {success && (\n            <div className=\"fixed top-4 right-4 z-50 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded\">\n              {success}\n            </div>\n          )}\n          {error && (\n            <div className=\"fixed top-4 right-4 z-50 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\n              {error}\n            </div>\n          )}\n\n          {/* Main Content */}\n          <div className=\"px-4 sm:px-6 lg:px-16 xl:px-[62px] pb-8\">\n            {/* Go Back Button */}\n            <div className=\"mb-4 pt-4\">\n              <button \n                onClick={handleGoBack}\n                className=\"bg-white border border-[#b8b8b8] rounded-[4.8px] px-[25.6px] py-[12px] flex items-center gap-[25.6px] hover:bg-gray-50 transition-colors\"\n              >\n                <ArrowLeftIcon />\n                <span className=\"font-poppins font-medium text-[#484848] text-[14.4px]\">Go back</span>\n              </button>\n            </div>\n\n            <div className=\"max-w-[1200px] mx-auto\">\n              {/* Account Settings Header */}\n              <div className=\"bg-white rounded-[8px] border border-[#e6e6e6] overflow-hidden mb-8\">\n                <div className=\"bg-white px-6 py-4 border-b border-[#e6e6e6]\">\n                  <h1 className=\"font-poppins font-medium text-[#1a1a1a] text-[24px] leading-[1.5]\">\n                    Account Settings\n                  </h1>\n                </div>\n\n                {/* Tabs Navigation */}\n                <div className=\"px-6 pt-4\">\n                  <div className=\"flex flex-wrap gap-2 border-b border-gray-200\">\n                    {tabs.map(tab => (\n                      <button\n                        key={tab.id}\n                        onClick={() => setActiveTab(tab.id)}\n                        className={`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${\n                          activeTab === tab.id\n                            ? 'border-blue-500 text-blue-600'\n                            : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                        }`}\n                      >\n                        {tab.label}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Tab Content */}\n                <div className=\"p-6\">\n                  {/* Personal Info Tab */}\n                  {activeTab === 'personal' && (\n                    <form onSubmit={handlePersonalInfoSubmit}>\n                      <div className=\"flex flex-col lg:flex-row gap-8\">\n                        <div className=\"flex-1 space-y-4\">\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                            <div className=\"space-y-1.5\">\n                              <label className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                                First name *\n                              </label>\n                              <input\n                                type=\"text\"\n                                value={personalInfo.firstName}\n                                onChange={(e) => handlePersonalInfoChange('firstName', e.target.value)}\n                                className=\"w-full h-[49px] px-4 py-3.5 bg-white border border-[#e6e6e6] rounded-[6px] font-poppins font-regular text-[#666666] text-[16px] leading-[1.3] focus:border-[#272727] focus:outline-none\"\n                                required\n                              />\n                            </div>\n                            <div className=\"space-y-1.5\">\n                              <label className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                                Last name *\n                              </label>\n                              <input\n                                type=\"text\"\n                                value={personalInfo.lastName}\n                                onChange={(e) => handlePersonalInfoChange('lastName', e.target.value)}\n                                className=\"w-full h-[49px] px-4 py-3.5 bg-white border border-[#e6e6e6] rounded-[6px] font-poppins font-regular text-[#666666] text-[16px] leading-[1.3] focus:border-[#272727] focus:outline-none\"\n                                required\n                              />\n                            </div>\n                          </div>\n                          <div className=\"space-y-1.5\">\n                            <label className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                              Email (read-only)\n                            </label>\n                            <input\n                              type=\"email\"\n                              value={personalInfo.email}\n                              readOnly\n                              className=\"w-full h-[49px] px-4 py-3.5 bg-gray-100 border border-[#e6e6e6] rounded-[6px] font-poppins font-regular text-[#666666] text-[16px] leading-[1.3] cursor-not-allowed\"\n                            />\n                          </div>\n                          <div className=\"space-y-1.5\">\n                            <label className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                              Phone Number\n                            </label>\n                            <input\n                              type=\"tel\"\n                              value={personalInfo.phoneNumber}\n                              onChange={(e) => handlePersonalInfoChange('phoneNumber', e.target.value)}\n                              className=\"w-full h-[49px] px-4 py-3.5 bg-white border border-[#e6e6e6] rounded-[6px] font-poppins font-regular text-[#666666] text-[16px] leading-[1.3] focus:border-[#272727] focus:outline-none\"\n                            />\n                          </div>\n                        </div>\n                        <div className=\"lg:w-[300px] flex flex-col items-center\">\n                          <div className=\"w-56 h-56 mb-6\">\n                            <div className=\"w-full h-full bg-gray-200 rounded-full flex items-center justify-center\">\n                              <span className=\"text-4xl text-gray-400\">\n                                {profileService.getUserInitials(userProfile)}\n                              </span>\n                            </div>\n                          </div>\n                          <button \n                            type=\"button\"\n                            className=\"bg-white border-2 border-[#272727] px-8 py-3.5 rounded-[43px] font-poppins font-semibold text-[#272727] text-[14px] leading-[1.2] hover:bg-[#f5f5f5] transition-colors\"\n                          >\n                            Choose Image\n                          </button>\n                        </div>\n                      </div>\n                      <div className=\"mt-8\">\n                        <button \n                          type=\"submit\"\n                          disabled={loading}\n                          className=\"bg-[#272727] hover:bg-[#1a1a1a] text-white px-8 py-3.5 rounded-[43px] font-poppins font-semibold text-[14px] leading-[1.2] transition-colors disabled:opacity-50\"\n                        >\n                          {loading ? 'Saving...' : 'Save Changes'}\n                        </button>\n                      </div>\n                    </form>\n                  )}\n\n                  {/* Extended Profile Tab */}\n                  {activeTab === 'profile' && (\n                    <form onSubmit={handleExtendedProfileSubmit}>\n                      <div className=\"space-y-6\">\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                          <div className=\"space-y-1.5\">\n                            <label className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                              Date of Birth\n                            </label>\n                            <input\n                              type=\"date\"\n                              value={extendedProfile.dateOfBirth}\n                              onChange={(e) => handleExtendedProfileChange('dateOfBirth', e.target.value)}\n                              className=\"w-full h-[49px] px-4 py-3.5 bg-white border border-[#e6e6e6] rounded-[6px] font-poppins font-regular text-[#666666] text-[16px] leading-[1.3] focus:border-[#272727] focus:outline-none\"\n                            />\n                          </div>\n                          <div className=\"space-y-1.5\">\n                            <label className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                              Gender\n                            </label>\n                            <select\n                              value={extendedProfile.gender}\n                              onChange={(e) => handleExtendedProfileChange('gender', e.target.value)}\n                              className=\"w-full h-[49px] px-4 py-3.5 bg-white border border-[#e6e6e6] rounded-[6px] font-poppins font-regular text-[#666666] text-[16px] leading-[1.3] focus:border-[#272727] focus:outline-none\"\n                            >\n                              <option value=\"\">Select Gender</option>\n                              {profileService.getGenderOptions().map(option => (\n                                <option key={option.value} value={option.value}>\n                                  {option.label}\n                                </option>\n                              ))}\n                            </select>\n                          </div>\n                        </div>\n                        <div className=\"space-y-1.5\">\n                          <label className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                            Bio\n                          </label>\n                          <textarea\n                            value={extendedProfile.bio}\n                            onChange={(e) => handleExtendedProfileChange('bio', e.target.value)}\n                            rows=\"4\"\n                            maxLength=\"500\"\n                            className=\"w-full px-4 py-3.5 bg-white border border-[#e6e6e6] rounded-[6px] font-poppins font-regular text-[#666666] text-[16px] leading-[1.3] focus:border-[#272727] focus:outline-none resize-none\"\n                            placeholder=\"Tell us about yourself...\"\n                          />\n                          <p className=\"text-sm text-gray-500\">\n                            {extendedProfile.bio.length}/500 characters\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"mt-8\">\n                        <button \n                          type=\"submit\"\n                          disabled={loading}\n                          className=\"bg-[#272727] hover:bg-[#1a1a1a] text-white px-8 py-3.5 rounded-[43px] font-poppins font-semibold text-[14px] leading-[1.2] transition-colors disabled:opacity-50\"\n                        >\n                          {loading ? 'Saving...' : 'Save Profile'}\n                        </button>\n                      </div>\n                    </form>\n                  )}\n\n                  {/* Addresses Tab */}\n                  {activeTab === 'addresses' && (\n                    <AddressManager showTitle={false} />\n                  )}\n\n                  {/* Preferences Tab */}\n                  {activeTab === 'preferences' && (\n                    <form onSubmit={handlePreferencesSubmit}>\n                      <div className=\"space-y-6\">\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                          <div className=\"space-y-4\">\n                            <h3 className=\"font-poppins font-medium text-[#1a1a1a] text-[16px]\">\n                              Language & Region\n                            </h3>\n                            <div className=\"space-y-1.5\">\n                              <label className=\"font-poppins font-regular text-[#1a1a1a] text-[14px]\">\n                                Language\n                              </label>\n                              <select\n                                value={preferences.language}\n                                onChange={(e) => handlePreferencesChange('language', e.target.value)}\n                                className=\"w-full h-[49px] px-4 py-3.5 bg-white border border-[#e6e6e6] rounded-[6px] font-poppins font-regular text-[#666666] text-[16px] focus:border-[#272727] focus:outline-none\"\n                              >\n                                <option value=\"en\">English</option>\n                                <option value=\"hi\">Hindi</option>\n                              </select>\n                            </div>\n                            <div className=\"space-y-1.5\">\n                              <label className=\"font-poppins font-regular text-[#1a1a1a] text-[14px]\">\n                                Currency\n                              </label>\n                              <select\n                                value={preferences.currency}\n                                onChange={(e) => handlePreferencesChange('currency', e.target.value)}\n                                className=\"w-full h-[49px] px-4 py-3.5 bg-white border border-[#e6e6e6] rounded-[6px] font-poppins font-regular text-[#666666] text-[16px] focus:border-[#272727] focus:outline-none\"\n                              >\n                                <option value=\"INR\">Indian Rupee (₹)</option>\n                                <option value=\"USD\">US Dollar ($)</option>\n                              </select>\n                            </div>\n                          </div>\n                          <div className=\"space-y-4\">\n                            <h3 className=\"font-poppins font-medium text-[#1a1a1a] text-[16px]\">\n                              Shopping Preferences\n                            </h3>\n                            <div className=\"space-y-3\">\n                              <label className=\"flex items-center\">\n                                <input\n                                  type=\"checkbox\"\n                                  checked={preferences.newsletter}\n                                  onChange={(e) => handlePreferencesChange('newsletter', e.target.checked)}\n                                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                                />\n                                <span className=\"ml-3 font-poppins text-[#1a1a1a] text-[14px]\">\n                                  Subscribe to newsletter\n                                </span>\n                              </label>\n                              <label className=\"flex items-center\">\n                                <input\n                                  type=\"checkbox\"\n                                  checked={preferences.recommendations}\n                                  onChange={(e) => handlePreferencesChange('recommendations', e.target.checked)}\n                                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                                />\n                                <span className=\"ml-3 font-poppins text-[#1a1a1a] text-[14px]\">\n                                  Personalized recommendations\n                                </span>\n                              </label>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"mt-8\">\n                        <button \n                          type=\"submit\"\n                          disabled={loading}\n                          className=\"bg-[#272727] hover:bg-[#1a1a1a] text-white px-8 py-3.5 rounded-[43px] font-poppins font-semibold text-[14px] leading-[1.2] transition-colors disabled:opacity-50\"\n                        >\n                          {loading ? 'Saving...' : 'Save Preferences'}\n                        </button>\n                      </div>\n                    </form>\n                  )}\n\n                  {/* Notifications Tab */}\n                  {activeTab === 'notifications' && (\n                    <form onSubmit={handleNotificationSettingsSubmit}>\n                      <div className=\"space-y-6\">\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                          <div className=\"space-y-4\">\n                            <h3 className=\"font-poppins font-medium text-[#1a1a1a] text-[16px]\">\n                              Email Notifications\n                            </h3>\n                            <div className=\"space-y-3\">\n                              <label className=\"flex items-center justify-between\">\n                                <span className=\"font-poppins text-[#1a1a1a] text-[14px]\">\n                                  Order updates\n                                </span>\n                                <input\n                                  type=\"checkbox\"\n                                  checked={notificationSettings.email_orders}\n                                  onChange={(e) => handleNotificationChange('email_orders', e.target.checked)}\n                                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                                />\n                              </label>\n                              <label className=\"flex items-center justify-between\">\n                                <span className=\"font-poppins text-[#1a1a1a] text-[14px]\">\n                                  Marketing emails\n                                </span>\n                                <input\n                                  type=\"checkbox\"\n                                  checked={notificationSettings.email_marketing}\n                                  onChange={(e) => handleNotificationChange('email_marketing', e.target.checked)}\n                                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                                />\n                              </label>\n                              <label className=\"flex items-center justify-between\">\n                                <span className=\"font-poppins text-[#1a1a1a] text-[14px]\">\n                                  Security alerts\n                                </span>\n                                <input\n                                  type=\"checkbox\"\n                                  checked={notificationSettings.email_security}\n                                  onChange={(e) => handleNotificationChange('email_security', e.target.checked)}\n                                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                                />\n                              </label>\n                            </div>\n                          </div>\n                          <div className=\"space-y-4\">\n                            <h3 className=\"font-poppins font-medium text-[#1a1a1a] text-[16px]\">\n                              SMS Notifications\n                            </h3>\n                            <div className=\"space-y-3\">\n                              <label className=\"flex items-center justify-between\">\n                                <span className=\"font-poppins text-[#1a1a1a] text-[14px]\">\n                                  Order updates\n                                </span>\n                                <input\n                                  type=\"checkbox\"\n                                  checked={notificationSettings.sms_orders}\n                                  onChange={(e) => handleNotificationChange('sms_orders', e.target.checked)}\n                                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                                />\n                              </label>\n                              <label className=\"flex items-center justify-between\">\n                                <span className=\"font-poppins text-[#1a1a1a] text-[14px]\">\n                                  Marketing messages\n                                </span>\n                                <input\n                                  type=\"checkbox\"\n                                  checked={notificationSettings.sms_marketing}\n                                  onChange={(e) => handleNotificationChange('sms_marketing', e.target.checked)}\n                                  className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n                                />\n                              </label>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"mt-8\">\n                        <button \n                          type=\"submit\"\n                          disabled={loading}\n                          className=\"bg-[#272727] hover:bg-[#1a1a1a] text-white px-8 py-3.5 rounded-[43px] font-poppins font-semibold text-[14px] leading-[1.2] transition-colors disabled:opacity-50\"\n                        >\n                          {loading ? 'Saving...' : 'Save Notification Settings'}\n                        </button>\n                      </div>\n                    </form>\n                  )}\n\n                  {/* Security Tab */}\n                  {activeTab === 'security' && (\n                    <form onSubmit={handlePasswordSubmit}>\n                      <div className=\"space-y-6\">\n                        <h3 className=\"font-poppins font-medium text-[#1a1a1a] text-[18px]\">\n                          Change Password\n                        </h3>\n                        <div className=\"space-y-1.5\">\n                          <label className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                            Current Password\n                          </label>\n                          <div className=\"relative\">\n                            <input\n                              type={showPasswords.current ? \"text\" : \"password\"}\n                              value={passwordData.currentPassword}\n                              onChange={(e) => handlePasswordChange('currentPassword', e.target.value)}\n                              className=\"w-full h-[49px] px-4 py-3.5 bg-white border border-[#e6e6e6] rounded-[6px] font-poppins font-regular text-[#666666] text-[16px] leading-[1.3] focus:border-[#272727] focus:outline-none pr-12\"\n                              required\n                            />\n                            <button\n                              type=\"button\"\n                              onClick={() => togglePasswordVisibility('current')}\n                              className=\"absolute right-4 top-1/2 transform -translate-y-1/2\"\n                            >\n                              <EyeIcon className=\"w-5 h-5 text-[#666666]\" />\n                            </button>\n                          </div>\n                        </div>\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                          <div className=\"space-y-1.5\">\n                            <label className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                              New Password\n                            </label>\n                            <div className=\"relative\">\n                              <input\n                                type={showPasswords.new ? \"text\" : \"password\"}\n                                value={passwordData.newPassword}\n                                onChange={(e) => handlePasswordChange('newPassword', e.target.value)}\n                                className=\"w-full h-[49px] px-4 py-3.5 bg-white border border-[#e6e6e6] rounded-[6px] font-poppins font-regular text-[#666666] text-[16px] leading-[1.3] focus:border-[#272727] focus:outline-none pr-12\"\n                                required\n                              />\n                              <button\n                                type=\"button\"\n                                onClick={() => togglePasswordVisibility('new')}\n                                className=\"absolute right-4 top-1/2 transform -translate-y-1/2\"\n                              >\n                                <EyeIcon className=\"w-5 h-5 text-[#666666]\" />\n                              </button>\n                            </div>\n                          </div>\n                          <div className=\"space-y-1.5\">\n                            <label className=\"font-poppins font-regular text-[#1a1a1a] text-[14px] leading-[1.5]\">\n                              Confirm Password\n                            </label>\n                            <div className=\"relative\">\n                              <input\n                                type={showPasswords.confirm ? \"text\" : \"password\"}\n                                value={passwordData.confirmPassword}\n                                onChange={(e) => handlePasswordChange('confirmPassword', e.target.value)}\n                                className=\"w-full h-[49px] px-4 py-3.5 bg-white border border-[#e6e6e6] rounded-[6px] font-poppins font-regular text-[#666666] text-[16px] leading-[1.3] focus:border-[#272727] focus:outline-none pr-12\"\n                                required\n                              />\n                              <button\n                                type=\"button\"\n                                onClick={() => togglePasswordVisibility('confirm')}\n                                className=\"absolute right-4 top-1/2 transform -translate-y-1/2\"\n                              >\n                                <EyeIcon className=\"w-5 h-5 text-[#666666]\" />\n                              </button>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"mt-8\">\n                        <button \n                          type=\"submit\"\n                          disabled={loading}\n                          className=\"bg-[#272727] hover:bg-[#1a1a1a] text-white px-8 py-3.5 rounded-[43px] font-poppins font-semibold text-[14px] leading-[1.2] transition-colors disabled:opacity-50\"\n                        >\n                          {loading ? 'Changing...' : 'Change Password'}\n                        </button>\n                      </div>\n                    </form>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Newsletter Subscription */}\n          <NewsletterSubscription />\n\n          {/* Footer */}\n          <Footer />\n        </>\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":35423,"size_tokens":null},"src/components/vendor/VendorSidebar.jsx":{"content":"import React, { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport DraggableChatModal from '../ai/DraggableChatModal';\nimport { tokens } from '../../lib/api';\n\n// Dashboard Icon\nconst DashboardIcon = ({ color = \"#202224\" }) => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"3\" y=\"3\" width=\"7\" height=\"7\" rx=\"1\" stroke={color} strokeWidth=\"2\"/>\n    <rect x=\"14\" y=\"3\" width=\"7\" height=\"7\" rx=\"1\" stroke={color} strokeWidth=\"2\"/>\n    <rect x=\"14\" y=\"14\" width=\"7\" height=\"7\" rx=\"1\" stroke={color} strokeWidth=\"2\"/>\n    <rect x=\"3\" y=\"14\" width=\"7\" height=\"7\" rx=\"1\" stroke={color} strokeWidth=\"2\"/>\n  </svg>\n);\n\n// Products Icon\nconst ProductsIcon = ({ color = \"#202224\" }) => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M20 7H4C2.89543 7 2 7.89543 2 9V19C2 20.1046 2.89543 21 4 21H20C21.1046 21 22 20.1046 22 19V9C22 7.89543 21.1046 7 20 7Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M16 21V5C16 3.89543 15.1046 3 14 3H10C8.89543 3 8 3.89543 8 5V21\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\n// Orders Icon\nconst OrdersIcon = ({ color = \"#202224\" }) => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\n// Logout Icon\nconst LogoutIcon = ({ color = \"#202224\" }) => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M16 17L21 12L16 7M21 12H9\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\n// Chat Icon\nconst ChatIcon = ({ color = \"#202224\" }) => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <circle cx=\"12\" cy=\"11\" r=\"1\" fill={color}/>\n    <circle cx=\"8\" cy=\"11\" r=\"1\" fill={color}/>\n    <circle cx=\"16\" cy=\"11\" r=\"1\" fill={color}/>\n  </svg>\n);\n\n// Asset constants from Figma\nconst imgLogo2 = \"http://localhost:3845/assets/cc2c57284e93c0a5a705fddbf8410e50b1a53fce.png\";\nconst imgDivider = \"http://localhost:3845/assets/32025f1bbc4ae0d2cad181a275b9877a06eb93f1.svg\";\nconst imgHideBg = \"http://localhost:3845/assets/2e2b44013b3695127826312507aa7bdb68efebb4.svg\";\n\nexport default function VendorSidebar({ activeTab, setActiveTab, vendor }) {\n  const [isChatOpen, setIsChatOpen] = useState(false);\n  const router = useRouter();\n  \n  const handleSignOut = () => {\n    // Clear tokens\n    tokens.clear();\n    // Redirect to home page\n    router.push('/');\n  };\n  \n  const sidebarItems = [\n    { id: \"dashboard\", label: \"Dashboard\", icon: DashboardIcon },\n    { id: \"products\", label: \"Products\", icon: ProductsIcon },\n    { id: \"orders\", label: \"Order Lists\", icon: OrdersIcon },\n    // { id: \"analytics\", label: \"Inventory\", icon: \"☰\" }\n  ];\n\n  const bottomItems = [\n    { id: \"chat\", label: \"AI Assistant\", icon: ChatIcon, action: () => setIsChatOpen(true) },\n    // { id: \"settings\", label: \"Settings\", icon: \"⚙\" },\n    { id: \"logout\", label: \"Logout\", icon: LogoutIcon, action: handleSignOut }\n  ];\n\n  return (\n    <div className=\"fixed left-0 top-0 h-screen w-60 bg-white border-r border-[#666666] z-10 flex flex-col lg:w-60 md:w-64\">\n      {/* Logo Section */}\n      <div className=\"flex items-center gap-3 px-4 sm:px-6 py-5 shrink-0\">\n        <div\n          className=\"w-[33.906px] h-[31.835px] bg-no-repeat bg-[50%_34.09%]\"\n          style={{\n            backgroundImage: `url('${imgLogo2}')`,\n            backgroundSize: '127.48% 135.77%'\n          }}\n        />\n        <div className=\"font-eb-garamond font-semibold text-[20px] sm:text-[27.889px] text-black leading-normal\">\n          AveoEarth\n        </div>\n      </div>\n\n      {/* Main Navigation */}\n      <div className=\"flex-1 flex flex-col justify-between\">\n        {/* Top Navigation Items */}\n        <div className=\"flex flex-col mt-4 sm:mt-8\">\n          {sidebarItems.map((item) => {\n            const isActive = activeTab === item.id;\n            return (\n              <div key={item.id} className=\"h-[50px] relative px-3 sm:px-4\">\n                {/* Green side indicator for active item */}\n                {isActive && (\n                  <div className=\"absolute left-0 top-0 bottom-0 w-1 bg-[#1b6145] rounded-r\"></div>\n                )}\n\n                <button\n                  onClick={() => setActiveTab(item.id)}\n                  className={`w-full h-full flex items-center px-3 sm:px-4 transition-colors relative rounded-lg ${\n                    isActive\n                      ? 'bg-[#1b6145] text-white'\n                      : 'text-[#202224] hover:bg-gray-50'\n                  }`}\n                >\n                  {/* Icon */}\n                  <div className=\"w-6 sm:w-8 text-center mr-2 sm:mr-3\">\n                    {typeof item.icon === 'function' ? (\n                      <item.icon color={isActive ? \"white\" : \"#202224\"} />\n                    ) : (\n                      <span className={`text-[18px] sm:text-[22px] ${isActive ? \"text-white\" : \"text-[#202224]\"}`}>\n                        {item.icon}\n                      </span>\n                    )}\n                  </div>\n\n                  {/* Label */}\n                  <span className={`font-nunito font-semibold text-[12px] sm:text-[14px] tracking-[0.3px] ${\n                    isActive ? \"text-white\" : \"text-[#202224]\"\n                  }`}>\n                    {item.label}\n                  </span>\n                </button>\n              </div>\n            );\n          })}\n        </div>\n\n        {/* Bottom Navigation Items */}\n        <div className=\"pb-4 sm:pb-6\">\n          {/* Divider */}\n          <div className=\"h-[1px] mx-3 sm:mx-4 my-4\">\n            <img alt=\"\" className=\"w-full h-full object-cover\" src={imgDivider} />\n          </div>\n\n          {bottomItems.map((item) => {\n            const isActive = activeTab === item.id;\n            return (\n              <div key={item.id} className=\"h-[50px] relative px-3 sm:px-4\">\n                {/* Green side indicator for active item */}\n                {isActive && (\n                  <div className=\"absolute left-0 top-0 bottom-0 w-1 bg-[#1b6145] rounded-r\"></div>\n                )}\n\n                <button\n                  onClick={() => item.action ? item.action() : setActiveTab(item.id)}\n                  className={`w-full h-full flex items-center px-3 sm:px-4 transition-colors relative rounded-lg ${\n                    isActive\n                      ? 'bg-[#1b6145] text-white'\n                      : item.id === 'chat'\n                        ? 'text-[#1b6145] hover:bg-[#1b6145]/10 border border-[#1b6145]'\n                        : 'text-[#202224] hover:bg-gray-50'\n                  }`}\n                >\n                  {/* Icon */}\n                  <div className=\"w-6 sm:w-8 text-center mr-2 sm:mr-3\">\n                    {typeof item.icon === 'function' ? (\n                      <item.icon color={\n                        isActive\n                          ? \"white\"\n                          : item.id === 'chat'\n                            ? \"#1b6145\"\n                            : \"#202224\"\n                      } />\n                    ) : (\n                      <span className={`text-[18px] sm:text-[22px] ${\n                        isActive\n                          ? \"text-white\"\n                          : item.id === 'chat'\n                            ? \"text-[#1b6145]\"\n                            : \"text-[#202224]\"\n                      }`}>\n                        {item.icon}\n                      </span>\n                    )}\n                  </div>\n\n                  {/* Label */}\n                  <span className={`font-nunito font-semibold text-[12px] sm:text-[14px] tracking-[0.3px] ${\n                    isActive\n                      ? \"text-white\"\n                      : item.id === 'chat'\n                        ? \"text-[#1b6145]\"\n                        : \"text-[#202224]\"\n                  }`}>\n                    {item.label}\n                  </span>\n                </button>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* AI Chat Modal */}\n      {isChatOpen && (\n        <DraggableChatModal\n          isOpen={isChatOpen}\n          onClose={() => setIsChatOpen(false)}\n          userType=\"supplier\"\n        />\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":9094,"size_tokens":null},"src/components/vendor/products/ProductsTable.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport ProductTableHeader from './ProductTableHeader';\nimport ProductRow from './ProductRow';\nimport productsService from '../../../services/productsService';\nimport supplierAnalyticsService from '../../../services/supplierAnalyticsService';\n\nexport default function ProductsTable({ refreshTrigger }) {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    page_size: 10,\n    total: 0,\n    total_pages: 0\n  });\n\n  useEffect(() => {\n    fetchProducts();\n  }, [pagination.page, refreshTrigger]);\n\n  const fetchProducts = async () => {\n    try {\n      setLoading(true);\n      setError(null); // Clear previous errors\n      console.log('Fetching products with params:', { page: pagination.page, page_size: pagination.page_size });\n      \n      const result = await productsService.getSupplierProducts({\n        page: pagination.page,\n        page_size: pagination.page_size\n      });\n      \n      console.log('Products fetch result:', result);\n      \n      // Fetch inventory data for each product\n      const productsWithInventory = await Promise.all(\n        (result.items || []).map(async (product) => {\n          try {\n            const inventoryData = await supplierAnalyticsService.getProductInventory(product.id);\n            return {\n              ...product,\n              inventory: inventoryData && Array.isArray(inventoryData) ? inventoryData : [inventoryData].filter(Boolean)\n            };\n          } catch (error) {\n            console.warn(`Failed to fetch inventory for product ${product.id}:`, error);\n            return {\n              ...product,\n              inventory: [] // Empty inventory if fetch fails\n            };\n          }\n        })\n      );\n      \n      setProducts(productsWithInventory);\n      setPagination(prev => ({\n        ...prev,\n        total: result.total || 0,\n        total_pages: result.total_pages || 0\n      }));\n    } catch (error) {\n      console.error('Failed to fetch products:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handlePageChange = (newPage) => {\n    setPagination(prev => ({ ...prev, page: newPage }));\n  };\n\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR'\n    }).format(price || 0);\n  };\n\n  const getStatusBadge = (status, approvalStatus) => {\n    if (approvalStatus === 'pending') {\n      return { text: 'Pending Review', color: '#fbbf24' };\n    } else if (approvalStatus === 'rejected') {\n      return { text: 'Rejected', color: '#ef4444' };\n    } else if (status === 'active') {\n      return { text: 'Active', color: '#10b981' };\n    } else if (status === 'inactive') {\n      return { text: 'Inactive', color: '#6b7280' };\n    } else {\n      return { text: 'Draft', color: '#9ca3af' };\n    }\n  };\n\n  if (loading && products.length === 0) {\n    return (\n      <div className=\"bg-white rounded-[14px] border border-[#c6c6c6] overflow-hidden\">\n        <ProductTableHeader />\n        <div className=\"p-4 sm:p-8\">\n          <div className=\"animate-pulse space-y-4\">\n            {[1, 2, 3, 4].map((i) => (\n              <div key={i} className=\"flex items-center space-x-4\">\n                <div className=\"w-12 h-12 sm:w-16 sm:h-16 bg-gray-200 rounded\"></div>\n                <div className=\"flex-1 space-y-2\">\n                  <div className=\"h-3 sm:h-4 bg-gray-200 rounded w-1/4\"></div>\n                  <div className=\"h-2 sm:h-3 bg-gray-200 rounded w-1/2\"></div>\n                </div>\n                <div className=\"w-16 sm:w-20 h-3 sm:h-4 bg-gray-200 rounded\"></div>\n                <div className=\"w-12 sm:w-16 h-3 sm:h-4 bg-gray-200 rounded\"></div>\n                <div className=\"w-16 sm:w-20 h-4 sm:h-6 bg-gray-200 rounded\"></div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-white rounded-[14px] border border-[#c6c6c6] p-8 text-center\">\n        <p className=\"text-red-500\">Failed to load products: {error}</p>\n        <button \n          onClick={fetchProducts}\n          className=\"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors\"\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-[14px] border border-[#c6c6c6] p-4 sm:p-6\">\n      {/* Table Header Info */}\n      <div className=\"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-4 sm:mb-6 gap-2\">\n        <div>\n          <h3 className=\"text-[14px] sm:text-[16px] font-inter font-semibold text-black mb-1 sm:mb-2\">\n            Product Information\n          </h3>\n          <p className=\"text-[13px] sm:text-[15px] font-inter font-medium text-[#909090]\">\n            Information about stocks and restocking\n          </p>\n        </div>\n\n        {/* Pagination Info */}\n        <div className=\"bg-[#fcfdfd] border border-[#818181] rounded-[4px] px-3 py-2 flex items-center gap-2 self-start\">\n          <span className=\"text-[12px] text-[rgba(0,0,0,0.4)] font-reem-kufi\">\n            Page {pagination.page} of {pagination.total_pages}\n          </span>\n        </div>\n      </div>\n      \n      {/* Table */}\n      <div className=\"space-y-3\">\n        <ProductTableHeader />\n        {products.length === 0 ? (\n          <div className=\"text-center py-8\">\n            <p className=\"text-gray-500\">No products found</p>\n          </div>\n        ) : (\n          products.map((product) => {\n            const statusBadge = getStatusBadge(product.status, product.approval_status);\n            const primaryImage = product.images?.find(img => img.is_primary)?.url || \n                               product.images?.[0]?.url || \n                               '/placeholder-product.jpg';\n            \n            // Transform product data to match ProductRow expectations\n            const transformedProduct = {\n              id: product.id,\n              name: product.name,\n              vendor: 'Your Store', // Since this is supplier's own products\n              description: product.short_description || product.description || 'No description',\n              category: product.category?.name || 'Uncategorized',\n              price: formatPrice(product.price),\n              stock: product.inventory?.[0]?.available_quantity || 0,\n              status: product.status, // Pass the actual status\n              visibility: product.visibility || 'visible', // Pass visibility status, default to visible\n              statusText: statusBadge.text, // Display text\n              statusColor: statusBadge.color,\n              image: primaryImage,\n              sku: product.sku,\n              inventory: product.inventory // Pass inventory data for stock display\n            };\n            \n            return <ProductRow key={product.id} product={transformedProduct} onProductUpdated={fetchProducts} />;\n          })\n        )}\n      </div>\n      \n      {/* Pagination */}\n      {pagination.total_pages > 1 && (\n        <div className=\"flex justify-center items-center gap-2 mt-6\">\n          <button \n            onClick={() => handlePageChange(pagination.page - 1)}\n            disabled={pagination.page <= 1}\n            className=\"px-3 py-1 border rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\n          >\n            Previous\n          </button>\n          \n          <span className=\"px-3 py-1 text-sm text-gray-600\">\n            Page {pagination.page} of {pagination.total_pages}\n          </span>\n          \n          <button \n            onClick={() => handlePageChange(pagination.page + 1)}\n            disabled={pagination.page >= pagination.total_pages}\n            className=\"px-3 py-1 border rounded disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\n          >\n            Next\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":8066,"size_tokens":null},"tailwind.config.js":{"content":"/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  content: [\n    \"./src/pages/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./src/components/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./src/app/**/*.{js,ts,jsx,tsx,mdx}\",\n  ],\n  theme: {\n    extend: {\n      colors: {\n        // Modern emerald-based brand colors\n        'brand': {\n          50: '#ecfdf5',\n          100: '#d1fae5', \n          200: '#a7f3d0',\n          300: '#6ee7b7',\n          400: '#34d399',\n          500: '#10b981', // emerald-500 - primary brand color\n          600: '#059669', // emerald-600 - primary action color\n          700: '#047857', // emerald-700 - primary text/logo color\n          800: '#065f46',\n          900: '#064e3b',\n        },\n        \n        // Legacy support - map to emerald equivalents\n        'green-primary': '#047857', // emerald-700\n        'green-secondary': '#059669', // emerald-600\n        'green-accent': '#10b981', // emerald-500\n        'green-light': '#d1fae5', // emerald-100\n        'green-subtle': '#ecfdf5', // emerald-50\n        \n        // Eco colors - modern emerald palette\n        'eco-primary': '#047857', // emerald-700\n        'eco-secondary': '#059669', // emerald-600\n        'eco-accent': '#10b981', // emerald-500\n        'eco-light': '#d1fae5', // emerald-100\n        'eco-subtle': '#ecfdf5', // emerald-50\n        'carbon-neutral': '#065f46', // emerald-800\n        'organic': '#34d399', // emerald-400\n        'renewable': '#6ee7b7', // emerald-300\n        \n        // Semantic colors\n        'success': 'var(--color-success)',\n        'warning': 'var(--color-warning)',\n        'error': 'var(--color-error)',\n        'info': 'var(--color-info)',\n        \n        // Modern surface colors\n        'background': '#f9fafb', // gray-50\n        'surface': '#ffffff', // white\n        'surface-elevated': '#f3f4f6', // gray-100\n        \n        // Modern text colors\n        'text-primary': '#111827', // gray-900\n        'text-secondary': '#374151', // gray-700\n        'text-tertiary': '#6b7280', // gray-500\n        \n        // Neutral scale\n        'neutral': {\n          50: 'var(--color-neutral-50)',\n          100: 'var(--color-neutral-100)',\n          200: 'var(--color-neutral-200)',\n          400: 'var(--color-neutral-400)',\n          500: 'var(--color-neutral-500)',\n          700: 'var(--color-neutral-700)',\n          800: 'var(--color-neutral-800)',\n          900: 'var(--color-neutral-900)',\n        }\n      },\n      fontFamily: {\n        'sans': 'var(--font-sans)',\n        'mono': 'var(--font-mono)',\n        'eb-garamond': 'var(--font-eb-garamond)',\n        'reem': [\"var(--font-reemkufi)\", \"sans-serif\"],\n        'poppins': [\"var(--font-poppins)\", \"sans-serif\"],\n        'inter': [\"Inter\", \"sans-serif\"],\n        'nunito': [\"Nunito Sans\", \"sans-serif\"],\n        'dancing-script': ['Dancing Script', 'cursive'],\n      },\n      fontSize: {\n        'xs': 'var(--text-xs)',\n        'sm': 'var(--text-sm)',\n        'base': 'var(--text-base)',\n        'lg': 'var(--text-lg)',\n        'xl': 'var(--text-xl)',\n        '2xl': 'var(--text-2xl)',\n        '3xl': 'var(--text-3xl)',\n        '4xl': 'var(--text-4xl)',\n        '5xl': 'var(--text-5xl)',\n        '6xl': 'var(--text-6xl)',\n      },\n      lineHeight: {\n        'none': 'var(--leading-none)',\n        'tight': 'var(--leading-tight)',\n        'snug': 'var(--leading-snug)',\n        'normal': 'var(--leading-normal)',\n        'relaxed': 'var(--leading-relaxed)',\n        'loose': 'var(--leading-loose)',\n      },\n      spacing: {\n        '0': 'var(--spacing-0)',\n        '1': 'var(--spacing-1)',\n        '2': 'var(--spacing-2)',\n        '3': 'var(--spacing-3)',\n        '4': 'var(--spacing-4)',\n        '5': 'var(--spacing-5)',\n        '6': 'var(--spacing-6)',\n        '8': 'var(--spacing-8)',\n        '10': 'var(--spacing-10)',\n        '12': 'var(--spacing-12)',\n        '16': 'var(--spacing-16)',\n        '20': 'var(--spacing-20)',\n        '24': 'var(--spacing-24)',\n      },\n      boxShadow: {\n        card: \"0 6px 24px rgba(0,0,0,0.06)\",\n        'card-hover': \"0 12px 32px rgba(0,0,0,0.10)\",\n      },\n      backgroundImage: {\n        'gradient-moss': 'linear-gradient(135deg, #10b981 0%, #047857 100%)', // emerald-500 to emerald-700\n        'gradient-emerald': 'linear-gradient(135deg, #059669 0%, #047857 100%)', // emerald-600 to emerald-700\n        'gradient-brand': 'linear-gradient(135deg, #ecfdf5 0%, #d1fae5 100%)', // emerald-50 to emerald-100\n      },\n      keyframes: {\n        blob: {\n          '0%': { transform: 'translate(0px, 0px) scale(1)' },\n          '33%': { transform: 'translate(10px, -10px) scale(1.05)' },\n          '66%': { transform: 'translate(-10px, 10px) scale(0.95)' },\n          '100%': { transform: 'translate(0px, 0px) scale(1)' },\n        },\n        float: {\n          '0%': { transform: 'translateY(0px)' },\n          '50%': { transform: 'translateY(-6px)' },\n          '100%': { transform: 'translateY(0px)' },\n        },\n        shimmer: {\n          '0%': { backgroundPosition: '-200% 0' },\n          '100%': { backgroundPosition: '200% 0' },\n        },\n        'slide-in-up': {\n          '0%': { opacity: 0, transform: 'translateY(10px)' },\n          '100%': { opacity: 1, transform: 'translateY(0)' },\n        },\n        'slideInUp': {\n          '0%': { opacity: 0, transform: 'translateY(30px)' },\n          '100%': { opacity: 1, transform: 'translateY(0)' },\n        },\n      },\n      animation: {\n        blob: 'blob 12s ease-in-out infinite',\n        float: 'float 6s ease-in-out infinite',\n        shimmer: 'shimmer 1.8s linear infinite',\n        'slide-in-up': 'slide-in-up 300ms ease-out both',\n        'slideInUp': 'slideInUp 0.6s ease-out forwards',\n      }\n    },\n  },\n  plugins: [],\n};\n","path":null,"size_bytes":5717,"size_tokens":null},"src/app/profile/page.jsx":{"content":"import { redirect } from \"next/navigation\";\n\nexport default function ProfileRedirect() {\n  redirect(\"/account/dashboard\");\n}\n\n\n","path":null,"size_bytes":127,"size_tokens":null},"src/app/admin/layout.jsx":{"content":"import { Geist, Geist_Mono, EB_Garamond, Poppins, Inter } from \"next/font/google\";\n\nconst geistSans = Geist({\n  variable: \"--font-geist-sans\",\n  subsets: [\"latin\"],\n});\n\nconst geistMono = Geist_Mono({\n  variable: \"--font-geist-mono\",\n  subsets: [\"latin\"],\n});\n\nconst ebGaramond = EB_Garamond({\n  variable: \"--font-eb-garamond\",\n  subsets: [\"latin\"],\n});\n\nconst poppins = Poppins({\n  variable: \"--font-poppins\",\n  subsets: [\"latin\"],\n  weight: [\"100\", \"200\", \"300\", \"400\", \"500\", \"600\", \"700\", \"800\", \"900\"],\n});\n\nconst inter = Inter({\n  variable: \"--font-inter\",\n  subsets: [\"latin\"],\n});\n\nexport const metadata = {\n  title: \"AveoEarth Admin\",\n  description: \"Admin panel for AveoEarth e-commerce platform\",\n};\n\nexport default function AdminLayout({ children }) {\n  return (\n    <html lang=\"en\">\n      <head>\n        <title>{metadata.title}</title>\n        <meta name=\"description\" content={metadata.description} />\n      </head>\n      <body\n        className={`${geistSans.variable} ${geistMono.variable} ${ebGaramond.variable} ${poppins.variable} ${inter.variable} antialiased bg-white`}\n        suppressHydrationWarning={true}\n      >\n        {children}\n      </body>\n    </html>\n  );\n}\n","path":null,"size_bytes":1190,"size_tokens":null},"src/components/ui/TermsModal.jsx":{"content":"'use client';\n\nimport { useState } from 'react';\nimport { X } from 'lucide-react';\n\nexport default function TermsModal({ isOpen, onClose }) {\n  const [isScrolledToBottom, setIsScrolledToBottom] = useState(false);\n\n  const handleScroll = (e) => {\n    const { scrollTop, scrollHeight, clientHeight } = e.target;\n    const isAtBottom = scrollTop + clientHeight >= scrollHeight - 10;\n    setIsScrolledToBottom(isAtBottom);\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n          <div>\n            <h2 className=\"text-2xl font-bold text-gray-900\">Terms & Conditions</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">Please read carefully before proceeding</p>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <X size={24} />\n          </button>\n        </div>\n\n        {/* Scrollable Content */}\n        <div \n          className=\"flex-1 overflow-y-auto p-6\"\n          onScroll={handleScroll}\n        >\n          <div className=\"prose max-w-none\">\n            <div className=\"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6\">\n              <h3 className=\"text-lg font-semibold text-yellow-800 mb-2\">\n                DIGITAL ACCEPTANCE & BINDING CONSENT\n              </h3>\n              <p className=\"text-yellow-700 text-sm\">\n                <strong>IMPORTANT NOTICE:</strong> These Terms & Conditions (\"Agreement\") govern your use of the\n                AveoEarth marketplace platform operated by AveoEarth Impact Private Limited (\"AveoEarth\",\n                \"Company\", \"we\", \"us\").\n              </p>\n              <p className=\"text-yellow-700 text-sm mt-2\">\n                <strong>BY CLICKING \"I AGREE AND ACCEPT\" BELOW, YOU ACKNOWLEDGE AND CONFIRM:</strong><br />\n                This creates a LEGALLY BINDING contract under Indian law and your acceptance is recorded with\n                timestamp, IP address, and digital audit trail as permitted by law.\n              </p>\n            </div>\n\n            <section className=\"mb-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">1. DEFINITIONS & INTERPRETATION</h3>\n              \n              <h4 className=\"text-md font-medium text-gray-800 mb-2\">1.1 Key Definitions</h4>\n              <ul className=\"list-disc list-inside space-y-1 text-gray-700 text-sm mb-3\">\n                <li><strong>\"Platform\":</strong> AveoEarth's online marketplace accessible at aveoearth.com and mobile applications</li>\n                <li><strong>\"Vendor\":</strong> Any individual or entity selling products through the Platform</li>\n                <li><strong>\"Customer\":</strong> End users purchasing products through the Platform</li>\n                <li><strong>\"Products\":</strong> All goods, services, and digital content offered by Vendors</li>\n                <li><strong>\"Agreement\":</strong> These Terms & Conditions including all referenced policies and addendums</li>\n              </ul>\n\n              <h4 className=\"text-md font-medium text-gray-800 mb-2\">1.2 Relationship of Parties</h4>\n              <ul className=\"list-disc list-inside space-y-1 text-gray-700 text-sm\">\n                <li>Vendors are independent contractors, not employees, agents, or partners of AveoEarth</li>\n                <li>AveoEarth operates as a technology platform facilitator connecting Vendors with Customers</li>\n                <li>AveoEarth is NOT a seller, buyer, distributor, or marketplace participant</li>\n                <li>No joint venture, partnership, or agency relationship exists between the parties</li>\n              </ul>\n            </section>\n\n            <section className=\"mb-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">2. VENDOR ONBOARDING & ENHANCED COMPLIANCE</h3>\n              \n              <h4 className=\"text-md font-medium text-gray-800 mb-2\">2.1 Registration Requirements</h4>\n              <p className=\"text-gray-700 text-sm mb-2\">All Vendors must provide complete and accurate documentation:</p>\n              <ul className=\"list-disc list-inside space-y-1 text-gray-700 text-sm mb-3\">\n                <li><strong>Basic KYC:</strong> PAN, GSTIN, Udyam Registration, Incorporation/Identity Proofs</li>\n                <li><strong>Enhanced Verification:</strong> Beneficial ownership disclosure (25%+ shareholding)</li>\n                <li><strong>Industry Licenses:</strong> Sector-specific permits, quality certifications where applicable</li>\n                <li><strong>Financial Information:</strong> Bank account details, tax compliance certificates</li>\n              </ul>\n\n              <h4 className=\"text-md font-medium text-gray-800 mb-2\">2.2 Ongoing Compliance Obligations</h4>\n              <ul className=\"list-disc list-inside space-y-1 text-gray-700 text-sm\">\n                <li><strong>Annual Re-verification:</strong> Complete documentation renewal within 30 days</li>\n                <li><strong>Real-time Monitoring:</strong> Automated system alerts for compliance deviations</li>\n                <li><strong>Additional Documentation:</strong> AveoEarth may demand supplementary documents</li>\n                <li><strong>Compliance Training:</strong> Mandatory participation in platform training programs</li>\n              </ul>\n            </section>\n\n            <section className=\"mb-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">3. PRODUCT & SERVICE STANDARDS</h3>\n              \n              <h4 className=\"text-md font-medium text-gray-800 mb-2\">3.1 Product Quality & Authenticity</h4>\n              <p className=\"text-gray-700 text-sm mb-2\">Vendors warrant that all Products are:</p>\n              <ul className=\"list-disc list-inside space-y-1 text-gray-700 text-sm mb-3\">\n                <li><strong>Genuine and Non-counterfeit</strong> with authentic manufacturer authorization</li>\n                <li><strong>Legally Compliant</strong> with all applicable Indian laws and regulations</li>\n                <li><strong>Quality Assured</strong> meeting BIS/ISI standards where applicable</li>\n                <li><strong>Safely Packaged</strong> with appropriate labeling and handling instructions</li>\n                <li><strong>Accurately Described</strong> with no misleading claims or representations</li>\n              </ul>\n\n              <h4 className=\"text-md font-medium text-gray-800 mb-2\">3.2 Service Level Standards</h4>\n              <p className=\"text-gray-700 text-sm mb-2\">Vendors are expected to maintain high service standards including:</p>\n              <ul className=\"list-disc list-inside space-y-1 text-gray-700 text-sm\">\n                <li><strong>Timely Order Confirmation:</strong> Prompt acknowledgment of customer orders</li>\n                <li><strong>Efficient Dispatch:</strong> Timely processing and shipment of products</li>\n                <li><strong>Return Processing:</strong> Professional handling of customer returns and exchanges</li>\n                <li><strong>Customer Rating Maintenance:</strong> Consistent delivery of satisfactory experience</li>\n                <li><strong>Responsive Communication:</strong> Timely response to queries and communications</li>\n              </ul>\n            </section>\n\n            <section className=\"mb-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">4. TIER-BASED BENEFITS & PAYMENT FRAMEWORK</h3>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4\">\n                <div className=\"border border-gray-300 rounded p-3\">\n                  <h5 className=\"font-semibold text-green-600 text-sm mb-1\">FREE TIER:</h5>\n                  <ul className=\"list-disc list-inside space-y-1 text-xs text-gray-600\">\n                    <li>Basic platform access</li>\n                    <li>Payment cycle: T+21 days</li>\n                    <li>Basic customer support</li>\n                  </ul>\n                </div>\n                \n                <div className=\"border border-blue-300 rounded p-3\">\n                  <h5 className=\"font-semibold text-blue-600 text-sm mb-1\">PREMIUM TIER:</h5>\n                  <ul className=\"list-disc list-inside space-y-1 text-xs text-gray-600\">\n                    <li>Enhanced product visibility</li>\n                    <li>Payment cycle: T+15 days</li>\n                    <li>Priority customer support</li>\n                  </ul>\n                </div>\n                \n                <div className=\"border border-yellow-300 rounded p-3\">\n                  <h5 className=\"font-semibold text-yellow-600 text-sm mb-1\">GOLD TIER:</h5>\n                  <ul className=\"list-disc list-inside space-y-1 text-xs text-gray-600\">\n                    <li>Priority search placement</li>\n                    <li>Payment cycle: T+10 days</li>\n                    <li>Dedicated account manager</li>\n                  </ul>\n                </div>\n                \n                <div className=\"border border-purple-300 rounded p-3\">\n                  <h5 className=\"font-semibold text-purple-600 text-sm mb-1\">PLATINUM TIER:</h5>\n                  <ul className=\"list-disc list-inside space-y-1 text-xs text-gray-600\">\n                    <li>Maximum product visibility</li>\n                    <li>Payment cycle: T+5 days</li>\n                    <li>Premium account management</li>\n                  </ul>\n                </div>\n              </div>\n\n              <h4 className=\"text-md font-medium text-gray-800 mb-2\">4.2 Payment Terms</h4>\n              <ul className=\"list-disc list-inside space-y-1 text-gray-700 text-sm\">\n                <li><strong>Payment Method:</strong> Electronic transfer to registered bank account only</li>\n                <li><strong>Currency:</strong> Indian Rupees (INR) unless specifically agreed otherwise</li>\n                <li><strong>Zero Commission:</strong> AveoEarth operates on a zero-commission model for product sales</li>\n                <li><strong>Platform Fees:</strong> Applicable only for premium tier services</li>\n              </ul>\n            </section>\n\n            <section className=\"mb-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">5. INTELLECTUAL PROPERTY PROTECTION</h3>\n              \n              <h4 className=\"text-md font-medium text-gray-800 mb-2\">5.1 IP Warranties</h4>\n              <p className=\"text-gray-700 text-sm mb-2\">Vendor warrants and guarantees:</p>\n              <ul className=\"list-disc list-inside space-y-1 text-gray-700 text-sm\">\n                <li><strong>Ownership Rights:</strong> Full ownership or licensed rights to all Product IP</li>\n                <li><strong>No Infringement:</strong> Products do not violate any patent, trademark, copyright</li>\n                <li><strong>Authentic Authorization:</strong> Valid authorization from brand owners</li>\n                <li><strong>Trade Secret Protection:</strong> No unauthorized use of confidential information</li>\n              </ul>\n            </section>\n\n            <div className=\"bg-gray-50 border border-gray-200 rounded p-4 mt-6\">\n              <h4 className=\"text-md font-semibold text-gray-900 mb-2\">Contact Information</h4>\n              <p className=\"text-gray-700 text-sm\">\n                For any questions regarding these Terms & Conditions, please contact our support team at{' '}\n                <a href=\"mailto:support@aveoearth.com\" className=\"text-blue-600 hover:text-blue-800 underline\">\n                  support@aveoearth.com\n                </a>\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"border-t border-gray-200 p-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"text-sm text-gray-600\">\n              {!isScrolledToBottom && (\n                <span className=\"text-orange-600 font-medium\">\n                  ⚠️ Please scroll down to read the complete terms\n                </span>\n              )}\n              {isScrolledToBottom && (\n                <span className=\"text-green-600 font-medium\">\n                  ✅ You have read the complete terms\n                </span>\n              )}\n            </div>\n            <div className=\"flex gap-3\">\n              <button\n                onClick={onClose}\n                className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n              >\n                Close\n              </button>\n              <a\n                href=\"/terms\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n              >\n                View Full Page\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":13209,"size_tokens":null},"src/components/vendor/SettingsContent.jsx":{"content":"import Card, { CardContent, CardHeader } from \"../ui/Card\";\n\nexport default function SettingsContent() {\n  return (\n    <div className=\"p-4 sm:p-6\">\n      <div className=\"bg-white rounded-lg border border-gray-200 p-4 sm:p-6\">\n        <h2 className=\"text-lg sm:text-xl font-bold mb-4\">Account Settings</h2>\n        <p className=\"text-sm sm:text-base text-gray-600\">Manage your account settings here.</p>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":435,"size_tokens":null},"src/components/admin/screens/AnalyticsScreen.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { \n  ChartBarIcon, \n  TrendingUpIcon, \n  TrendingDownIcon,\n  CurrencyDollarIcon,\n  ShoppingBagIcon,\n  UsersIcon,\n  CubeIcon,\n  TruckIcon,\n  EyeIcon,\n  ArrowDownTrayIcon\n} from \"@heroicons/react/24/outline\";\nimport adminService from \"@/services/adminService\";\n\nexport default function AnalyticsScreen() {\n  const [timeRange, setTimeRange] = useState(\"30d\");\n  const [loading, setLoading] = useState(true);\n  const [analyticsData, setAnalyticsData] = useState({\n    overview: {},\n    sales: [],\n    users: [],\n    products: [],\n    orders: [],\n    topProducts: [],\n    revenue: [],\n    conversion: []\n  });\n\n  useEffect(() => {\n    fetchAnalyticsData();\n  }, [timeRange]);\n\n  const fetchAnalyticsData = async () => {\n    try {\n      setLoading(true);\n      \n      // Fetch all analytics data\n      const [dashboardStats, salesData, topProducts] = await Promise.all([\n        adminService.getDashboardStats(),\n        adminService.getSalesChartData({ period: timeRange }),\n        adminService.getTopProducts({ period: timeRange, limit: 10 })\n      ]);\n\n      // Mock additional analytics data (in real app, these would come from API)\n      const mockAnalytics = {\n        overview: {\n          totalRevenue: 125430,\n          totalOrders: 342,\n          totalUsers: 1250,\n          totalProducts: 28,\n          revenueGrowth: 12.5,\n          ordersGrowth: 8.3,\n          usersGrowth: 15.2,\n          productsGrowth: 5.7\n        },\n        sales: salesData.data || [],\n        users: generateMockUserData(),\n        products: generateMockProductData(),\n        orders: generateMockOrderData(),\n        topProducts: topProducts || [],\n        revenue: generateMockRevenueData(),\n        conversion: generateMockConversionData()\n      };\n\n      setAnalyticsData(mockAnalytics);\n    } catch (error) {\n      console.error('Failed to fetch analytics data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const generateMockUserData = () => [\n    { month: \"Jan\", new: 120, returning: 80 },\n    { month: \"Feb\", new: 150, returning: 95 },\n    { month: \"Mar\", new: 180, returning: 110 },\n    { month: \"Apr\", new: 200, returning: 125 },\n    { month: \"May\", new: 220, returning: 140 },\n    { month: \"Jun\", new: 250, returning: 160 }\n  ];\n\n  const generateMockProductData = () => [\n    { category: \"Eco-Friendly\", count: 45, revenue: 25000 },\n    { category: \"Organic\", count: 32, revenue: 18000 },\n    { category: \"Sustainable\", count: 28, revenue: 22000 },\n    { category: \"Zero-Waste\", count: 15, revenue: 12000 }\n  ];\n\n  const generateMockOrderData = () => [\n    { status: \"Completed\", count: 280, percentage: 82 },\n    { status: \"Processing\", count: 35, percentage: 10 },\n    { status: \"Pending\", count: 20, percentage: 6 },\n    { status: \"Cancelled\", count: 7, percentage: 2 }\n  ];\n\n  const generateMockRevenueData = () => [\n    { month: \"Jan\", revenue: 15000, orders: 45 },\n    { month: \"Feb\", revenue: 18000, orders: 52 },\n    { month: \"Mar\", revenue: 22000, orders: 68 },\n    { month: \"Apr\", revenue: 25000, orders: 75 },\n    { month: \"May\", revenue: 28000, orders: 82 },\n    { month: \"Jun\", revenue: 32000, orders: 95 }\n  ];\n\n  const generateMockConversionData = () => [\n    { source: \"Organic Search\", visitors: 1200, conversions: 48, rate: 4.0 },\n    { source: \"Social Media\", visitors: 800, conversions: 24, rate: 3.0 },\n    { source: \"Direct\", visitors: 600, conversions: 30, rate: 5.0 },\n    { source: \"Email\", visitors: 400, conversions: 28, rate: 7.0 },\n    { source: \"Referral\", visitors: 300, conversions: 18, rate: 6.0 }\n  ];\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      maximumFractionDigits: 0\n    }).format(amount || 0);\n  };\n\n  const formatNumber = (num) => {\n    return new Intl.NumberFormat('en-IN').format(num || 0);\n  };\n\n  const formatPercentage = (num) => {\n    return `${num > 0 ? '+' : ''}${num.toFixed(1)}%`;\n  };\n\n  if (loading) {\n  return (\n    <div className=\"space-y-6\">\n      <h1 className=\"text-2xl font-semibold text-black\">Analytics</h1>\n        <div className=\"animate-pulse\">\n          <div className=\"grid grid-cols-4 gap-6\">\n            {[...Array(4)].map((_, i) => (\n              <div key={i} className=\"bg-gray-200 h-32 rounded-xl\"></div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-2xl font-semibold text-black\">Analytics Dashboard</h1>\n        <div className=\"flex items-center gap-4\">\n          <select\n            value={timeRange}\n            onChange={(e) => setTimeRange(e.target.value)}\n            className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n          >\n            <option value=\"7d\">Last 7 days</option>\n            <option value=\"30d\">Last 30 days</option>\n            <option value=\"90d\">Last 90 days</option>\n            <option value=\"1y\">Last year</option>\n          </select>\n          <button\n            onClick={fetchAnalyticsData}\n            className=\"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center gap-2\"\n          >\n            <ArrowDownTrayIcon className=\"h-4 w-4\" />\n            Export Report\n          </button>\n        </div>\n      </div>\n\n      {/* Overview Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Total Revenue</p>\n              <p className=\"text-2xl font-bold text-gray-900\">{formatCurrency(analyticsData.overview.totalRevenue)}</p>\n            </div>\n            <div className=\"p-3 bg-emerald-100 rounded-lg\">\n              <CurrencyDollarIcon className=\"h-6 w-6 text-emerald-600\" />\n            </div>\n          </div>\n          <div className=\"mt-4 flex items-center\">\n            <TrendingUpIcon className=\"h-4 w-4 text-emerald-500 mr-1\" />\n            <span className=\"text-sm text-emerald-600 font-medium\">\n              {formatPercentage(analyticsData.overview.revenueGrowth)}\n            </span>\n            <span className=\"text-sm text-gray-500 ml-2\">vs last period</span>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Total Orders</p>\n              <p className=\"text-2xl font-bold text-gray-900\">{formatNumber(analyticsData.overview.totalOrders)}</p>\n            </div>\n            <div className=\"p-3 bg-blue-100 rounded-lg\">\n              <ShoppingBagIcon className=\"h-6 w-6 text-blue-600\" />\n            </div>\n          </div>\n          <div className=\"mt-4 flex items-center\">\n            <TrendingUpIcon className=\"h-4 w-4 text-emerald-500 mr-1\" />\n            <span className=\"text-sm text-emerald-600 font-medium\">\n              {formatPercentage(analyticsData.overview.ordersGrowth)}\n            </span>\n            <span className=\"text-sm text-gray-500 ml-2\">vs last period</span>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Total Users</p>\n              <p className=\"text-2xl font-bold text-gray-900\">{formatNumber(analyticsData.overview.totalUsers)}</p>\n            </div>\n            <div className=\"p-3 bg-purple-100 rounded-lg\">\n              <UsersIcon className=\"h-6 w-6 text-purple-600\" />\n            </div>\n          </div>\n          <div className=\"mt-4 flex items-center\">\n            <TrendingUpIcon className=\"h-4 w-4 text-emerald-500 mr-1\" />\n            <span className=\"text-sm text-emerald-600 font-medium\">\n              {formatPercentage(analyticsData.overview.usersGrowth)}\n            </span>\n            <span className=\"text-sm text-gray-500 ml-2\">vs last period</span>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Active Products</p>\n              <p className=\"text-2xl font-bold text-gray-900\">{formatNumber(analyticsData.overview.totalProducts)}</p>\n            </div>\n            <div className=\"p-3 bg-orange-100 rounded-lg\">\n              <CubeIcon className=\"h-6 w-6 text-orange-600\" />\n            </div>\n          </div>\n          <div className=\"mt-4 flex items-center\">\n            <TrendingUpIcon className=\"h-4 w-4 text-emerald-500 mr-1\" />\n            <span className=\"text-sm text-emerald-600 font-medium\">\n              {formatPercentage(analyticsData.overview.productsGrowth)}\n            </span>\n            <span className=\"text-sm text-gray-500 ml-2\">vs last period</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Charts Row */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Revenue Chart */}\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Revenue Trend</h3>\n          <div className=\"h-64 flex items-end justify-between gap-2\">\n            {analyticsData.revenue.map((item, index) => (\n              <div key={index} className=\"flex flex-col items-center flex-1\">\n                <div \n                  className=\"w-full bg-emerald-500 rounded-t\"\n                  style={{ height: `${(item.revenue / 35000) * 200}px` }}\n                    ></div>\n                <span className=\"text-xs text-gray-500 mt-2\">{item.month}</span>\n                <span className=\"text-xs font-medium text-gray-700\">{formatCurrency(item.revenue)}</span>\n                </div>\n              ))}\n            </div>\n        </div>\n\n        {/* User Growth Chart */}\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">User Growth</h3>\n          <div className=\"h-64 flex items-end justify-between gap-2\">\n            {analyticsData.users.map((item, index) => (\n              <div key={index} className=\"flex flex-col items-center flex-1\">\n                <div className=\"flex gap-1 mb-1\">\n                  <div \n                    className=\"w-4 bg-blue-500 rounded-t\"\n                    style={{ height: `${(item.new / 300) * 150}px` }}\n                    title={`New: ${item.new}`}\n                  ></div>\n                  <div \n                    className=\"w-4 bg-purple-500 rounded-t\"\n                    style={{ height: `${(item.returning / 200) * 150}px` }}\n                    title={`Returning: ${item.returning}`}\n                      ></div>\n                    </div>\n                <span className=\"text-xs text-gray-500\">{item.month}</span>\n                </div>\n              ))}\n            </div>\n          <div className=\"flex items-center justify-center gap-4 mt-4\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-3 h-3 bg-blue-500 rounded\"></div>\n              <span className=\"text-sm text-gray-600\">New Users</span>\n        </div>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-3 h-3 bg-purple-500 rounded\"></div>\n              <span className=\"text-sm text-gray-600\">Returning Users</span>\n              </div>\n              </div>\n            </div>\n              </div>\n\n      {/* Bottom Row */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        {/* Top Products */}\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Top Products</h3>\n          <div className=\"space-y-4\">\n            {analyticsData.topProducts.slice(0, 5).map((product, index) => (\n              <div key={index} className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-8 h-8 bg-gray-200 rounded-lg flex items-center justify-center\">\n                    <span className=\"text-sm font-medium text-gray-600\">#{index + 1}</span>\n              </div>\n                  <div>\n                    <p className=\"text-sm font-medium text-gray-900\">{product.name}</p>\n                    <p className=\"text-xs text-gray-500\">{product.orders} orders</p>\n              </div>\n              </div>\n                <div className=\"text-right\">\n                  <p className=\"text-sm font-medium text-gray-900\">{product.likes} likes</p>\n              </div>\n            </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Order Status */}\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Order Status</h3>\n            <div className=\"space-y-4\">\n            {analyticsData.orders.map((order, index) => (\n              <div key={index} className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                  <div className={`w-3 h-3 rounded-full ${\n                    order.status === 'Completed' ? 'bg-emerald-500' :\n                    order.status === 'Processing' ? 'bg-blue-500' :\n                    order.status === 'Pending' ? 'bg-yellow-500' : 'bg-red-500'\n                  }`}></div>\n                  <span className=\"text-sm font-medium text-gray-900\">{order.status}</span>\n                  </div>\n                <div className=\"text-right\">\n                  <p className=\"text-sm font-medium text-gray-900\">{order.count}</p>\n                  <p className=\"text-xs text-gray-500\">{order.percentage}%</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n        </div>\n\n        {/* Conversion Sources */}\n        <div className=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Conversion Sources</h3>\n            <div className=\"space-y-4\">\n            {analyticsData.conversion.map((source, index) => (\n              <div key={index} className=\"space-y-2\">\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"text-sm font-medium text-gray-900\">{source.source}</span>\n                  <span className=\"text-sm text-gray-500\">{source.rate}%</span>\n                </div>\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                  <div \n                    className=\"bg-emerald-500 h-2 rounded-full\"\n                    style={{ width: `${source.rate}%` }}\n                  ></div>\n                </div>\n                <div className=\"flex justify-between text-xs text-gray-500\">\n                  <span>{source.visitors} visitors</span>\n                  <span>{source.conversions} conversions</span>\n                    </div>\n                </div>\n              ))}\n            </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":15555,"size_tokens":null},"src/components/vendor/onboarding/Step3ProductInfo.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { productsService } from '../../../lib/productsService';\nimport { productsSupplier, tokens } from '../../../lib/api';\n\nexport default function Step3ProductInfo({ formData, handleChange, errors = {}, onValidation, onSkip }) {\n  const [categories, setCategories] = useState([]);\n  const [brands, setBrands] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [validationErrors, setValidationErrors] = useState({});\n  const [tagInput, setTagInput] = useState(''); // For current tag input\n  const [imagePreviews, setImagePreviews] = useState([]); // For image previews\n  const [verificationState, setVerificationState] = useState({\n    isVerifying: false,\n    result: null,\n    error: null\n  });\n\n  // Load categories and brands on component mount\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        setLoading(true);\n        const [categoriesData, brandsData] = await Promise.all([\n          productsService.getCategories(),\n          productsService.getBrands()\n        ]);\n        \n        setCategories(categoriesData || []);\n        setBrands(brandsData || []);\n      } catch (error) {\n        console.error('Error loading product data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadData();\n  }, []);\n\n  // Initialize image previews if formData.images already exists\n  useEffect(() => {\n    if (formData.images && Array.isArray(formData.images)) {\n      const previews = formData.images.map((image, index) => {\n        if (image instanceof File) {\n          return {\n            id: index,\n            file: image,\n            url: URL.createObjectURL(image),\n            name: image.name\n          };\n        }\n        return null;\n      }).filter(Boolean);\n      setImagePreviews(previews);\n    }\n  }, []);\n\n  // Handle image selection\n  const handleImageSelection = (e) => {\n    const files = Array.from(e.target.files);\n    const currentImages = Array.isArray(formData.images) ? formData.images : [];\n    \n    // Add new files to existing images\n    const newImages = [...currentImages, ...files];\n    \n    // Update form data with actual File objects\n    handleChange('images', newImages);\n    \n    // Validate images\n    const fieldErrors = validateField('images', newImages);\n    setValidationErrors(prev => ({\n      ...prev,\n      images: fieldErrors.images || null\n    }));\n    \n    // Create previews for new images\n    const newPreviews = files.map((file, index) => ({\n      id: currentImages.length + index,\n      file: file,\n      url: URL.createObjectURL(file),\n      name: file.name\n    }));\n    \n    setImagePreviews(prev => [...prev, ...newPreviews]);\n    \n    // Clear the input\n    e.target.value = '';\n  };\n\n  // Remove image\n  const removeImage = (indexToRemove) => {\n    const currentImages = Array.isArray(formData.images) ? formData.images : [];\n    const newImages = currentImages.filter((_, index) => index !== indexToRemove);\n    \n    // Update form data\n    handleChange('images', newImages);\n    \n    // Validate images after removal\n    const fieldErrors = validateField('images', newImages);\n    setValidationErrors(prev => ({\n      ...prev,\n      images: fieldErrors.images || null\n    }));\n    \n    // Update previews and cleanup blob URLs\n    setImagePreviews(prev => {\n      const newPreviews = prev.filter((_, index) => index !== indexToRemove);\n      // Cleanup removed URL\n      const removedPreview = prev[indexToRemove];\n      if (removedPreview?.url) {\n        URL.revokeObjectURL(removedPreview.url);\n      }\n      return newPreviews.map((preview, newIndex) => ({\n        ...preview,\n        id: newIndex\n      }));\n    });\n  };\n\n  // Cleanup blob URLs on unmount\n  useEffect(() => {\n    return () => {\n      imagePreviews.forEach(preview => {\n        if (preview.url) {\n          URL.revokeObjectURL(preview.url);\n        }\n      });\n    };\n  }, []);\n\n  // Validation function\n  const validateField = (fieldName, value) => {\n    const errors = {};\n\n    switch (fieldName) {\n      case 'name':\n        if (!value || value.trim().length < 2) {\n          errors.name = 'Product name must be at least 2 characters';\n        } else if (value.length > 255) {\n          errors.name = 'Product name cannot exceed 255 characters';\n        }\n        break;\n      case 'sku':\n        if (!value || value.trim().length < 1) {\n          errors.sku = 'SKU is required';\n        } else if (!/^[A-Z0-9-_]+$/i.test(value)) {\n          errors.sku = 'SKU can only contain letters, numbers, hyphens, and underscores';\n        }\n        break;\n      case 'category_id':\n        if (!value || value === '' || value === '0') {\n          errors.category_id = 'Please select a category';\n        }\n        break;\n      case 'price':\n        if (!value || parseFloat(value) <= 0) {\n          errors.price = 'Price must be greater than 0';\n        }\n        break;\n      case 'compare_at_price':\n        const price = parseFloat(formData.price) || 0;\n        if (value && parseFloat(value) <= price) {\n          errors.compare_at_price = 'Compare at price must be greater than price';\n        }\n        break;\n      case 'images':\n        if (!value || !Array.isArray(value) || value.length === 0) {\n          errors.images = 'At least one product image is required';\n        } else if (value.length > 10) {\n          errors.images = 'Maximum 10 images allowed';\n        } else {\n          // Check if all images are valid File objects\n          const invalidImages = value.filter(img => !(img instanceof File));\n          if (invalidImages.length > 0) {\n            errors.images = 'All images must be valid files';\n          }\n        }\n        break;\n      case 'short_description':\n        if (!value || value.trim().length < 10) {\n          errors.short_description = 'Short description must be at least 10 characters';\n        } else if (value.length > 500) {\n          errors.short_description = 'Short description cannot exceed 500 characters';\n        }\n        break;\n      case 'description':\n        if (value && value.length > 5000) {\n          errors.description = 'Description cannot exceed 5000 characters';\n        }\n        break;\n    }\n\n    return errors;\n  };\n\n  // Handle field change with validation\n  const handleFieldChange = (fieldName, value) => {\n    handleChange(fieldName, value);\n    \n    // Validate field\n    const fieldErrors = validateField(fieldName, value);\n    setValidationErrors(prev => ({\n      ...prev,\n      [fieldName]: fieldErrors[fieldName] || null\n    }));\n\n    // Call parent validation if provided\n    if (onValidation) {\n      onValidation(fieldName, !fieldErrors[fieldName]);\n    }\n  };\n\n  // Tag management functions\n  const handleTagInputChange = (e) => {\n    const value = e.target.value;\n    \n    // Check if comma was typed\n    if (value.includes(',')) {\n      const newTag = value.replace(',', '').trim();\n      if (newTag) {\n        addTag(newTag);\n      }\n      setTagInput(''); // Clear input after adding tag\n    } else {\n      setTagInput(value);\n    }\n  };\n\n  const handleTagInputKeyDown = (e) => {\n    if (e.key === 'Enter' || e.key === 'Tab') {\n      e.preventDefault();\n      const newTag = tagInput.trim();\n      if (newTag) {\n        addTag(newTag);\n        setTagInput('');\n      }\n    } else if (e.key === 'Backspace' && !tagInput) {\n      // Remove last tag if backspace is pressed on empty input\n      removeLastTag();\n    }\n  };\n\n  const addTag = (tagText) => {\n    const currentTags = Array.isArray(formData.tags) ? formData.tags : [];\n    if (!currentTags.includes(tagText)) {\n      const newTags = [...currentTags, tagText];\n      handleChange('tags', newTags);\n    }\n  };\n\n  const removeTag = (tagToRemove) => {\n    const currentTags = Array.isArray(formData.tags) ? formData.tags : [];\n    const newTags = currentTags.filter(tag => tag !== tagToRemove);\n    handleChange('tags', newTags);\n  };\n\n  const removeLastTag = () => {\n    const currentTags = Array.isArray(formData.tags) ? formData.tags : [];\n    if (currentTags.length > 0) {\n      const newTags = currentTags.slice(0, -1);\n      handleChange('tags', newTags);\n    }\n  };\n\n  // Verification function\n  const handleVerifyProduct = async () => {\n    // Validate required fields for verification\n    if (!formData.name || !formData.name.trim()) {\n      alert('Please enter a product name before verification');\n      return;\n    }\n\n    if (!formData.images || !Array.isArray(formData.images) || formData.images.length === 0) {\n      alert('Please upload at least one product image before verification');\n      return;\n    }\n\n    setVerificationState({ isVerifying: true, result: null, error: null });\n\n    try {\n      const userTokens = tokens.get();\n      if (!userTokens?.access_token) {\n        throw new Error('No authentication token found');\n      }\n\n      const verificationData = {\n        title: formData.name.trim(),\n        image: formData.images[0] // Use first image for verification\n      };\n\n      const result = await productsSupplier.verifyBeforeCreation(verificationData, userTokens.access_token);\n      \n      setVerificationState({\n        isVerifying: false,\n        result: result,\n        error: null\n      });\n\n    } catch (error) {\n      console.error('Verification failed:', error);\n      setVerificationState({\n        isVerifying: false,\n        result: null,\n        error: error.message || 'Verification failed'\n      });\n    }\n  };\n\n  return (\n    <>\n      {/* Product Name */}\n      <div className=\"flex flex-col\">\n        <label className=\"flex items-center px-4 py-0 mb-2\">\n          <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n            Product Name\n          </span>\n          <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n        </label>\n        <input\n          type=\"text\"\n          value={formData.name || ''}\n          onChange={(e) => handleFieldChange('name', e.target.value)}\n          placeholder=\"Enter product name\"\n          className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                   font-semibold text-[16px] text-[#1a4032] opacity-50\n                   focus:opacity-100 focus:outline-none transition-all\n                   ${validationErrors.name || errors.name \n                     ? 'border-red-500 focus:border-red-500' \n                     : 'border-[#858c94] focus:border-[#1a4032]'}`}\n          required\n        />\n        {(validationErrors.name || errors.name) && (\n          <span className=\"text-red-500 text-sm mt-1 px-4\">\n            {validationErrors.name || errors.name}\n          </span>\n        )}\n      </div>\n\n      {/* SKU */}\n      <div className=\"flex flex-col\">\n        <label className=\"flex items-center px-4 py-0 mb-2\">\n          <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n            SKU (Stock Keeping Unit)\n          </span>\n          <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n        </label>\n        <input\n          type=\"text\"\n          value={formData.sku || ''}\n          onChange={(e) => handleFieldChange('sku', e.target.value)}\n          placeholder=\"e.g., PRD-001\"\n          className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                   font-semibold text-[16px] text-[#1a4032] opacity-50\n                   focus:opacity-100 focus:outline-none transition-all\n                   ${validationErrors.sku || errors.sku \n                     ? 'border-red-500 focus:border-red-500' \n                     : 'border-[#858c94] focus:border-[#1a4032]'}`}\n          required\n        />\n        {(validationErrors.sku || errors.sku) && (\n          <span className=\"text-red-500 text-sm mt-1 px-4\">\n            {validationErrors.sku || errors.sku}\n          </span>\n        )}\n      </div>\n\n      {/* Short Description */}\n      <div className=\"flex flex-col\">\n        <label className=\"flex items-center px-4 py-0 mb-2\">\n          <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n            Short Description\n          </span>\n          <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n        </label>\n        <textarea\n          value={formData.short_description || ''}\n          onChange={(e) => handleFieldChange('short_description', e.target.value)}\n          placeholder=\"Brief product summary (appears in listings)\"\n          rows={2}\n          className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                   font-semibold text-[16px] text-[#1a4032] opacity-50\n                   focus:opacity-100 focus:outline-none transition-all resize-none\n                   ${validationErrors.short_description || errors.short_description \n                     ? 'border-red-500 focus:border-red-500' \n                     : 'border-[#858c94] focus:border-[#1a4032]'}`}\n          required\n        />\n        {(validationErrors.short_description || errors.short_description) && (\n          <span className=\"text-red-500 text-sm mt-1 px-4\">\n            {validationErrors.short_description || errors.short_description}\n          </span>\n        )}\n      </div>\n\n      {/* Full Description */}\n      <div className=\"flex flex-col\">\n        <label className=\"flex items-center px-4 py-0 mb-2\">\n          <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n            Product Description\n          </span>\n          <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n        </label>\n        <textarea\n          value={formData.description || ''}\n          onChange={(e) => handleFieldChange('description', e.target.value)}\n          placeholder=\"Detailed product description, features, and benefits\"\n          rows={4}\n          className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                   font-semibold text-[16px] text-[#1a4032] opacity-50\n                   focus:opacity-100 focus:outline-none transition-all resize-none\n                   ${validationErrors.description || errors.description \n                     ? 'border-red-500 focus:border-red-500' \n                     : 'border-[#858c94] focus:border-[#1a4032]'}`}\n          required\n        />\n        {(validationErrors.description || errors.description) && (\n          <span className=\"text-red-500 text-sm mt-1 px-4\">\n            {validationErrors.description || errors.description}\n          </span>\n        )}\n      </div>\n\n      {/* Category and Brand */}\n      <div className=\"flex flex-col sm:flex-row gap-4\">\n        {/* Product Category */}\n        <div className=\"flex flex-col flex-1\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              Product Category\n            </span>\n            <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n          </label>\n          <select\n            value={formData.category_id || ''}\n            onChange={(e) => handleFieldChange('category_id', e.target.value)}\n            className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                     font-semibold text-[16px] text-[#1a4032] opacity-50\n                     focus:opacity-100 focus:outline-none transition-all\n                     ${validationErrors.category_id || errors.category_id \n                       ? 'border-red-500 focus:border-red-500' \n                       : 'border-[#858c94] focus:border-[#1a4032]'}`}\n            required\n          >\n            <option value=\"\">\n              {loading ? 'Loading categories...' : 'Select Category'}\n            </option>\n            {!loading && categories.length === 0 && (\n              <option value=\"\" disabled>No categories available</option>\n            )}\n            {categories.map((category) => (\n              <option key={category.id} value={category.id}>\n                {category.name}\n              </option>\n            ))}\n          </select>\n          {(validationErrors.category_id || errors.category_id) && (\n            <span className=\"text-red-500 text-sm mt-1 px-4\">\n              {validationErrors.category_id || errors.category_id}\n            </span>\n          )}\n        </div>\n\n        {/* Brand */}\n        <div className=\"flex flex-col flex-1\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              Brand (Optional)\n            </span>\n          </label>\n          <select\n            value={formData.brand_id || ''}\n            onChange={(e) => handleChange('brand_id', e.target.value)}\n            className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                     font-semibold text-[16px] text-[#1a4032] opacity-50\n                     focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n          >\n            <option value=\"\">\n              {loading ? 'Loading brands...' : 'Select Brand'}\n            </option>\n            {!loading && brands.length === 0 && (\n              <option value=\"\" disabled>No brands available</option>\n            )}\n            {brands.map((brand) => (\n              <option key={brand.id} value={brand.id}>\n                {brand.name}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      {/* Pricing */}\n      <div className=\"flex flex-col sm:flex-row gap-4\">\n        {/* Price */}\n        <div className=\"flex flex-col flex-1\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              Price (₹)\n            </span>\n            <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n          </label>\n          <input\n            type=\"number\"\n            step=\"0.01\"\n            min=\"0\"\n            value={formData.price || ''}\n            onChange={(e) => handleFieldChange('price', e.target.value)}\n            placeholder=\"0.00\"\n            className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                     font-semibold text-[16px] text-[#1a4032] opacity-50\n                     focus:opacity-100 focus:outline-none transition-all\n                     ${validationErrors.price || errors.price \n                       ? 'border-red-500 focus:border-red-500' \n                       : 'border-[#858c94] focus:border-[#1a4032]'}`}\n            required\n          />\n          {(validationErrors.price || errors.price) && (\n            <span className=\"text-red-500 text-sm mt-1 px-4\">\n              {validationErrors.price || errors.price}\n            </span>\n          )}\n        </div>\n\n        {/* Compare At Price */}\n        <div className=\"flex flex-col flex-1\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              Compare At Price (₹)\n            </span>\n          </label>\n          <input\n            type=\"number\"\n            step=\"0.01\"\n            min=\"0\"\n            value={formData.compare_at_price || ''}\n            onChange={(e) => handleChange('compare_at_price', e.target.value)}\n            placeholder=\"0.00 (optional)\"\n            className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                     font-semibold text-[16px] text-[#1a4032] opacity-50\n                     focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n          />\n        </div>\n\n        {/* Cost Per Item */}\n        <div className=\"flex flex-col flex-1\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              Cost Per Item (₹)\n            </span>\n          </label>\n          <input\n            type=\"number\"\n            step=\"0.01\"\n            min=\"0\"\n            value={formData.cost_per_item || ''}\n            onChange={(e) => handleChange('cost_per_item', e.target.value)}\n            placeholder=\"0.00 (optional)\"\n            className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                     font-semibold text-[16px] text-[#1a4032] opacity-50\n                     focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n          />\n        </div>\n      </div>\n\n      {/* Product Images */}\n      <div className=\"flex flex-col\">\n        <label className=\"flex items-center px-4 py-0 mb-2\">\n          <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n            Product Images *\n          </span>\n          <span className=\"text-gray-400 text-[13px] opacity-80 ml-1\">(Required - at least 1 image)</span>\n        </label>\n        \n        {/* Image Upload Input */}\n        <input\n          type=\"file\"\n          multiple\n          accept=\"image/*\"\n          onChange={handleImageSelection}\n          className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                   font-semibold text-[16px] text-[#1a4032] opacity-50\n                   focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\n                   file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0\n                   file:text-sm file:font-semibold file:bg-[#12b74f] file:text-white\n                   hover:file:bg-[#0ea344]\"\n        />\n        \n        {/* Image Previews */}\n        {imagePreviews.length > 0 && (\n          <div className=\"mt-4 px-4\">\n            <h4 className=\"text-sm font-semibold text-[#1a4032] mb-3\">\n              Selected Images ({imagePreviews.length})\n            </h4>\n            <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n              {imagePreviews.map((preview, index) => (\n                <div key={preview.id} className=\"relative group\">\n                  <div className=\"aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 border-gray-200\">\n                    <img\n                      src={preview.url}\n                      alt={preview.name}\n                      className=\"w-full h-full object-cover\"\n                    />\n                  </div>\n                  \n                  {/* Remove button */}\n                  <button\n                    type=\"button\"\n                    onClick={() => removeImage(index)}\n                    className=\"absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white \n                             rounded-full w-6 h-6 flex items-center justify-center text-sm\n                             opacity-0 group-hover:opacity-100 transition-opacity duration-200\"\n                    title=\"Remove image\"\n                  >\n                    ×\n                  </button>\n                  \n                  {/* Image name */}\n                  <p className=\"mt-1 text-xs text-gray-600 truncate\" title={preview.name}>\n                    {preview.name}\n                  </p>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n        \n        <p className=\"text-sm text-gray-600 mt-2 px-4\">\n          Upload high-quality product images (JPG, PNG). Multiple images supported. First image will be the main product image.\n        </p>\n        \n        {validationErrors.images && (\n          <p className=\"text-red-500 text-sm mt-1 px-4\">{validationErrors.images}</p>\n        )}\n      </div>\n\n      {/* Product Verification Section */}\n      <div className=\"flex flex-col\">\n        <div className=\"flex items-center justify-between px-4 py-0 mb-2\">\n          <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n            AI Product Verification\n          </span>\n          <span className=\"text-gray-400 text-[13px] opacity-80\">(Optional Preview)</span>\n        </div>\n        \n        <div className=\"px-4\">\n          <p className=\"text-sm text-gray-600 mb-3\">\n            Test if your product image matches the title using AI. This helps ensure better product quality.\n          </p>\n          \n          <button\n            type=\"button\"\n            onClick={handleVerifyProduct}\n            disabled={verificationState.isVerifying || !formData.name?.trim() || !formData.images?.length}\n            className=\"inline-flex items-center gap-2 px-4 py-2 bg-[#12b74f] text-white font-semibold \n                     rounded-lg hover:bg-[#0ea344] disabled:opacity-50 disabled:cursor-not-allowed \n                     transition-all duration-200\"\n          >\n            {verificationState.isVerifying ? (\n              <>\n                <svg className=\"animate-spin h-4 w-4\" viewBox=\"0 0 24 24\" fill=\"none\">\n                  <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" className=\"opacity-25\"/>\n                  <path fill=\"currentColor\" className=\"opacity-75\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"/>\n                </svg>\n                Verifying...\n              </>\n            ) : (\n              <>\n                🔍 Preview Verification\n              </>\n            )}\n          </button>\n          \n          {/* Verification Results */}\n          {verificationState.result && (\n            <div className={`mt-3 p-3 rounded-lg border ${\n              verificationState.result.probability >= 0.7 \n                ? 'bg-green-50 border-green-200' \n                : 'bg-yellow-50 border-yellow-200'\n            }`}>\n              <div className=\"flex items-center gap-2 mb-2\">\n                <span className={`text-lg ${\n                  verificationState.result.probability >= 0.7 ? 'text-green-600' : 'text-yellow-600'\n                }`}>\n                  {verificationState.result.probability >= 0.7 ? '✅' : '⚠️'}\n                </span>\n                <span className={`font-semibold ${\n                  verificationState.result.probability >= 0.7 ? 'text-green-800' : 'text-yellow-800'\n                }`}>\n                  Score: {(verificationState.result.probability * 100).toFixed(1)}%\n                </span>\n              </div>\n              <p className={`text-sm ${\n                verificationState.result.probability >= 0.7 ? 'text-green-700' : 'text-yellow-700'\n              }`}>\n                {verificationState.result.probability >= 0.7 \n                  ? 'Great! Your image and title match well. This product will be auto-approved.' \n                  : 'The image and title don\\'t match well. Consider updating either the title or image for better approval chances.'\n                }\n              </p>\n              {verificationState.result.suggestion && (\n                <p className={`text-sm mt-1 ${\n                  verificationState.result.score >= 0.7 ? 'text-green-600' : 'text-yellow-600'\n                }`}>\n                  💡 {verificationState.result.suggestion}\n                </p>\n              )}\n            </div>\n          )}\n          \n          {/* Verification Error */}\n          {verificationState.error && (\n            <div className=\"mt-3 p-3 rounded-lg border bg-red-50 border-red-200\">\n              <div className=\"flex items-center gap-2 mb-1\">\n                <span className=\"text-red-600\">❌</span>\n                <span className=\"font-semibold text-red-800\">Verification Failed</span>\n              </div>\n              <p className=\"text-sm text-red-700\">{verificationState.error}</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Tags */}\n      <div className=\"flex flex-col\">\n        <label className=\"flex items-center px-4 py-0 mb-2\">\n          <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n            Product Tags\n          </span>\n        </label>\n        \n        {/* Tags Container */}\n        <div className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 min-h-[50px]\n                      focus-within:border-[#1a4032] transition-all\">\n          <div className=\"flex flex-wrap gap-2 items-center\">\n            {/* Existing Tags */}\n            {Array.isArray(formData.tags) && formData.tags.map((tag, index) => (\n              <span\n                key={index}\n                className=\"inline-flex items-center gap-1 bg-[#12b74f] text-white text-sm font-semibold \n                         px-3 py-1 rounded-full hover:bg-[#0ea344] transition-colors\"\n              >\n                {tag}\n                <button\n                  type=\"button\"\n                  onClick={() => removeTag(tag)}\n                  className=\"ml-1 text-white hover:text-gray-200 focus:outline-none\"\n                  aria-label={`Remove ${tag} tag`}\n                >\n                  ×\n                </button>\n              </span>\n            ))}\n            \n            {/* Tag Input */}\n            <input\n              type=\"text\"\n              value={tagInput}\n              onChange={handleTagInputChange}\n              onKeyDown={handleTagInputKeyDown}\n              placeholder={Array.isArray(formData.tags) && formData.tags.length > 0 ? \"Add another tag...\" : \"eco-friendly, sustainable, organic\"}\n              className=\"flex-1 min-w-[120px] bg-transparent border-none outline-none \n                       font-semibold text-[16px] text-[#1a4032] placeholder-gray-400\"\n            />\n          </div>\n        </div>\n        \n        <p className=\"text-sm text-gray-600 mt-1 px-4\">\n          Type and press comma or Enter to add tags. Click × to remove tags.\n        </p>\n      </div>\n\n      {/* Skip Option */}\n      {onSkip && (\n        <div className=\"flex justify-center mt-6\">\n          <button\n            type=\"button\"\n            onClick={onSkip}\n            className=\"px-6 py-2 text-[#1a4032] border border-[#1a4032] rounded-lg \n                     hover:bg-[#1a4032] hover:text-white transition-all duration-200\n                     font-semibold\"\n          >\n            Skip Product Creation\n          </button>\n        </div>\n      )}\n    </>\n  );\n}\n","path":null,"size_bytes":30040,"size_tokens":null},"src/app/products/[slug]/page.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport Image from 'next/image';\nimport { ArrowLeft, ChevronUp, ChevronDown, Star, Heart, ShoppingCart, Minus, Plus, Check } from 'lucide-react';\nimport Navbar from '../../../components/layout/Navbar';\nimport Footer from '../../../components/layout/Footer';\nimport ProductRecommendations from '../../../components/search/ProductRecommendations';\nimport ProductQuickView from '../../../components/ui/ProductQuickView';\nimport { productsBuyer, productSearch, tokens } from '../../../lib/api';\nimport { useCart } from '../../../hooks/useCart';\n\nexport default function ProductDetailPage() {\n  const params = useParams();\n  const router = useRouter();\n  const slug = params.slug;\n  const { addToCart, updateCartItem } = useCart();\n  \n  const [product, setProduct] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedImageIndex, setSelectedImageIndex] = useState(0);\n  const [quantity, setQuantity] = useState(1);\n  const [activeTab, setActiveTab] = useState('descriptions');\n  const [quickViewProduct, setQuickViewProduct] = useState(null);\n  const [relatedProducts, setRelatedProducts] = useState([]);\n  const [isAddingToCart, setIsAddingToCart] = useState(false);\n  const [addedToCart, setAddedToCart] = useState(false);\n  const [cartItemId, setCartItemId] = useState(null);\n\n  useEffect(() => {\n    if (slug) {\n      fetchProduct();\n    }\n  }, [slug]);\n\n  const fetchProduct = async () => {\n    try {\n      setLoading(true);\n      const productData = await productsBuyer.getProduct(slug);\n      setProduct(productData);\n      \n      // Fetch related products\n      if (productData?.category?.id) {\n        try {\n          const related = await productsBuyer.getProducts({\n            category_id: productData.category.id,\n            limit: 4\n          });\n          setRelatedProducts(related?.data || []);\n        } catch (error) {\n          console.warn('Failed to fetch related products:', error);\n        }\n      }\n    } catch (error) {\n      console.error('Error fetching product:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleQuantityChange = async (change) => {\n    const newQuantity = Math.max(1, quantity + change);\n    \n    // Update local state immediately for better UX\n    setQuantity(newQuantity);\n    \n    // If item is already in cart, update it on the server\n    if (addedToCart && cartItemId) {\n      try {\n        await updateCartItem(cartItemId, newQuantity);\n      } catch (error) {\n        console.error('Failed to update cart item quantity:', error);\n        // Revert local state on error\n        setQuantity(quantity);\n        alert('Failed to update quantity. Please try again.');\n      }\n    }\n  };\n\n  const handleAddToCart = async () => {\n    if (!product?.id) {\n      alert('Product information is missing');\n      return;\n    }\n\n    // Check if product is in stock\n    if (product?.available_stock <= 0) {\n      alert('This product is currently out of stock');\n      return;\n    }\n\n    try {\n      setIsAddingToCart(true);\n      \n      // Use the default variant if available, otherwise null\n      const variantId = product.variants?.[0]?.id || null;\n      \n      const result = await addToCart(product.id, quantity, variantId);\n      \n      // Store the cart item ID for future quantity updates\n      if (result?.items) {\n        const newItem = result.items.find(item => item.product_id === product.id);\n        if (newItem) {\n          setCartItemId(newItem.id);\n        }\n      }\n      \n      setAddedToCart(true);\n      \n      // Reset the success state after 3 seconds\n      setTimeout(() => {\n        setAddedToCart(false);\n      }, 3000);\n      \n    } catch (error) {\n      console.error('Failed to add to cart:', error);\n      alert('Failed to add product to cart. Please try again.');\n    } finally {\n      setIsAddingToCart(false);\n    }\n  };\n\n  const handleGoBack = () => {\n    router.back();\n  };\n\n  const handleProductClick = (product) => {\n    setQuickViewProduct(product);\n  };\n\n  const renderStars = (rating = 4) => {\n    return [...Array(5)].map((_, i) => (\n      <Star\n        key={i}\n        className={`w-[14.4px] h-[14.4px] ${\n          i < rating ? 'fill-yellow-400 text-yellow-400' : 'fill-gray-300 text-gray-300'\n        }`}\n      />\n    ));\n  };\n\n  const getDiscountPercentage = () => {\n    if (product?.compare_at_price && product?.price) {\n      const discount = ((product.compare_at_price - product.price) / product.compare_at_price) * 100;\n      return Math.round(discount);\n    }\n    return 64; // Default fallback\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-[#e1e4e3]\">\n        <Navbar />\n        <div className=\"container mx-auto px-4 py-8\">\n          <div className=\"animate-pulse\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-16\">\n              <div className=\"space-y-4\">\n                <div className=\"bg-gray-200 aspect-square rounded-lg\"></div>\n                <div className=\"flex gap-2\">\n                  {[...Array(4)].map((_, i) => (\n                    <div key={i} className=\"bg-gray-200 w-16 h-[72px] rounded\"></div>\n                  ))}\n                </div>\n              </div>\n              <div className=\"space-y-4\">\n                <div className=\"bg-gray-200 h-8 w-3/4 rounded\"></div>\n                <div className=\"bg-gray-200 h-6 w-1/2 rounded\"></div>\n                <div className=\"bg-gray-200 h-20 rounded\"></div>\n                <div className=\"bg-gray-200 h-12 w-1/3 rounded\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  if (error || !product) {\n    return (\n      <div className=\"min-h-screen bg-[#e1e4e3]\">\n        <Navbar />\n        <div className=\"container mx-auto px-4 py-8\">\n          <div className=\"text-center py-16\">\n            <h1 className=\"text-2xl font-bold text-gray-900 mb-4\">Product Not Found</h1>\n            <p className=\"text-gray-600 mb-8\">The product you're looking for doesn't exist or has been removed.</p>\n            <button\n              onClick={() => router.push('/explore')}\n              className=\"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-green-600 hover:bg-green-700\"\n            >\n              Browse Products\n            </button>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  const images = product.images && product.images.length > 0 ? product.images : [{ url: '/sample1.jpg' }];\n  const currentImage = images[selectedImageIndex]?.url || '/sample1.jpg';\n\n  return (\n    <div className=\"min-h-screen bg-[#e1e4e3]\">\n      <Navbar />\n      \n      <div className=\"relative\">\n        {/* Go Back Button */}\n        <button\n          onClick={handleGoBack}\n          className=\"absolute top-8 left-7 bg-white border border-[#b8b8b8] rounded-[4.8px] px-6 py-3 flex items-center gap-3 hover:bg-gray-50 transition-colors z-10\"\n        >\n          <ArrowLeft className=\"w-5 h-5 text-[#858c94]\" />\n          <span className=\"text-[#484848] font-medium\">Go back</span>\n        </button>\n\n        {/* Product Detail Section */}\n        <div className=\"pt-[100px] px-1\">\n          <div className=\"max-w-[1056px] mx-auto bg-white rounded-[8px] overflow-hidden\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 p-8\">\n              {/* Left Section - Images */}\n              <div className=\"flex gap-4\">\n                {/* Thumbnail Column */}\n                <div className=\"flex flex-col items-center gap-2\">\n                  <button \n                    className=\"p-1 hover:bg-gray-100 rounded\"\n                    onClick={() => setSelectedImageIndex(Math.max(0, selectedImageIndex - 1))}\n                    disabled={selectedImageIndex === 0}\n                  >\n                    <ChevronUp className={`w-5 h-5 ${selectedImageIndex === 0 ? 'text-gray-300' : 'text-gray-600'}`} />\n                  </button>\n                  \n                  <div className=\"flex flex-col gap-[9.6px]\">\n                    {images.slice(0, 4).map((image, index) => (\n                      <button\n                        key={index}\n                        onClick={() => setSelectedImageIndex(index)}\n                        className={`w-16 h-[72px] rounded-[2px] overflow-hidden ${\n                          index === selectedImageIndex ? 'border-2 border-[#272727]' : 'border border-gray-200'\n                        }`}\n                      >\n                        <Image\n                          src={image.url}\n                          alt={`${product.name} - Image ${index + 1}`}\n                          width={64}\n                          height={72}\n                          className=\"w-full h-full object-cover\"\n                        />\n                      </button>\n                    ))}\n                  </div>\n                  \n                  <button \n                    className=\"p-1 hover:bg-gray-100 rounded\"\n                    onClick={() => setSelectedImageIndex(Math.min(images.length - 1, selectedImageIndex + 1))}\n                    disabled={selectedImageIndex >= images.length - 1}\n                  >\n                    <ChevronDown className={`w-5 h-5 ${selectedImageIndex >= images.length - 1 ? 'text-gray-300' : 'text-gray-600'}`} />\n                  </button>\n                </div>\n\n                {/* Main Image */}\n                <div className=\"flex-1 aspect-square rounded-lg overflow-hidden bg-gray-100\">\n                  <Image\n                    src={currentImage}\n                    alt={product.name}\n                    width={400}\n                    height={400}\n                    className=\"w-full h-full object-cover\"\n                  />\n                </div>\n              </div>\n\n              {/* Right Section - Product Info */}\n              <div className=\"space-y-6\">\n                {/* Product Name & Stock */}\n                <div className=\"flex items-center gap-[6.4px]\">\n                  <h1 className=\"text-[#1a1a1a] text-[28.8px] font-semibold font-poppins leading-[1.2]\">\n                    {product.name}\n                  </h1>\n                  <span className={`text-[11.2px] font-normal px-[6.4px] py-[3.2px] rounded-[4px] ${\n                    product?.status === 'active' && product?.available_stock > 0\n                      ? 'bg-[#bdc0b3] text-[#272727]'\n                      : 'bg-red-100 text-red-700'\n                  }`}>\n                    {product?.status === 'active' && product?.available_stock > 0\n                      ? 'In Stock'\n                      : 'Out of Stock'\n                    }\n                  </span>\n                </div>\n\n                {/* Rating */}\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"flex items-center\">\n                    {renderStars(4)}\n                  </div>\n                  <span className=\"text-[#666666] text-[11.2px] font-normal\">4 Review</span>\n                </div>\n\n                {/* Price */}\n                <div className=\"flex items-center gap-[9.6px]\">\n                  <div className=\"flex items-center gap-[3.2px]\">\n                    {product.compare_at_price && (\n                      <span className=\"text-[#b3b3b3] text-[16px] line-through\">\n                        ₹{product.compare_at_price}\n                      </span>\n                    )}\n                    <span className=\"text-[#272727] text-[19.2px] font-medium\">\n                      ₹{product.price}\n                    </span>\n                  </div>\n                  <div className=\"bg-[rgba(106,106,106,0.1)] px-2 py-[2.4px] rounded-[30px]\">\n                    <span className=\"text-[#272727] text-[11.2px] font-medium\">\n                      {getDiscountPercentage()}% Off\n                    </span>\n                  </div>\n                </div>\n\n                {/* Divider */}\n                <div className=\"h-[0.8px] bg-gray-200 w-full\"></div>\n\n                {/* Brand */}\n                <div className=\"flex items-center gap-[6.4px]\">\n                  <span className=\"text-[#1a1a1a] text-[11.2px] font-normal\">Brand:</span>\n                  <div className=\"bg-white border border-[#e6e6e6] rounded-[4px] w-[44.8px] h-[44.8px] flex items-center justify-center\">\n                    <span className=\"text-[#555555] text-[10.4px] font-bold font-dancing-script\">\n                      {product.brand?.name || 'NA'}\n                    </span>\n                  </div>\n                </div>\n\n                {/* Description */}\n                <div className=\"text-[#808080] text-[11.2px] leading-[1.5] max-w-[454px]\">\n                  <p className=\"mb-3\">\n                    {product.short_description || product.description || 'Description Not Available'}\n                  </p>\n                </div>\n\n                {/* CTA Section */}\n                <div className=\"flex items-center gap-[9.6px] pt-[14.4px] border-t border-[#e6e6e6]\">\n                  {/* Quantity Selector */}\n                  <div className=\"bg-white border border-[#e6e6e6] rounded-[170px] p-[6.4px] flex items-center\">\n                    <button\n                      onClick={() => handleQuantityChange(-1)}\n                      className=\"bg-[#f2f2f2] rounded-full w-[27.2px] h-[27.2px] flex items-center justify-center\"\n                    >\n                      <Minus className=\"w-3 h-3 text-gray-600\" />\n                    </button>\n                    <span className=\"text-[#1a1a1a] text-[12.8px] text-center w-8\">\n                      {quantity}\n                    </span>\n                    <button\n                      onClick={() => handleQuantityChange(1)}\n                      className=\"bg-[#f2f2f2] rounded-full w-[27.2px] h-[27.2px] flex items-center justify-center\"\n                    >\n                      <Plus className=\"w-3 h-3 text-gray-600\" />\n                    </button>\n                  </div>\n\n                  {/* Add to Cart Button or Quantity Controls */}\n                  {addedToCart ? (\n                    <div className=\"flex items-center gap-3 bg-green-50 border border-green-200 rounded-[43px] px-6 py-[12.8px] flex-1\">\n                      <Check className=\"w-4 h-4 text-green-600\" />\n                      <span className=\"font-semibold text-sm text-green-700\">Added to Cart!</span>\n                      <div className=\"flex items-center gap-2 ml-auto\">\n                        <button\n                          onClick={() => handleQuantityChange(-1)}\n                          className=\"bg-white border border-gray-300 rounded-full w-[28px] h-[28px] flex items-center justify-center hover:bg-gray-50\"\n                        >\n                          <Minus className=\"w-3 h-3\" />\n                        </button>\n                        <span className=\"font-medium text-sm min-w-[20px] text-center\">{quantity}</span>\n                        <button\n                          onClick={() => handleQuantityChange(1)}\n                          className=\"bg-white border border-gray-300 rounded-full w-[28px] h-[28px] flex items-center justify-center hover:bg-gray-50\"\n                        >\n                          <Plus className=\"w-3 h-3\" />\n                        </button>\n                      </div>\n                    </div>\n                  ) : (\n                    <button \n                      onClick={handleAddToCart}\n                      disabled={isAddingToCart || !(product?.status === 'active' && product?.available_stock > 0)}\n                      className={`px-8 py-[12.8px] rounded-[43px] flex items-center gap-[12.8px] flex-1 transition-all duration-200 ${\n                        isAddingToCart\n                          ? 'bg-gray-400 text-white cursor-not-allowed'\n                          : product?.status === 'active' && product?.available_stock > 0\n                            ? 'bg-[#272727] text-white hover:bg-[#333333]'\n                            : 'bg-gray-400 text-white cursor-not-allowed'\n                      }`}\n                    >\n                      {isAddingToCart ? (\n                        <>\n                          <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                          <span className=\"text-[12.8px] font-semibold\">Adding...</span>\n                        </>\n                      ) : (\n                        <>\n                          <span className=\"text-[12.8px] font-semibold\">\n                            {product?.status === 'active' && product?.available_stock > 0 \n                              ? 'Add to Cart' \n                              : 'Out of Stock'\n                            }\n                          </span>\n                          <ShoppingCart className=\"w-3 h-3\" />\n                        </>\n                      )}\n                    </button>\n                  )}\n\n                  {/* Wishlist Button */}\n                  <button className=\"bg-[#bdc0b3] p-[12.8px] rounded-[43px]\">\n                    <Heart className=\"w-4 h-4 text-gray-700\" />\n                  </button>\n                </div>\n\n                {/* Product Details */}\n                <div className=\"space-y-[9.6px] text-[11.2px]\">\n                  <div className=\"flex items-start gap-[4.8px]\">\n                    <span className=\"font-medium text-[#1a1a1a]\">Category:</span>\n                    <span className=\"text-[#808080]\">{product.category?.name || 'Food & Beverages'}</span>\n                  </div>\n                  <div className=\"flex items-start gap-[4.8px]\">\n                    <span className=\"font-medium text-[#1a1a1a]\">Brand:</span>\n                    <span className=\"text-[#808080]\">{product.brand?.name || 'NA'}</span>\n                  </div>\n                  {product.sku && (\n                    <div className=\"flex items-start gap-[4.8px]\">\n                      <span className=\"font-medium text-[#1a1a1a]\">SKU:</span>\n                      <span className=\"text-[#808080]\">{product.sku}</span>\n                    </div>\n                  )}\n                  {product.weight && (\n                    <div className=\"flex items-start gap-[4.8px]\">\n                      <span className=\"font-medium text-[#1a1a1a]\">Weight:</span>\n                      <span className=\"text-[#808080]\">{product.weight}kg</span>\n                    </div>\n                  )}\n                  {product.materials && product.materials.length > 0 && (\n                    <div className=\"flex items-start gap-[4.8px]\">\n                      <span className=\"font-medium text-[#1a1a1a]\">Materials:</span>\n                      <span className=\"text-[#808080]\">{product.materials.join(', ')}</span>\n                    </div>\n                  )}\n                  {product.origin_country && (\n                    <div className=\"flex items-start gap-[4.8px]\">\n                      <span className=\"font-medium text-[#1a1a1a]\">Origin:</span>\n                      <span className=\"text-[#808080]\">{product.origin_country}</span>\n                    </div>\n                  )}\n                  <div className=\"flex items-start gap-[4.8px] flex-wrap\">\n                    <span className=\"font-medium text-[#1a1a1a]\">Tags:</span>\n                    {(product.tags || ['Seeds', 'Healthy', 'Chinese', 'Chia', 'Food']).map((tag, index) => (\n                      <span key={index} className=\"text-[#808080]\">{tag}{index < (product.tags || ['Seeds', 'Healthy', 'Chinese', 'Chia', 'Food']).length - 1 ? ', ' : ''}</span>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Product Description Section */}\n        <div className=\"max-w-[1056px] mx-auto mt-16\">\n          {/* Navigation Tabs */}\n          <div className=\"bg-[#f5f5f5] border-b border-[#e6e6e6] flex\">\n            {[\n              { id: 'descriptions', label: 'Descriptions' },\n              { id: 'additional', label: 'Additional Information' },\n              { id: 'feedback', label: 'Customer Feedback' }\n            ].map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id)}\n                className={`px-3 py-3 text-[12px] font-medium ${\n                  activeTab === tab.id\n                    ? 'text-[#1a1a1a] border-b-[1.5px] border-[#181818]'\n                    : 'text-[#808080] hover:text-[#1a1a1a]'\n                }`}\n              >\n                {tab.label}\n              </button>\n            ))}\n          </div>\n\n          {/* Tab Content */}\n          <div className=\"bg-white p-8\">\n            {activeTab === 'descriptions' && (\n              <div className=\"flex gap-8\">\n                <div className=\"flex-1 space-y-4\">\n                  <div className=\"text-[#808080] text-[10.5px] leading-[1.5] space-y-4\">\n                    \n                  {/* Features */}\n                  {/* <div className=\"space-y-[10.5px]\">\n                    {[\n                      'Packed with Omega-3 fatty acids, fiber, protein, antioxidants, and essential',\n                      'Natural Energy Booster',\n                      'Supports Digestion & Weight Management',\n                      'Versatile Superfood'\n                    ].map((feature, index) => (\n                      <div key={index} className=\"flex items-start gap-[6px]\">\n                        <div className=\"bg-[#181818] rounded-full w-[15px] h-[15px] flex items-center justify-center mt-0.5\">\n                          <svg className=\"w-2 h-2 text-white\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                            <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\n                          </svg>\n                        </div>\n                        <span className=\"text-[#808080] text-[10.5px] leading-[1.4]\">{feature}</span>\n                      </div>\n                    ))}\n                  </div> */}\n                  <h2 className=\"text-[#1a1a1a] text-[14px] font-semibold\">Product Overview</h2>\n                  <p className=\"text-[#808080] text-[10.5px] leading-[1.5]\">\n                    {product.short_description || 'Description Not Available'}\n                  </p>\n                  <h2 className=\"text-[#1a1a1a] text-[14px] font-semibold\">Product Details</h2>\n                  <p>\n                      {product.description || 'No detailed description available for this product.'}\n                  </p>\n                    {product.care_instructions && (\n                      <div>\n                        <h4 className=\"font-semibold text-[#1a1a1a] text-[12px] mb-2\">Care Instructions:</h4>\n                        <p>{product.care_instructions}</p>\n                      </div>\n                    )}\n                    {product.materials && product.materials.length > 0 && (\n                      <div>\n                        <h4 className=\"font-semibold text-[#1a1a1a] text-[12px] mb-2\">Materials:</h4>\n                        <p>{product.materials.join(', ')}</p>\n                      </div>\n                    )}\n                    {product.manufacturing_details && Object.keys(product.manufacturing_details).length > 0 && (\n                      <div>\n                        <h4 className=\"font-semibold text-[#1a1a1a] text-[12px] mb-2\">Manufacturing Details:</h4>\n                        {Object.entries(product.manufacturing_details).map(([key, value]) => (\n                          <p key={key}><strong>{key.replace('_', ' ')}:</strong> {value}</p>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n\n                </div>\n\n                {/* Right side content - Video and Features */}\n                <div className=\"w-[402px] space-y-4\">\n                  {/* Video placeholder */}\n                  {/* <div className=\"w-full h-[225px] bg-gray-200 rounded-[4.5px] flex items-center justify-center\">\n                    <div className=\"w-10 h-10 bg-white rounded-full flex items-center justify-center\">\n                      <svg className=\"w-4 h-4 text-gray-600\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z\" clipRule=\"evenodd\" />\n                      </svg>\n                    </div>\n                  </div> */}\n\n                  {/* Feature cards */}\n                  <div className=\"bg-white border border-[#e6e6e6] rounded-[4.5px] p-4 flex items-center justify-between\">\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"w-6 h-6 text-green-600\">\n                        <svg fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                          <path fillRule=\"evenodd\" d=\"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z\" clipRule=\"evenodd\" />\n                        </svg>\n                      </div>\n                      <div>\n                        <div className=\"text-[#1a1a1a] text-[10.5px] font-medium\">{getDiscountPercentage()}% Discount</div>\n                        <div className=\"text-[#808080] text-[9.75px]\">Save your {getDiscountPercentage()}% money with us</div>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"w-6 h-6 text-green-600\">\n                        <svg fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                          <path fillRule=\"evenodd\" d=\"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z\" clipRule=\"evenodd\" />\n                        </svg>\n                      </div>\n                      <div>\n                        <div className=\"text-[#1a1a1a] text-[10.5px] font-medium\">100% Organic</div>\n                        <div className=\"text-[#808080] text-[9.75px]\">100% Organic Food</div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {activeTab === 'additional' && (\n              <div className=\"space-y-6\">\n                <h3 className=\"text-[#1a1a1a] text-[14px] font-semibold mb-4\">Additional Information</h3>\n                \n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <div className=\"space-y-4\">\n                    <div className=\"flex justify-between items-center py-2 border-b border-gray-200\">\n                      <span className=\"text-[#808080] text-[10.5px]\">SKU</span>\n                      <span className=\"text-[#1a1a1a] text-[10.5px] font-medium\">{product.sku || 'N/A'}</span>\n                    </div>\n                    <div className=\"flex justify-between items-center py-2 border-b border-gray-200\">\n                      <span className=\"text-[#808080] text-[10.5px]\">Brand</span>\n                      <span className=\"text-[#1a1a1a] text-[10.5px] font-medium\">{product.brand?.name || 'NA'}</span>\n                    </div>\n                    <div className=\"flex justify-between items-center py-2 border-b border-gray-200\">\n                      <span className=\"text-[#808080] text-[10.5px]\">Category</span>\n                      <span className=\"text-[#1a1a1a] text-[10.5px] font-medium\">{product.category?.name || 'N/A'}</span>\n                    </div>\n                    {product.weight && (\n                      <div className=\"flex justify-between items-center py-2 border-b border-gray-200\">\n                        <span className=\"text-[#808080] text-[10.5px]\">Weight</span>\n                        <span className=\"text-[#1a1a1a] text-[10.5px] font-medium\">{product.weight}kg</span>\n                      </div>\n                    )}\n                    {product.origin_country && (\n                      <div className=\"flex justify-between items-center py-2 border-b border-gray-200\">\n                        <span className=\"text-[#808080] text-[10.5px]\">Origin Country</span>\n                        <span className=\"text-[#1a1a1a] text-[10.5px] font-medium\">{product.origin_country}</span>\n                      </div>\n                    )}\n                  </div>\n                  \n                  <div className=\"space-y-4\">\n                    {product.dimensions && Object.keys(product.dimensions).length > 0 && (\n                      <div className=\"flex justify-between items-center py-2 border-b border-gray-200\">\n                        <span className=\"text-[#808080] text-[10.5px]\">Dimensions</span>\n                        <span className=\"text-[#1a1a1a] text-[10.5px] font-medium\">\n                          {Object.entries(product.dimensions).map(([key, value]) => `${key}: ${value}`).join(', ')}\n                        </span>\n                      </div>\n                    )}\n                    {product.materials && product.materials.length > 0 && (\n                      <div className=\"flex justify-between items-start py-2 border-b border-gray-200\">\n                        <span className=\"text-[#808080] text-[10.5px]\">Materials</span>\n                        <span className=\"text-[#1a1a1a] text-[10.5px] font-medium text-right\">{product.materials.join(', ')}</span>\n                      </div>\n                    )}\n                    {product.care_instructions && (\n                      <div className=\"flex justify-between items-start py-2 border-b border-gray-200\">\n                        <span className=\"text-[#808080] text-[10.5px]\">Care Instructions</span>\n                        <span className=\"text-[#1a1a1a] text-[10.5px] font-medium text-right max-w-[200px]\">{product.care_instructions}</span>\n                      </div>\n                    )}\n                    {product.tags && product.tags.length > 0 && (\n                      <div className=\"flex justify-between items-start py-2 border-b border-gray-200\">\n                        <span className=\"text-[#808080] text-[10.5px]\">Tags</span>\n                        <span className=\"text-[#1a1a1a] text-[10.5px] font-medium text-right max-w-[200px]\">{product.tags.join(', ')}</span>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {activeTab === 'feedback' && (\n              <div className=\"space-y-6\">\n                <div className=\"flex justify-between items-center\">\n                  <h3 className=\"text-[#1a1a1a] text-[14px] font-semibold\">Customer Feedback</h3>\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"flex items-center\">\n                      {renderStars(4)}\n                    </div>\n                    <span className=\"text-[#666666] text-[11.2px] font-normal\">4.0 (124 reviews)</span>\n                  </div>\n                </div>\n                \n                {/* Rating Breakdown */}\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n                  <div className=\"space-y-4\">\n                    <h4 className=\"text-[#1a1a1a] text-[12px] font-semibold\">Rating Breakdown</h4>\n                    {[5, 4, 3, 2, 1].map((stars) => (\n                      <div key={stars} className=\"flex items-center gap-3\">\n                        <span className=\"text-[#808080] text-[10.5px] w-6\">{stars} ★</span>\n                        <div className=\"flex-1 bg-gray-200 rounded-full h-2\">\n                          <div \n                            className=\"bg-yellow-400 h-2 rounded-full\" \n                            style={{ width: `${Math.random() * 100}%` }}\n                          ></div>\n                        </div>\n                        <span className=\"text-[#808080] text-[10.5px] w-8\">{Math.floor(Math.random() * 50)}</span>\n                      </div>\n                    ))}\n                  </div>\n                  \n                  <div className=\"space-y-4\">\n                    <h4 className=\"text-[#1a1a1a] text-[12px] font-semibold\">Recent Reviews</h4>\n                    <div className=\"space-y-4\">\n                      {[\n                        { name: 'Sarah M.', rating: 5, comment: 'Excellent quality! Very satisfied with this purchase.' },\n                        { name: 'John D.', rating: 4, comment: 'Good product, fast delivery. Would recommend.' },\n                        { name: 'Maria L.', rating: 5, comment: 'Love this! Exactly as described and great value.' }\n                      ].map((review, index) => (\n                        <div key={index} className=\"border-b border-gray-100 pb-3 last:border-b-0\">\n                          <div className=\"flex items-center gap-2 mb-1\">\n                            <span className=\"text-[#1a1a1a] text-[10.5px] font-medium\">{review.name}</span>\n                            <div className=\"flex items-center\">\n                              {renderStars(review.rating)}\n                            </div>\n                          </div>\n                          <p className=\"text-[#808080] text-[10.5px] leading-[1.4]\">{review.comment}</p>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Related Products */}\n        <div className=\"max-w-7xl mx-auto px-4 py-16\">\n          <h2 className=\"text-[#1a1a1a] text-[14px] font-medium text-center mb-12\">\n            Related Products\n          </h2>\n          \n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            {relatedProducts.slice(0, 4).map((relatedProduct, index) => (\n              <div\n                key={relatedProduct.id || index}\n                className=\"bg-[#e9eceb] rounded-[11.952px] overflow-hidden cursor-pointer hover:shadow-lg transition-shadow\"\n                onClick={() => handleProductClick(relatedProduct)}\n              >\n                <div className=\"relative h-[174px] bg-[#dedede] overflow-hidden\">\n                  <Image\n                    src={relatedProduct.images?.[0]?.url || '/sample1.jpg'}\n                    alt={relatedProduct.name}\n                    fill\n                    className=\"object-cover\"\n                  />\n                  \n                  {/* Tags */}\n                  <div className=\"absolute top-4 left-4 space-y-2\">\n                    <div className=\"bg-[#bdc0b3] px-2 py-1 rounded-full\">\n                      <span className=\"text-[#272727] text-[12.749px] font-normal\">Staff Pick</span>\n                    </div>\n                    <div className=\"bg-[#bdc0b3] px-2 py-1 rounded-full\">\n                      <span className=\"text-[#272727] text-[12.749px] font-normal\">AveoEarth Certified</span>\n                    </div>\n                  </div>\n                  \n                  <div className=\"absolute bottom-4 left-4\">\n                    <div className=\"bg-[#3e3e3e] px-2 py-1 rounded-full\">\n                      <span className=\"text-[#e9eceb] text-[12.749px] font-normal\">-31%</span>\n                    </div>\n                  </div>\n                </div>\n                \n                <div className=\"p-6 space-y-3\">\n                  <h3 className=\"text-[#272727] text-[9.562px] font-normal leading-normal\">\n                    {relatedProduct.name}\n                  </h3>\n                  \n                  {/* Rating */}\n                  <div className=\"flex items-center gap-1\">\n                    {[...Array(5)].map((_, i) => (\n                      <Star key={i} className=\"w-[14.343px] h-[14.343px] fill-yellow-400 text-yellow-400\" />\n                    ))}\n                    <span className=\"text-[#696969] text-[9.562px] ml-1\">4.9 (524 Feedback)</span>\n                  </div>\n                  \n                  {/* Progress dots */}\n                  <div className=\"flex gap-1\">\n                    {[...Array(4)].map((_, i) => (\n                      <div key={i} className=\"flex-1 h-[5.976px] bg-[#7e7e7e] rounded-full\"></div>\n                    ))}\n                  </div>\n                  \n                  {/* Price and cart */}\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-1\">\n                      <span className=\"text-[#272727] text-[15.937px] font-semibold\">₹{relatedProduct.price || 89}</span>\n                      <div className=\"relative\">\n                        <span className=\"text-[#696969] text-[9.562px]\">₹{relatedProduct.compare_at_price || 120}</span>\n                        <div className=\"absolute top-1/2 left-0 right-0 h-px bg-[#696969]\"></div>\n                      </div>\n                    </div>\n                    <button className=\"bg-[#272727] border border-[#272727] rounded-[7.65px] p-2\">\n                      <ShoppingCart className=\"w-4 h-4 text-[#e9eceb]\" />\n                    </button>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Newsletter Section */}\n        <div className=\"bg-[#eaeaea] border-t border-[rgba(26,64,50,0.1)] py-8\">\n          <div className=\"max-w-4xl mx-auto px-4 flex items-center justify-between\">\n            <div>\n              <h3 className=\"text-[#272727] text-[17.994px] font-semibold mb-1\">Subscribe our Newsletter</h3>\n              <p className=\"text-[#696969] text-[10.497px] leading-[1.5]\">\n                Stay updated on sustainable products, ethical sourcing, and the latest from AveoEarth.\n              </p>\n            </div>\n            \n            <div className=\"flex items-center gap-4\">\n              <div className=\"bg-[#d3d3d3] border border-[#272727] rounded-[34.489px] px-4 py-2\">\n                <input\n                  type=\"email\"\n                  placeholder=\"Your email address\"\n                  className=\"bg-transparent text-[#808080] text-[11.996px] outline-none w-72\"\n                />\n              </div>\n              <button className=\"bg-[#272727] text-[#eaeaea] px-8 py-3 rounded-[32.24px] text-[11.996px] font-semibold\">\n                Subscribe\n              </button>\n            </div>\n            \n            <div className=\"flex items-center gap-2\">\n              {/* Social media icons */}\n              <div className=\"w-[29.99px] h-[29.99px] bg-gray-300 rounded-full\"></div>\n              <div className=\"w-[29.99px] h-[29.99px] bg-gray-300 rounded-full\"></div>\n              <div className=\"w-[29.99px] h-[29.99px] bg-gray-300 rounded-full\"></div>\n              <div className=\"w-[29.99px] h-[29.99px] bg-gray-300 rounded-full\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <Footer />\n\n      {/* Quick View Modal */}\n      {quickViewProduct && (\n        <ProductQuickView\n          product={quickViewProduct}\n          onClose={() => setQuickViewProduct(null)}\n        />\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":39469,"size_tokens":null},"src/components/admin/AdminTopbar.jsx":{"content":"\"use client\";\n\nimport { useState } from \"react\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { \n  MagnifyingGlassIcon, \n  BellIcon, \n  ChevronDownIcon,\n  Bars3Icon,\n  ArrowRightOnRectangleIcon,\n  UserIcon,\n  Cog6ToothIcon\n} from \"@heroicons/react/24/outline\";\n\nexport default function AdminTopbar({ user }) {\n  const [showProfileMenu, setShowProfileMenu] = useState(false);\n  const [showNotifications, setShowNotifications] = useState(false);\n  const { logout } = useAuth();\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      window.location.href = \"/admin/login\";\n    } catch (error) {\n      console.error(\"Logout failed:\", error);\n    }\n  };\n\n  const getUserInitials = (user) => {\n    if (!user) return \"A\";\n    const firstName = user.first_name || user.name || \"\";\n    const lastName = user.last_name || \"\";\n    return (firstName.charAt(0) + lastName.charAt(0)).toUpperCase() || \"A\";\n  };\n\n  const getUserDisplayName = (user) => {\n    if (!user) return \"Admin\";\n    return user.first_name && user.last_name \n      ? `${user.first_name} ${user.last_name}`\n      : user.name || user.email || \"Admin\";\n  };\n\n  return (\n    <div className=\"fixed top-0 left-60 right-0 h-16 bg-white border-b border-gray-300 flex items-center px-6 z-10\">\n      {/* Mobile menu button */}\n      <button className=\"lg:hidden mr-4\">\n        <Bars3Icon className=\"h-6 w-6 text-gray-600\" />\n      </button>\n      \n      {/* Search */}\n      <div className=\"flex-1 max-w-md\">\n        <div className=\"relative\">\n          <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search products, users, orders...\"\n            className=\"w-full pl-10 pr-4 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500\"\n          />\n        </div>\n      </div>\n      \n      {/* Right side */}\n      <div className=\"flex items-center gap-6 ml-6\">\n        {/* Notifications */}\n        <div className=\"relative\">\n          <button\n            onClick={() => setShowNotifications(!showNotifications)}\n            className=\"relative p-2 text-gray-600 hover:text-gray-900 transition-colors\"\n          >\n            <BellIcon className=\"h-6 w-6\" />\n            <div className=\"absolute -top-1 -right-1 h-5 w-5 bg-emerald-500 rounded-full flex items-center justify-center\">\n              <span className=\"text-xs font-bold text-white\">3</span>\n            </div>\n          </button>\n          \n          {/* Notifications Dropdown */}\n          {showNotifications && (\n            <div className=\"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50\">\n              <div className=\"px-4 py-2 border-b border-gray-100\">\n                <h3 className=\"text-sm font-semibold text-gray-900\">Notifications</h3>\n              </div>\n              <div className=\"max-h-64 overflow-y-auto\">\n                <div className=\"px-4 py-3 hover:bg-gray-50\">\n                  <p className=\"text-sm text-gray-900\">New supplier registration pending review</p>\n                  <p className=\"text-xs text-gray-500\">2 minutes ago</p>\n                </div>\n                <div className=\"px-4 py-3 hover:bg-gray-50\">\n                  <p className=\"text-sm text-gray-900\">5 new products awaiting approval</p>\n                  <p className=\"text-xs text-gray-500\">1 hour ago</p>\n                </div>\n                <div className=\"px-4 py-3 hover:bg-gray-50\">\n                  <p className=\"text-sm text-gray-900\">System maintenance scheduled for tonight</p>\n                  <p className=\"text-xs text-gray-500\">3 hours ago</p>\n                </div>\n              </div>\n              <div className=\"px-4 py-2 border-t border-gray-100\">\n                <button className=\"text-sm text-emerald-600 hover:text-emerald-700 font-medium\">\n                  View all notifications\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n        \n        {/* Profile */}\n        <div className=\"relative\">\n          <button\n            onClick={() => setShowProfileMenu(!showProfileMenu)}\n            className=\"flex items-center gap-3 hover:bg-gray-50 rounded-lg px-2 py-1 transition-colors\"\n          >\n            <div className=\"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center\">\n              <span className=\"text-sm font-semibold text-emerald-700\">\n                {getUserInitials(user)}\n              </span>\n            </div>\n            <div className=\"hidden sm:block text-left\">\n              <div className=\"text-sm font-semibold text-gray-900\">\n                {getUserDisplayName(user)}\n              </div>\n              <div className=\"text-xs text-gray-500\">Administrator</div>\n            </div>\n            <ChevronDownIcon className=\"h-4 w-4 text-gray-600\" />\n          </button>\n          \n          {/* Profile Dropdown */}\n          {showProfileMenu && (\n            <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50\">\n              <div className=\"px-4 py-2 border-b border-gray-100\">\n                <p className=\"text-sm font-semibold text-gray-900\">{getUserDisplayName(user)}</p>\n                <p className=\"text-xs text-gray-500\">{user?.email || \"admin@aveoearth.com\"}</p>\n              </div>\n              <div className=\"py-1\">\n                <button className=\"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\">\n                  <UserIcon className=\"h-4 w-4\" />\n                  Profile Settings\n                </button>\n                <button className=\"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50\">\n                  <Cog6ToothIcon className=\"h-4 w-4\" />\n                  Account Settings\n                </button>\n                <div className=\"border-t border-gray-100 my-1\"></div>\n                <button\n                  onClick={handleLogout}\n                  className=\"flex items-center gap-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50\"\n                >\n                  <ArrowRightOnRectangleIcon className=\"h-4 w-4\" />\n                  Sign Out\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n      \n      {/* Click outside to close dropdowns */}\n      {(showProfileMenu || showNotifications) && (\n        <div\n          className=\"fixed inset-0 z-40\"\n          onClick={() => {\n            setShowProfileMenu(false);\n            setShowNotifications(false);\n          }}\n        />\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":6737,"size_tokens":null},"src/hooks/useCart.js":{"content":"/**\n * useCart Hook\n * \n * React hook for managing cart state throughout the application.\n * Provides cart operations, state management, and real-time updates.\n */\n\"use client\"\nimport { useState, useEffect, useCallback, useContext, createContext } from 'react';\nimport buyerOrdersService from '../services/buyerOrdersService';\nimport { useAuth } from './useAuth';\n\n// Cart Context\nconst CartContext = createContext();\n\n// Cart Provider Component\nexport const CartProvider = ({ children }) => {\n  const [cart, setCart] = useState(null);\n  const [cartCount, setCartCount] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const { isLoggedIn } = useAuth();\n\n  // Load cart data\n  const loadCart = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const [cartData, count] = await Promise.all([\n        buyerOrdersService.getCart(),\n        buyerOrdersService.getCartCount()\n      ]);\n      \n      setCart(cartData);\n      setCartCount(count);\n    } catch (error) {\n      console.error('Failed to load cart:', error);\n      // Set default empty cart state instead of showing error\n      setCart({ items: [], total: 0 });\n      setCartCount(0);\n      // Only set error if it's not a 404 (cart doesn't exist yet)\n      if (!error.message?.includes('404') && !error.message?.includes('Not Found')) {\n        setError(error.message);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Add item to cart\n  const addToCart = useCallback(async (productId, quantity = 1, variantId = null) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      await buyerOrdersService.addToCart(productId, quantity, variantId);\n      \n      // Reload cart data\n      await loadCart();\n      \n      return true;\n    } catch (error) {\n      console.error('Failed to add to cart:', error);\n      setError(error.message);\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  }, [loadCart]);\n\n  // Update cart item quantity\n  const updateCartItem = useCallback(async (cartItemId, quantity) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      await buyerOrdersService.updateCartItem(cartItemId, quantity);\n      \n      // Reload cart data\n      await loadCart();\n      \n      return true;\n    } catch (error) {\n      console.error('Failed to update cart item:', error);\n      setError(error.message);\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  }, [loadCart]);\n\n  // Remove item from cart\n  const removeFromCart = useCallback(async (cartItemId) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      await buyerOrdersService.removeCartItem(cartItemId);\n      \n      // Reload cart data\n      await loadCart();\n      \n      return true;\n    } catch (error) {\n      console.error('Failed to remove from cart:', error);\n      setError(error.message);\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  }, [loadCart]);\n\n  // Clear entire cart\n  const clearCart = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      await buyerOrdersService.clearCart();\n      \n      setCart(null);\n      setCartCount(0);\n      \n      return true;\n    } catch (error) {\n      console.error('Failed to clear cart:', error);\n      setError(error.message);\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Transfer cart from guest to user after login\n  const transferCart = useCallback(async () => {\n    try {\n      if (!isLoggedIn) return false;\n      \n      setLoading(true);\n      setError(null);\n      \n      await buyerOrdersService.transferCartToUser();\n      \n      // Reload cart data after transfer\n      await loadCart();\n      \n      return true;\n    } catch (error) {\n      console.error('Failed to transfer cart:', error);\n      setError(error.message);\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  }, [isLoggedIn, loadCart]);\n\n  // Calculate cart totals\n  const cartTotals = useCallback(() => {\n    return buyerOrdersService.calculateCartTotals(cart);\n  }, [cart]);\n\n  // Check if product is in cart\n  const isInCart = useCallback((productId, variantId = null) => {\n    if (!cart?.items) return false;\n    \n    return cart.items.some(item => \n      item.product.id === productId && \n      (variantId ? item.variant?.id === variantId : !item.variant)\n    );\n  }, [cart]);\n\n  // Get item quantity in cart\n  const getItemQuantity = useCallback((productId, variantId = null) => {\n    if (!cart?.items) return 0;\n    \n    const item = cart.items.find(item => \n      item.product.id === productId && \n      (variantId ? item.variant?.id === variantId : !item.variant)\n    );\n    \n    return item?.quantity || 0;\n  }, [cart]);\n\n  // Load cart on mount and when authentication changes\n  useEffect(() => {\n    loadCart();\n  }, [loadCart]);\n\n  // Transfer cart when user logs in\n  useEffect(() => {\n    if (isLoggedIn && cartCount > 0) {\n      transferCart();\n    }\n  }, [isLoggedIn, cartCount, transferCart]);\n\n  const value = {\n    cart,\n    cartCount,\n    loading,\n    error,\n    addToCart,\n    updateCartItem,\n    removeFromCart,\n    clearCart,\n    transferCart,\n    loadCart,\n    cartTotals,\n    isInCart,\n    getItemQuantity\n  };\n\n  return (\n    <CartContext.Provider value={value}>\n      {children}\n    </CartContext.Provider>\n  );\n};\n\n// useCart hook\nexport const useCart = () => {\n  const context = useContext(CartContext);\n  if (!context) {\n    throw new Error('useCart must be used within a CartProvider');\n  }\n  return context;\n};\n\n// Individual hooks for specific cart operations (can be used without context)\nexport const useCartOperations = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const addToCart = useCallback(async (productId, quantity = 1, variantId = null) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      await buyerOrdersService.addToCart(productId, quantity, variantId);\n      return true;\n    } catch (error) {\n      console.error('Failed to add to cart:', error);\n      setError(error.message);\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const updateCartItem = useCallback(async (cartItemId, quantity) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      await buyerOrdersService.updateCartItem(cartItemId, quantity);\n      return true;\n    } catch (error) {\n      console.error('Failed to update cart item:', error);\n      setError(error.message);\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const removeFromCart = useCallback(async (cartItemId) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      await buyerOrdersService.removeCartItem(cartItemId);\n      return true;\n    } catch (error) {\n      console.error('Failed to remove from cart:', error);\n      setError(error.message);\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  return {\n    addToCart,\n    updateCartItem,\n    removeFromCart,\n    loading,\n    error\n  };\n};\n\nexport default useCart;\n","path":null,"size_bytes":7200,"size_tokens":null},"src/components/admin/ProductList.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport adminService from \"@/services/adminService\";\n\nexport default function ProductList() {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    fetchTopProducts();\n  }, []);\n\n  const fetchTopProducts = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const result = await adminService.getTopProducts({\n        limit: 4,\n        period: \"month\"\n      });\n\n      setProducts(result || []);\n    } catch (error) {\n      console.error('Failed to fetch top products:', error);\n      setError(error.message);\n      // Use fallback mock data\n      setProducts([\n        { name: \"Bamboo Spoons\", orders: 2345, likes: 2223, image: \"/spoons.png\" },\n        { name: \"Wooden Baskets\", orders: 1890, likes: 1856, image: \"/category1.png\" },\n        { name: \"Jute Bags\", orders: 1654, likes: 1423, image: \"/category1.png\" },\n        { name: \"Eco-friendly Plates\", orders: 1432, likes: 1289, image: \"/spoons.png\" },\n      ]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"space-y-4\">\n        {[1, 2, 3, 4].map(i => (\n          <div key={i} className=\"flex items-center gap-4 p-2\">\n            <div className=\"w-4 h-4 bg-gray-300 rounded animate-pulse\" />\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"h-4 bg-gray-300 rounded animate-pulse mb-2\" />\n              <div className=\"flex items-center gap-4\">\n                <div className=\"h-3 bg-gray-300 rounded animate-pulse w-16\" />\n                <div className=\"h-3 bg-gray-300 rounded animate-pulse w-16\" />\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"text-center text-gray-500 py-4\">\n        Failed to load top products\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {products.map((product, index) => (\n        <div key={index} className=\"flex items-center gap-4 p-2 hover:bg-gray-50 rounded-lg\">\n          <div className=\"w-12 h-12 bg-gray-200 rounded-lg flex-shrink-0 overflow-hidden\">\n            {product.image ? (\n              <img \n                src={product.image} \n                alt={product.name} \n                className=\"w-full h-full object-cover\"\n                onError={(e) => {\n                  e.target.style.display = 'none';\n                  e.target.nextSibling.style.display = 'flex';\n                }}\n              />\n            ) : null}\n            <div className=\"w-full h-full flex items-center justify-center text-gray-400 text-xs\">\n              No Image\n            </div>\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-sm font-medium text-gray-900\">{product.name}</p>\n            <div className=\"flex items-center gap-4 mt-1\">\n              <span className=\"text-sm text-gray-600\">{product.orders || 0} orders</span>\n              <span className=\"text-sm text-gray-600\">{product.likes || 0} likes</span>\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n","path":null,"size_bytes":3225,"size_tokens":null},"src/app/TermsandConditions/page.jsx":{"content":"import React from 'react';\n\nexport const metadata = {\n  title: 'Terms & Conditions - AveoEarth',\n  description: 'Read the terms and conditions for using AveoEarth platform. Learn about our policies, user responsibilities, and legal agreements.',\n};\n\nexport default function TermsAndConditionsPage() {\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        {/* Header */}\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">Terms & Conditions</h1>\n          <p className=\"text-lg text-gray-600\">\n            Please read these terms carefully before using our platform.\n          </p>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8\">\n          <div className=\"prose prose-lg max-w-none\">\n\n            {/* Section 1 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">1. Contract & Scope</h2>\n              <div className=\"space-y-3 text-gray-700\">\n                <p><strong>1.1</strong> These Terms govern your access to and use of www.aveoearth.com and associated apps (the \"Platform\") operated by AveoEarth Impact Private Limited (\"AveoEarth\", \"we\", \"us\"). By using the Platform, you agree to these Terms and the policies referenced here.</p>\n                <p><strong>1.2</strong> AveoEarth operates a marketplace/intermediary. Listings are published by independent sellers (\"Sellers\"). Your purchase contract is with the Seller. AveoEarth provides payment processing, order routing, customer support and dispute facilitation.</p>\n              </div>\n            </section>\n\n            {/* Section 2 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">2. Eligibility & Account</h2>\n              <div className=\"space-y-3 text-gray-700\">\n                <p><strong>2.1</strong> You must be at least 18 years old and competent to contract.</p>\n                <p><strong>2.2</strong> You are responsible for safeguarding your account and for all activities under it.</p>\n              </div>\n            </section>\n\n            {/* Section 3 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">3. Listings, Pricing & Taxes</h2>\n              <div className=\"space-y-3 text-gray-700\">\n                <p><strong>3.1</strong> Prices, shipping charges, taxes, availability and delivery estimates are shown before payment; many are set by Sellers.</p>\n                <p><strong>3.2</strong> If a material error in price/description is discovered, we or the Seller may cancel the order and refund.</p>\n              </div>\n            </section>\n\n            {/* Section 4 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">4. Orders & Acceptance</h2>\n              <div className=\"space-y-3 text-gray-700\">\n                <p><strong>4.1</strong> Order confirmation is an acknowledgement, not acceptance. Acceptance occurs on dispatch (or on access/fulfilment for digital/services).</p>\n                <p><strong>4.2</strong> We may cancel and refund for reasons including suspected fraud, regulatory restrictions, stock unavailability, address issues, force majeure, or as required by law.</p>\n              </div>\n            </section>\n\n            {/* Section 5 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">5. Payments & Security</h2>\n              <div className=\"space-y-3 text-gray-700\">\n                <p><strong>5.1</strong> Payments are processed by RBI-regulated payment aggregators/banks. AveoEarth does not store full card details; saved cards are tokens issued by our payment partners in line with RBI tokenisation norms.</p>\n                <p><strong>5.2</strong> Accepted instruments and any surcharges are disclosed at checkout. Payment failures and refunds follow bank/network rules and our Refunds & Cancellations Policy.</p>\n              </div>\n            </section>\n\n            {/* Section 6 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">6. Delivery & Risk of Loss</h2>\n              <div className=\"space-y-3 text-gray-700\">\n                <p><strong>6.1</strong> Delivery is performed by Sellers or logistics partners. Risk passes to you on delivery (or on digital/service fulfilment). Inspect on delivery and report issues per the Refunds & Cancellations Policy.</p>\n              </div>\n            </section>\n\n            {/* Section 7 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">7. Returns, Replacements & Refunds</h2>\n              <div className=\"space-y-3 text-gray-700\">\n                <p><strong>7.1</strong> Options, windows and exclusions are set out in the Refunds & Cancellations Policy and/or item page.</p>\n              </div>\n            </section>\n\n            {/* Section 8 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">8. Marketplace Role; Seller Responsibility</h2>\n              <div className=\"space-y-3 text-gray-700\">\n                <p><strong>8.1</strong> AveoEarth is an intermediary. Sellers are solely responsible for product quality, description accuracy, warranties and statutory compliance.</p>\n                <p><strong>8.2</strong> AveoEarth may facilitate support/refunds but is not the seller of record unless explicitly stated.</p>\n              </div>\n            </section>\n\n            {/* Section 9 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">9. User Content & Acceptable Use</h2>\n              <div className=\"space-y-3 text-gray-700\">\n                <p><strong>9.1</strong> Reviews/questions must be lawful and truthful. No infringing/defamatory/obscene content; no scraping, reverse engineering or security circumvention.</p>\n                <p><strong>9.2</strong> By posting content you grant us a licence to use/display it for Platform operations.</p>\n              </div>\n            </section>\n\n            {/* Section 10 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">10. IP & Ownership</h2>\n              <div className=\"space-y-3 text-gray-700\">\n                <p><strong>10.1</strong> All Platform content, trademarks and software are owned by AveoEarth or licensors. No rights are granted except to use the Platform.</p>\n              </div>\n            </section>\n\n            {/* Section 11 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">11. Warranty Disclaimer</h2>\n              <div className=\"space-y-3 text-gray-700\">\n                <p><strong>11.1</strong> Except as required by law, the Platform is provided \"as is\", without implied warranties of merchantability/fitness or uninterrupted error-free operation.</p>\n              </div>\n            </section>\n\n            {/* Section 12 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">12. Limitation of Liability</h2>\n              <div className=\"space-y-3 text-gray-700\">\n                <p><strong>12.1</strong> To the maximum extent permitted by law, AveoEarth's aggregate liability for any claim shall not exceed the amount you paid for the relevant order.</p>\n              </div>\n            </section>\n\n            {/* Section 13 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">13. Indemnity</h2>\n              <div className=\"space-y-3 text-gray-700\">\n                <p><strong>13.1</strong> You agree to indemnify AveoEarth against claims arising from your breach of these Terms or violation of law/third-party rights.</p>\n              </div>\n            </section>\n\n            {/* Section 14 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">14. Compliance & Sanctions</h2>\n              <div className=\"space-y-3 text-gray-700\">\n                <p><strong>14.1</strong> You must comply with applicable laws (including export controls/sanctions). We may restrict access where required by law or risk policy.</p>\n              </div>\n            </section>\n\n            {/* Section 15 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">15. Changes & Termination</h2>\n              <div className=\"space-y-3 text-gray-700\">\n                <p><strong>15.1</strong> We may modify these Terms/policies; continued use after changes constitutes acceptance. We may suspend/terminate accounts for policy or law violations.</p>\n              </div>\n            </section>\n\n            {/* Section 16 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">16. Governing Law & Dispute Resolution</h2>\n              <div className=\"space-y-3 text-gray-700\">\n                <p><strong>16.1</strong> Indian law governs. Courts at Noida, Uttar Pradesh have exclusive jurisdiction, subject to statutory consumer remedies.</p>\n              </div>\n            </section>\n\n            {/* Section 17 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">17. Contact & Grievance</h2>\n              <div className=\"space-y-3 text-gray-700\">\n                <p><strong>17.1</strong> Support: support@aveoearth.com, +91-99100 77670.</p>\n                <p><strong>17.2</strong> Grievance Officer: Anand B, grievance@aveoearth.com, +91-99100 77670 (acknowledge within 48 hours; resolve within 1 month).</p>\n              </div>\n            </section>\n\n            {/* Last Updated */}\n            <div className=\"mt-12 pt-6 border-t border-gray-200\">\n              <p className=\"text-center text-sm text-gray-500\">\n                Last updated: 11-09-2025\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer Note */}\n        <div className=\"mt-8 text-center\">\n          <p className=\"text-sm text-gray-600\">\n            If you have any questions about these Terms & Conditions, please contact us at{' '}\n            <a href=\"mailto:support@aveoearth.com\" className=\"text-[#1a4032] hover:underline\">\n              support@aveoearth.com\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":10806,"size_tokens":null},"src/components/cart/Cart.jsx":{"content":"/**\n * Cart Component\n * \n * Complete cart management interface with add, update, remove functionality\n * and checkout integration.\n */\n\n\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Image from 'next/image';\nimport { \n  ShoppingCart, \n  Plus, \n  Minus, \n  Trash2, \n  X, \n  ArrowRight,\n  Package,\n  CreditCard\n} from 'lucide-react';\nimport { useCart } from '../../hooks/useCart';\nimport { useAuth } from '../../hooks/useAuth';\nimport buyerOrdersService from '../../services/buyerOrdersService';\n\nconst Cart = ({ isOpen, onClose, showCheckoutButton = true }) => {\n  const router = useRouter();\n  const { isLoggedIn } = useAuth();\n  const {\n    cart,\n    cartCount,\n    loading,\n    error,\n    updateCartItem,\n    removeFromCart,\n    clearCart,\n    cartTotals\n  } = useCart();\n\n  const [updating, setUpdating] = useState({});\n  const totals = cartTotals();\n\n  // Handle quantity update with debouncing\n  const handleQuantityUpdate = async (cartItemId, newQuantity) => {\n    if (newQuantity < 1) {\n      return handleRemoveItem(cartItemId);\n    }\n\n    setUpdating(prev => ({ ...prev, [cartItemId]: true }));\n    \n    try {\n      await updateCartItem(cartItemId, newQuantity);\n    } catch (error) {\n      console.error('Failed to update quantity:', error);\n    } finally {\n      setUpdating(prev => ({ ...prev, [cartItemId]: false }));\n    }\n  };\n\n  // Handle item removal\n  const handleRemoveItem = async (cartItemId) => {\n    setUpdating(prev => ({ ...prev, [cartItemId]: true }));\n    \n    try {\n      await removeFromCart(cartItemId);\n    } catch (error) {\n      console.error('Failed to remove item:', error);\n    } finally {\n      setUpdating(prev => ({ ...prev, [cartItemId]: false }));\n    }\n  };\n\n  // Handle clear cart\n  const handleClearCart = async () => {\n    if (window.confirm('Are you sure you want to clear your cart?')) {\n      await clearCart();\n    }\n  };\n\n  // Handle checkout\n  const handleCheckout = () => {\n    if (!isLoggedIn) {\n      // Redirect to login with cart redirect\n      router.push('/login?redirect=/checkout');\n      return;\n    }\n    \n    router.push('/checkout');\n    onClose?.();\n  };\n\n  // Handle continue shopping\n  const handleContinueShopping = () => {\n    router.push('/explore');\n    onClose?.();\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <>\n      {/* Backdrop */}\n      <div \n        className=\"fixed inset-0 bg-black bg-opacity-50 z-40\"\n        onClick={onClose}\n      />\n      \n      {/* Cart Sidebar */}\n      <div className=\"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200\">\n          <div className=\"flex items-center gap-2\">\n            <ShoppingCart className=\"w-5 h-5 text-gray-700\" />\n            <h2 className=\"text-lg font-semibold text-gray-900\">\n              Cart ({cartCount})\n            </h2>\n          </div>\n          \n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-gray-100 rounded-full transition-colors\"\n          >\n            <X className=\"w-5 h-5 text-gray-500\" />\n          </button>\n        </div>\n\n        {/* Cart Content */}\n        <div className=\"flex flex-col h-full\">\n          {loading && !cart ? (\n            <div className=\"flex-1 flex items-center justify-center\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600\"></div>\n            </div>\n          ) : error ? (\n            <div className=\"flex-1 flex flex-col items-center justify-center p-4\">\n              <div className=\"text-red-500 text-center\">\n                <p className=\"font-medium\">Failed to load cart</p>\n                <p className=\"text-sm text-gray-600 mt-1\">{error}</p>\n              </div>\n            </div>\n          ) : !cart?.items || cart.items.length === 0 ? (\n            <div className=\"flex-1 flex flex-col items-center justify-center p-4\">\n              <Package className=\"w-16 h-16 text-gray-300 mb-4\" />\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Your cart is empty</h3>\n              <p className=\"text-gray-600 text-center mb-6\">\n                Add some items to get started\n              </p>\n              <button\n                onClick={handleContinueShopping}\n                className=\"bg-green-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-green-700 transition-colors\"\n              >\n                Continue Shopping\n              </button>\n            </div>\n          ) : (\n            <>\n              {/* Cart Items */}\n              <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n                {cart.items.map((item) => (\n                  <div key={item.id} className=\"flex gap-3 border-b border-gray-100 pb-4\">\n                    {/* Product Image */}\n                    <div className=\"flex-shrink-0 w-16 h-16 bg-gray-100 rounded-lg overflow-hidden\">\n                      <Image\n                        src={item.product?.image || item.product?.images?.[0]?.url || item.image || item.image_url || '/sample1.jpg'}\n                        alt={item.product?.name || item.product_name || 'Product'}\n                        width={64}\n                        height={64}\n                        className=\"w-full h-full object-cover\"\n                      />\n                    </div>\n\n                    {/* Product Details */}\n                    <div className=\"flex-1 min-w-0\">\n                      <h4 className=\"text-sm font-medium text-gray-900 truncate\">\n                        {item.product?.name || item.product_name || 'Product'}\n                      </h4>\n                      \n                      {(item.variant_title || item.variant?.name) && (\n                        <p className=\"text-xs text-gray-500 mt-1\">\n                          {item.variant_title || item.variant?.name}\n                        </p>\n                      )}\n                      \n                      <div className=\"flex items-center justify-between mt-2\">\n                        <div className=\"flex items-center gap-2\">\n                          {/* Quantity Controls */}\n                          <div className=\"flex items-center border border-gray-200 rounded\">\n                            <button\n                              onClick={() => handleQuantityUpdate(item.id, item.quantity - 1)}\n                              disabled={updating[item.id] || item.quantity <= 1}\n                              className=\"p-1 hover:bg-gray-100 disabled:opacity-50\"\n                            >\n                              <Minus className=\"w-3 h-3\" />\n                            </button>\n                            \n                            <span className=\"px-2 py-1 text-sm min-w-[2rem] text-center\">\n                              {updating[item.id] ? '...' : item.quantity}\n                            </span>\n                            \n                            <button\n                              onClick={() => handleQuantityUpdate(item.id, item.quantity + 1)}\n                              disabled={updating[item.id]}\n                              className=\"p-1 hover:bg-gray-100 disabled:opacity-50\"\n                            >\n                              <Plus className=\"w-3 h-3\" />\n                            </button>\n                          </div>\n\n                          {/* Remove Button */}\n                          <button\n                            onClick={() => handleRemoveItem(item.id)}\n                            disabled={updating[item.id]}\n                            className=\"p-1 text-red-500 hover:bg-red-50 rounded disabled:opacity-50\"\n                          >\n                            <Trash2 className=\"w-3 h-3\" />\n                          </button>\n                        </div>\n\n                        {/* Price */}\n                        <div className=\"text-right\">\n                          <p className=\"text-sm font-medium text-gray-900\">\n                            {buyerOrdersService.formatCurrency(\n                              (item.variant?.price || item.product.price) * item.quantity\n                            )}\n                          </p>\n                          \n                          {item.quantity > 1 && (\n                            <p className=\"text-xs text-gray-500\">\n                              {buyerOrdersService.formatCurrency(\n                                item.variant?.price || item.product.price\n                              )} each\n                            </p>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n\n                {/* Clear Cart Button */}\n                {cart.items.length > 0 && (\n                  <button\n                    onClick={handleClearCart}\n                    className=\"w-full text-sm text-red-600 hover:text-red-700 py-2 border border-red-200 rounded-lg hover:bg-red-50 transition-colors\"\n                  >\n                    Clear Cart\n                  </button>\n                )}\n              </div>\n\n              {/* Cart Summary */}\n              <div className=\"border-t border-gray-200 p-4 space-y-4\">\n                {/* Totals */}\n                <div className=\"space-y-2\">\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-gray-600\">Subtotal ({totals.itemCount} items)</span>\n                    <span className=\"font-medium\">{buyerOrdersService.formatCurrency(totals.subtotal)}</span>\n                  </div>\n                  \n                  {/* Add shipping, tax calculations here if needed */}\n                  \n                  <div className=\"flex justify-between text-lg font-semibold border-t border-gray-200 pt-2\">\n                    <span>Total</span>\n                    <span>{buyerOrdersService.formatCurrency(totals.total)}</span>\n                  </div>\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"space-y-2\">\n                  {showCheckoutButton && (\n                    <button\n                      onClick={handleCheckout}\n                      className=\"w-full bg-green-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-2\"\n                    >\n                      <CreditCard className=\"w-4 h-4\" />\n                      Proceed to Checkout\n                      <ArrowRight className=\"w-4 h-4\" />\n                    </button>\n                  )}\n                  \n                  <button\n                    onClick={handleContinueShopping}\n                    className=\"w-full border border-gray-300 text-gray-700 py-2 px-4 rounded-lg font-medium hover:bg-gray-50 transition-colors\"\n                  >\n                    Continue Shopping\n                  </button>\n                </div>\n\n                {/* Login Prompt for Guest Users */}\n                {!isLoggedIn && (\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n                    <p className=\"text-sm text-blue-800\">\n                      <strong>Sign in</strong> to save your cart and faster checkout\n                    </p>\n                    <button\n                      onClick={() => router.push('/login')}\n                      className=\"text-sm text-blue-600 hover:text-blue-700 font-medium mt-1\"\n                    >\n                      Sign in now →\n                    </button>\n                  </div>\n                )}\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n\n// Mini Cart Component for Header\nexport const MiniCart = ({ onOpenCart }) => {\n  const { cartCount, loading } = useCart();\n\n  return (\n    <button\n      onClick={onOpenCart}\n      className=\"relative p-2 text-gray-700 hover:text-gray-900 transition-colors\"\n    >\n      <ShoppingCart className=\"w-6 h-6\" />\n      \n      {!loading && cartCount > 0 && (\n        <span className=\"absolute -top-1 -right-1 bg-green-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-medium\">\n          {cartCount > 99 ? '99+' : cartCount}\n        </span>\n      )}\n      \n      {loading && (\n        <span className=\"absolute -top-1 -right-1 w-3 h-3 border border-green-600 border-t-transparent rounded-full animate-spin\"></span>\n      )}\n    </button>\n  );\n};\n\nexport default Cart;\n","path":null,"size_bytes":12625,"size_tokens":null},"src/app/terms/page.jsx":{"content":"'use client';\n\nexport default function TermsPage() {\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-8\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"bg-white rounded-lg shadow-lg p-8\">\n          <div className=\"text-center mb-8\">\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\n              Terms & Conditions\n            </h1>\n            <p className=\"text-gray-600\">\n              AVEOEARTH VENDOR TERMS & CONDITIONS\n            </p>\n            <p className=\"text-sm text-gray-500 mt-2\">\n              Enhanced Click-Wrap Agreement<br />\n              Effective Date: September 6, 2025<br />\n              Version: 2025.1\n            </p>\n          </div>\n\n          <div className=\"prose max-w-none\">\n            <div className=\"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6\">\n              <h2 className=\"text-lg font-semibold text-yellow-800 mb-2\">\n                DIGITAL ACCEPTANCE & BINDING CONSENT\n              </h2>\n              <p className=\"text-yellow-700\">\n                <strong>IMPORTANT NOTICE:</strong> These Terms & Conditions (\"Agreement\") govern your use of the\n                AveoEarth marketplace platform operated by AveoEarth Impact Private Limited (\"AveoEarth\",\n                \"Company\", \"we\", \"us\").\n              </p>\n              <p className=\"text-yellow-700 mt-2\">\n                <strong>BY CLICKING \"I AGREE AND ACCEPT\" BELOW, YOU ACKNOWLEDGE AND CONFIRM:</strong><br />\n                This creates a LEGALLY BINDING contract under Indian law and your acceptance is recorded with\n                timestamp, IP address, and digital audit trail as permitted by law.\n              </p>\n            </div>\n\n            <section className=\"mb-8\">\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">1. DEFINITIONS & INTERPRETATION</h2>\n              \n              <h3 className=\"text-lg font-medium text-gray-800 mb-3\">1.1 Key Definitions</h3>\n              <ul className=\"list-disc list-inside space-y-2 text-gray-700 mb-4\">\n                <li><strong>\"Platform\":</strong> AveoEarth's online marketplace accessible at aveoearth.com and mobile applications</li>\n                <li><strong>\"Vendor\":</strong> Any individual or entity selling products through the Platform</li>\n                <li><strong>\"Customer\":</strong> End users purchasing products through the Platform</li>\n                <li><strong>\"Products\":</strong> All goods, services, and digital content offered by Vendors</li>\n                <li><strong>\"Agreement\":</strong> These Terms & Conditions including all referenced policies and addendums</li>\n              </ul>\n\n              <h3 className=\"text-lg font-medium text-gray-800 mb-3\">1.2 Relationship of Parties</h3>\n              <ul className=\"list-disc list-inside space-y-2 text-gray-700\">\n                <li>Vendors are independent contractors, not employees, agents, or partners of AveoEarth</li>\n                <li>AveoEarth operates as a technology platform facilitator connecting Vendors with Customers</li>\n                <li>AveoEarth is NOT a seller, buyer, distributor, or marketplace participant</li>\n                <li>No joint venture, partnership, or agency relationship exists between the parties</li>\n              </ul>\n            </section>\n\n            <section className=\"mb-8\">\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">2. VENDOR ONBOARDING & ENHANCED COMPLIANCE</h2>\n              \n              <h3 className=\"text-lg font-medium text-gray-800 mb-3\">2.1 Registration Requirements</h3>\n              <p className=\"text-gray-700 mb-3\">All Vendors must provide complete and accurate documentation:</p>\n              <ul className=\"list-disc list-inside space-y-2 text-gray-700 mb-4\">\n                <li><strong>Basic KYC:</strong> PAN, GSTIN, Udyam Registration, Incorporation/Identity Proofs</li>\n                <li><strong>Enhanced Verification:</strong> Beneficial ownership disclosure (25%+ shareholding), Source of funds certification</li>\n                <li><strong>Industry Licenses:</strong> Sector-specific permits, quality certifications where applicable</li>\n                <li><strong>Financial Information:</strong> Bank account details, tax compliance certificates</li>\n              </ul>\n\n              <h3 className=\"text-lg font-medium text-gray-800 mb-3\">2.2 Ongoing Compliance Obligations</h3>\n              <ul className=\"list-disc list-inside space-y-2 text-gray-700 mb-4\">\n                <li><strong>Annual Re-verification:</strong> Complete documentation renewal within 30 days of anniversary</li>\n                <li><strong>Real-time Monitoring:</strong> Automated system alerts for compliance deviations</li>\n                <li><strong>Additional Documentation:</strong> AveoEarth may demand supplementary documents with 7 days notice</li>\n                <li><strong>Compliance Training:</strong> Mandatory participation in platform training programs as introduced</li>\n              </ul>\n\n              <h3 className=\"text-lg font-medium text-gray-800 mb-3\">2.3 Compliance Defaults</h3>\n              <p className=\"text-gray-700 mb-3\">Missing or incorrect documentation constitutes material breach. AveoEarth reserves the right to:</p>\n              <ul className=\"list-disc list-inside space-y-2 text-gray-700\">\n                <li>Suspend account access immediately</li>\n                <li>Withhold payments until compliance restored</li>\n                <li>Terminate agreement with immediate effect</li>\n                <li>Report non-compliance to relevant authorities</li>\n              </ul>\n            </section>\n\n            <section className=\"mb-8\">\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">3. ENHANCED PRODUCT & SERVICE STANDARDS</h2>\n              \n              <h3 className=\"text-lg font-medium text-gray-800 mb-3\">3.1 Product Quality & Authenticity</h3>\n              <p className=\"text-gray-700 mb-3\">Vendors warrant that all Products are:</p>\n              <ul className=\"list-disc list-inside space-y-2 text-gray-700 mb-4\">\n                <li><strong>Genuine and Non-counterfeit</strong> with authentic manufacturer authorization</li>\n                <li><strong>Legally Compliant</strong> with all applicable Indian laws and regulations</li>\n                <li><strong>Quality Assured</strong> meeting BIS/ISI standards where applicable</li>\n                <li><strong>Safely Packaged</strong> with appropriate labeling and handling instructions</li>\n                <li><strong>Accurately Described</strong> with no misleading claims or representations</li>\n              </ul>\n\n              <h3 className=\"text-lg font-medium text-gray-800 mb-3\">3.2 Service Level Standards</h3>\n              <p className=\"text-gray-700 mb-3\">Vendors are expected to maintain high service standards including:</p>\n              <ul className=\"list-disc list-inside space-y-2 text-gray-700 mb-4\">\n                <li><strong>Timely Order Confirmation:</strong> Prompt acknowledgment of customer orders</li>\n                <li><strong>Efficient Dispatch:</strong> Timely processing and shipment of products according to category-specific requirements</li>\n                <li><strong>Return Processing:</strong> Professional handling of customer returns and exchanges</li>\n                <li><strong>Customer Rating Maintenance:</strong> Consistent delivery of satisfactory customer experience</li>\n                <li><strong>Responsive Communication:</strong> Timely response to customer queries and platform communications</li>\n              </ul>\n\n              <div className=\"bg-blue-50 border-l-4 border-blue-400 p-4 mb-4\">\n                <h4 className=\"font-medium text-blue-800 mb-2\">Performance Evaluation:</h4>\n                <ul className=\"list-disc list-inside space-y-1 text-blue-700 text-sm\">\n                  <li>Performance standards will be evaluated based on customer feedback, marketplace metrics, and industry best practices</li>\n                  <li>Specific benchmarks may be introduced and communicated via platform updates as the marketplace evolves</li>\n                  <li>Vendors will receive performance guidance and support to meet platform standards</li>\n                </ul>\n              </div>\n\n              <h3 className=\"text-lg font-medium text-gray-800 mb-3\">3.3 Continuous Performance Monitoring</h3>\n              <ul className=\"list-disc list-inside space-y-2 text-gray-700\">\n                <li><strong>Automated Tracking:</strong> Real-time SLA monitoring and performance evaluation</li>\n                <li><strong>Performance Dashboard:</strong> Vendor access to metrics and improvement recommendations</li>\n                <li><strong>Quality Audits:</strong> Scheduled audits of products, processes, and compliance</li>\n                <li><strong>Customer Feedback Integration:</strong> Regular performance reviews based on customer ratings</li>\n                <li><strong>Returns/Refunds Analysis:</strong> Monthly assessment of return rates against industry benchmarks</li>\n                <li><strong>Tier Performance Review:</strong> Quarterly evaluation of vendor performance for tier maintenance or adjustment</li>\n              </ul>\n            </section>\n\n            <section className=\"mb-8\">\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">4. TIER-BASED BENEFITS & PAYMENT FRAMEWORK</h2>\n              \n              <h3 className=\"text-lg font-medium text-gray-800 mb-3\">4.1 Vendor Tier System</h3>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6\">\n                <div className=\"border border-gray-300 rounded-lg p-4\">\n                  <h4 className=\"font-semibold text-gray-800 mb-2 text-green-600\">FREE TIER:</h4>\n                  <ul className=\"list-disc list-inside space-y-1 text-sm text-gray-600\">\n                    <li>Basic platform access</li>\n                    <li>Standard payment cycle: T+21 days post-delivery</li>\n                    <li>Basic customer support</li>\n                    <li>Standard product visibility</li>\n                  </ul>\n                </div>\n                \n                <div className=\"border border-blue-300 rounded-lg p-4\">\n                  <h4 className=\"font-semibold text-blue-600 mb-2\">PREMIUM TIER:</h4>\n                  <ul className=\"list-disc list-inside space-y-1 text-sm text-gray-600\">\n                    <li>Enhanced product visibility</li>\n                    <li>Accelerated payment cycle: T+15 days post-delivery</li>\n                    <li>Priority customer support</li>\n                    <li>Basic analytics dashboard</li>\n                  </ul>\n                </div>\n                \n                <div className=\"border border-yellow-300 rounded-lg p-4\">\n                  <h4 className=\"font-semibold text-yellow-600 mb-2\">GOLD TIER:</h4>\n                  <ul className=\"list-disc list-inside space-y-1 text-sm text-gray-600\">\n                    <li>Priority search placement</li>\n                    <li>Accelerated payment cycle: T+10 days post-delivery</li>\n                    <li>Dedicated account manager</li>\n                    <li>Advanced analytics and insights</li>\n                    <li>Marketing support</li>\n                  </ul>\n                </div>\n                \n                <div className=\"border border-purple-300 rounded-lg p-4\">\n                  <h4 className=\"font-semibold text-purple-600 mb-2\">PLATINUM TIER:</h4>\n                  <ul className=\"list-disc list-inside space-y-1 text-sm text-gray-600\">\n                    <li>Maximum product visibility</li>\n                    <li>Accelerated payment cycle: T+5 days post-delivery</li>\n                    <li>Premium account management</li>\n                    <li>Advanced marketing tools</li>\n                    <li>Priority issue resolution</li>\n                    <li>Custom reporting</li>\n                  </ul>\n                </div>\n              </div>\n\n              <h3 className=\"text-lg font-medium text-gray-800 mb-3\">4.2 Payment Terms</h3>\n              <ul className=\"list-disc list-inside space-y-2 text-gray-700 mb-4\">\n                <li><strong>Payment Method:</strong> Electronic transfer to registered bank account only</li>\n                <li><strong>Currency:</strong> Indian Rupees (INR) unless specifically agreed otherwise</li>\n                <li><strong>Payment Cycle:</strong> \"T+\" represents days from successful delivery confirmation and completion of return window</li>\n                <li><strong>Zero Commission:</strong> AveoEarth operates on a zero-commission model for product sales</li>\n                <li><strong>Platform Fees:</strong> Applicable only for premium tier services and optional marketing tools</li>\n              </ul>\n            </section>\n\n            <section className=\"mb-8\">\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">5. ROBUST INTELLECTUAL PROPERTY PROTECTION</h2>\n              \n              <h3 className=\"text-lg font-medium text-gray-800 mb-3\">5.1 Comprehensive IP Warranties</h3>\n              <p className=\"text-gray-700 mb-3\">Vendor warrants and guarantees:</p>\n              <ul className=\"list-disc list-inside space-y-2 text-gray-700 mb-4\">\n                <li><strong>Ownership Rights:</strong> Full ownership or licensed rights to all Product IP</li>\n                <li><strong>No Infringement:</strong> Products do not violate any patent, trademark, copyright, or design rights</li>\n                <li><strong>Authentic Authorization:</strong> Valid authorization from brand owners and manufacturers</li>\n                <li><strong>Trade Secret Protection:</strong> No unauthorized use of confidential information</li>\n                <li><strong>Publicity Rights:</strong> Proper clearance for use of personality rights and endorsements</li>\n              </ul>\n            </section>\n\n            <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-6 mt-8\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">Contact Information</h3>\n              <p className=\"text-gray-700\">\n                For any questions regarding these Terms & Conditions, please contact our support team at{' '}\n                <a href=\"mailto:support@aveoearth.com\" className=\"text-blue-600 hover:text-blue-800 underline\">\n                  support@aveoearth.com\n                </a>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":14620,"size_tokens":null},"src/components/admin/SalesChart.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport TabSelector from \"./TabSelector\";\nimport adminService from \"@/services/adminService\";\n\nexport default function SalesChart() {\n  const [salesPeriod, setSalesPeriod] = useState(\"Today\");\n  const [selectedType, setSelectedType] = useState(\"sales\");\n  const [chartData, setChartData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const salesTypes = [\n    { label: \"Sales\", value: \"sales\" },\n    { label: \"Orders\", value: \"orders\" },\n    { label: \"Ad Revenue\", value: \"ad_revenue\" }\n  ];\n\n  useEffect(() => {\n    fetchChartData();\n  }, [salesPeriod, selectedType]);\n\n  const fetchChartData = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const result = await adminService.getSalesChartData({\n        period: salesPeriod.toLowerCase(),\n        type: selectedType\n      });\n\n      setChartData(result.data || []);\n    } catch (error) {\n      console.error('Failed to fetch chart data:', error);\n      setError(error.message);\n      // Use fallback mock data\n      setChartData([\n        { day: \"10\", value: 20 },\n        { day: \"11\", value: 45 },\n        { day: \"12\", value: 30 },\n        { day: \"13\", value: 65 },\n        { day: \"14\", value: 50 },\n        { day: \"15\", value: 85 },\n        { day: \"16\", value: 90 },\n        { day: \"17\", value: 75 },\n        { day: \"18\", value: 60 },\n        { day: \"19\", value: 40 },\n        { day: \"20\", value: 55 },\n        { day: \"21\", value: 70 },\n        { day: \"22\", value: 80 },\n      ]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Mock chart data - fallback if API fails\n  const fallbackData = [\n    { day: \"10\", value: 20 },\n    { day: \"11\", value: 45 },\n    { day: \"12\", value: 30 },\n    { day: \"13\", value: 65 },\n    { day: \"14\", value: 50 },\n    { day: \"15\", value: 85 },\n    { day: \"16\", value: 90 }, // Current day - highlighted\n    { day: \"17\", value: 75 },\n    { day: \"18\", value: 60 },\n    { day: \"19\", value: 40 },\n    { day: \"20\", value: 55 },\n    { day: \"21\", value: 70 },\n    { day: \"22\", value: 80 },\n  ];\n\n  const displayData = chartData.length > 0 ? chartData : fallbackData;\n  const maxValue = Math.max(...displayData.map(d => d.value));\n  const minValue = Math.min(...displayData.map(d => d.value));\n  const range = maxValue - minValue;\n  \n  return (\n    <div className=\"space-y-6\">\n      {/* Chart Type Selector */}\n      <TabSelector \n        options={salesTypes}\n        selected={selectedType}\n        onSelect={setSelectedType}\n      />\n      \n      <div className=\"relative\">\n        {/* Y-axis labels */}\n        <div className=\"absolute left-0 top-0 h-32 flex flex-col justify-between text-xs text-gray-400 pr-4\">\n          <span>100K</span>\n          <span>80K</span>\n          <span>60K</span>\n          <span>40K</span>\n          <span>20K</span>\n        </div>\n        \n        {/* Chart area */}\n        <div className=\"ml-12 relative h-32\">\n          {/* Grid lines */}\n          <div className=\"absolute inset-0 flex flex-col justify-between\">\n            {[...Array(5)].map((_, i) => (\n              <div key={i} className=\"w-full h-px bg-gray-200\" />\n            ))}\n          </div>\n          \n          {/* Chart background area */}\n          <svg className=\"absolute inset-0 w-full h-full\">\n            <defs>\n              <linearGradient id=\"areaGradient\" x1=\"0%\" y1=\"0%\" x2=\"0%\" y2=\"100%\">\n                <stop offset=\"0%\" stopColor=\"#2f6b4f\" stopOpacity=\"0.1\" />\n                <stop offset=\"100%\" stopColor=\"#2f6b4f\" stopOpacity=\"0.02\" />\n              </linearGradient>\n            </defs>\n            \n            {/* Area under the curve */}\n            <path\n              d={`M 0% 100% L ${displayData.map((d, i) => \n                `${(i / (displayData.length - 1)) * 100}% ${100 - ((d.value - minValue) / range) * 100}%`\n              ).join(' L ')} L 100% 100% Z`}\n              fill=\"url(#areaGradient)\"\n            />\n            \n            {/* Main line */}\n            <path\n              d={`M ${displayData.map((d, i) => \n                `${(i / (displayData.length - 1)) * 100}% ${100 - ((d.value - minValue) / range) * 100}%`\n              ).join(' L ')}`}\n              fill=\"none\"\n              stroke=\"#2f6b4f\"\n              strokeWidth=\"2\"\n              className=\"drop-shadow-sm\"\n            />\n            \n            {/* Data points */}\n            {displayData.map((d, i) => (\n              <circle\n                key={i}\n                cx={`${(i / (displayData.length - 1)) * 100}%`}\n                cy={`${100 - ((d.value - minValue) / range) * 100}%`}\n                r=\"3\"\n                fill={d.day === \"16\" ? \"#2f6b4f\" : \"#2f6b4f\"}\n                className=\"drop-shadow-sm\"\n              />\n            ))}\n          </svg>\n          \n          {/* Current value callout */}\n          <div className=\"absolute bg-[#2f6b4f] text-white px-2 py-1 rounded text-xs shadow-lg\"\n               style={{ left: \"61.5%\", top: \"10%\" }}>\n            <div className=\"flex items-center\">\n              83,234\n              <div className=\"ml-1 w-0 h-0 border-l-2 border-r-2 border-t-2 border-transparent border-t-[#2f6b4f] transform translate-y-1\"></div>\n            </div>\n          </div>\n        </div>\n        \n        {/* X-axis labels */}\n        <div className=\"ml-12 mt-4 flex justify-between text-xs text-gray-400\">\n          {displayData.map((d) => (\n            <span \n              key={d.day} \n              className={d.day === \"16\" ? \"font-bold text-blue-600\" : \"\"}\n            >\n              {d.day}\n            </span>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":5678,"size_tokens":null},"src/app/vendor/dashboard/page.jsx":{"content":"\"use client\";\n\nimport { useState } from \"react\";\nimport VendorOnboarding from \"../onboarding/page\";\nimport VendorSidebar from \"../../../components/vendor/VendorSidebar\";\nimport DashboardContent from \"../../../components/vendor/DashboardContent\";\nimport ProductsContent from \"../../../components/vendor/ProductsContent\";\nimport OrdersContent from \"../../../components/vendor/OrdersContent\";\nimport AnalyticsContent from \"../../../components/vendor/AnalyticsContent\";\nimport SettingsContent from \"../../../components/vendor/SettingsContent\";\n\n// Mobile Menu Icon Component\nconst MenuIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M3 12H21M3 6H21M3 18H21\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nconst CloseIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M18 6L6 18M6 6L18 18\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport default function VendorDashboard() {\n  const [activeTab, setActiveTab] = useState(\"dashboard\");\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n  const [vendor, setVendor] = useState({\n    name: \"John Organic\",\n    email: \"john@organicfarm.com\",\n    phone: \"+1234567890\",\n    totalUsers: 40689,\n    activeOrders: 12,\n    monthlyRevenue: 8420,\n    lowStockAlerts: 3\n  });\n\n  const handleOnboardingComplete = (vendorData) => {\n    setVendor(vendorData);\n    setActiveTab(\"dashboard\");\n  };\n\n  const handleTabChange = (tab) => {\n    setActiveTab(tab);\n    setIsMobileMenuOpen(false); // Close mobile menu when tab changes\n  };\n\n  return (\n    <div className=\"bg-white w-full min-h-screen overflow-hidden flex flex-col lg:flex-row\">\n      {/* Mobile Header */}\n      <div className=\"lg:hidden bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between\">\n        <h1 className=\"text-lg font-semibold text-gray-900\">Vendor Dashboard</h1>\n        <button\n          onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)}\n          className=\"p-2 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500\"\n        >\n          {isMobileMenuOpen ? <CloseIcon /> : <MenuIcon />}\n        </button>\n      </div>\n\n      {/* Sidebar - Hidden on mobile, overlay when open */}\n      <div className={`\n        fixed inset-y-0 left-0 z-50 w-[280px] bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out\n        lg:relative lg:translate-x-0 lg:w-[240px] lg:flex-shrink-0\n        ${isMobileMenuOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'}\n      `}>\n        <div className=\"h-full overflow-y-auto\">\n          <VendorSidebar\n            activeTab={activeTab}\n            setActiveTab={handleTabChange}\n            vendor={vendor}\n          />\n        </div>\n      </div>\n\n      {/* Mobile Overlay */}\n      {isMobileMenuOpen && (\n        <div\n          className=\"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden\"\n          onClick={() => setIsMobileMenuOpen(false)}\n        />\n      )}\n\n      {/* Main Content Area */}\n      <div className=\"flex-1 h-screen overflow-y-auto lg:h-screen\">\n        {activeTab === \"dashboard\" && <DashboardContent vendor={vendor} />}\n        {activeTab === \"onboarding\" && (\n          <VendorOnboarding onComplete={handleOnboardingComplete} />\n        )}\n        {activeTab === \"products\" && <ProductsContent />}\n        {activeTab === \"orders\" && <OrdersContent />}\n        {activeTab === \"analytics\" && <AnalyticsContent />}\n        {activeTab === \"settings\" && <SettingsContent />}\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":3785,"size_tokens":null},"src/components/vendor/onboarding/StepNavigation.jsx":{"content":"import React from 'react';\n\nexport default function StepNavigation({ currentStep }) {\n  if (currentStep < 3 || currentStep > 5) return null;\n\n  return (\n    <div className=\"flex justify-center mb-8\">\n      <div className=\"bg-white rounded-full p-[5px] flex gap-1.5\">\n        <div className={`${currentStep === 3 ? 'bg-[#b6e4ca]' : 'bg-[#ececec]'} rounded-full px-[17px] py-1.5`}>\n          <span className=\"font-reem text-[10px] text-black tracking-[0.2px]\">\n            Product Info\n          </span>\n        </div>\n        <div className={`${currentStep === 4 ? 'bg-[#b6e4ca]' : 'bg-[#ececec]'} rounded-full px-[11px] py-1.5`}>\n          <span className=\"font-reem text-[10px] text-black tracking-[0.2px]\">\n            Inventory\n          </span>\n        </div>\n        <div className={`${currentStep === 5 ? 'bg-[#b6e4ca]' : 'bg-[#ececec]'} rounded-full px-[12.5px] py-1.5`}>\n          <span className=\"font-reem text-[10px] text-black tracking-[0.2px]\">\n            Sustainability\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":1049,"size_tokens":null},"src/components/vendor/products/AddProductModal.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { productsService } from '../../../lib/productsService';\nimport { productsSupplier, tokens } from '../../../lib/api';\n\nexport default function AddProductModal({ isOpen, onClose, onProductAdded }) {\n  const [formData, setFormData] = useState({\n    name: '',\n    sku: '',\n    short_description: '',\n    description: '',\n    category_id: '',\n    brand_id: '',\n    price: '',\n    compare_at_price: '',\n    weight: '',\n    origin_country: '',\n    materials: [],\n    dimensions: { length: 0, width: 0, height: 0 },\n    manufacturing_details: { process: '', location: '' },\n    images: [],\n    tags: []\n  });\n\n  const [categories, setCategories] = useState([]);\n  const [brands, setBrands] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [submitting, setSubmitting] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [currentTagInput, setCurrentTagInput] = useState('');\n  const [currentMaterialInput, setCurrentMaterialInput] = useState('');\n  \n  // Verification state\n  const [verificationState, setVerificationState] = useState({\n    isVerifying: false,\n    result: null,\n    error: null\n  });\n\n  // Load categories and brands on component mount\n  useEffect(() => {\n    if (isOpen) {\n      loadData();\n    }\n  }, [isOpen]);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      const token = tokens.get()?.access_token;\n      \n      console.log('Loading categories and brands...', { token: !!token });\n      \n      if (!token) {\n        console.warn('No access token found, using fallback data');\n        setCategories([\n          { id: '1', name: 'Home & Living' },\n          { id: '2', name: 'Fashion' },\n          { id: '3', name: 'Food & Beverage' },\n          { id: '4', name: 'Beauty & Personal Care' },\n          { id: '5', name: 'Pets' }\n        ]);\n        setBrands([\n          { id: '1', name: 'Eco-Friendly Co.' },\n          { id: '2', name: 'Green Living' },\n          { id: '3', name: 'Natural Choice' },\n          { id: '4', name: 'Sustainable Goods' }\n        ]);\n        return;\n      }\n      \n      const [categoriesData, brandsData] = await Promise.all([\n        productsSupplier.getCategories(token),\n        productsSupplier.getBrands(token)\n      ]);\n      \n      console.log('Raw API response:', { categoriesData, brandsData });\n      \n      // Process categories tree into flat list if needed\n      let processedCategories = [];\n      if (categoriesData) {\n        if (Array.isArray(categoriesData)) {\n          // If already flat array\n          processedCategories = categoriesData;\n        } else if (categoriesData.categories && Array.isArray(categoriesData.categories)) {\n          // If wrapped in categories property\n          processedCategories = categoriesData.categories;\n        } else {\n          // If tree structure, flatten it\n          const flattenCategories = (cats, parentName = '') => {\n            let flat = [];\n            if (Array.isArray(cats)) {\n              cats.forEach(cat => {\n                const name = parentName ? `${parentName} > ${cat.name}` : cat.name;\n                flat.push({ id: cat.id, name: name });\n                if (cat.children && cat.children.length > 0) {\n                  flat = flat.concat(flattenCategories(cat.children, name));\n                }\n              });\n            }\n            return flat;\n          };\n          processedCategories = flattenCategories(categoriesData);\n        }\n      }\n      \n      // Process brands\n      let processedBrands = [];\n      if (brandsData) {\n        if (Array.isArray(brandsData)) {\n          processedBrands = brandsData;\n        } else if (brandsData.brands && Array.isArray(brandsData.brands)) {\n          processedBrands = brandsData.brands;\n        }\n      }\n      \n      console.log('Processed data:', { \n        categories: processedCategories?.length || 0, \n        brands: processedBrands?.length || 0 \n      });\n      \n      setCategories(processedCategories || []);\n      setBrands(processedBrands || []);\n    } catch (error) {\n      console.error('Error loading product data:', error);\n      // Fallback data in case of error\n      setCategories([\n        { id: '1', name: 'Home & Living' },\n        { id: '2', name: 'Fashion' },\n        { id: '3', name: 'Food & Beverage' },\n        { id: '4', name: 'Beauty & Personal Care' },\n        { id: '5', name: 'Pets' }\n      ]);\n      setBrands([\n        { id: '1', name: 'Eco-Friendly Co.' },\n        { id: '2', name: 'Green Living' },\n        { id: '3', name: 'Natural Choice' },\n        { id: '4', name: 'Sustainable Goods' }\n      ]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleChange = (field, value) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    // Clear error when user starts typing\n    if (errors[field]) {\n      setErrors(prev => ({ ...prev, [field]: null }));\n    }\n  };\n\n  const handleDimensionsChange = (dimension, value) => {\n    const dimensions = formData.dimensions || {};\n    const newDimensions = { ...dimensions, [dimension]: parseFloat(value) || 0 };\n    handleChange('dimensions', newDimensions);\n  };\n\n  const handleManufacturingChange = (detail, value) => {\n    const manufacturingDetails = formData.manufacturing_details || {};\n    const newDetails = { ...manufacturingDetails, [detail]: value };\n    handleChange('manufacturing_details', newDetails);\n  };\n\n  const handleTagKeyPress = (e) => {\n    if (e.key === ',' || e.key === 'Enter') {\n      e.preventDefault();\n      addTag();\n    }\n  };\n\n  const addTag = () => {\n    const tag = currentTagInput.trim();\n    if (tag && !formData.tags.includes(tag)) {\n      handleChange('tags', [...formData.tags, tag]);\n      setCurrentTagInput('');\n    }\n  };\n\n  const removeTag = (tagToRemove) => {\n    handleChange('tags', formData.tags.filter(tag => tag !== tagToRemove));\n  };\n\n  const handleMaterialKeyPress = (e) => {\n    if (e.key === ',' || e.key === 'Enter') {\n      e.preventDefault();\n      addMaterial();\n    }\n  };\n\n  const addMaterial = () => {\n    const material = currentMaterialInput.trim();\n    if (material && !formData.materials.includes(material)) {\n      handleChange('materials', [...formData.materials, material]);\n      setCurrentMaterialInput('');\n    }\n  };\n\n  const removeMaterial = (materialToRemove) => {\n    handleChange('materials', formData.materials.filter(material => material !== materialToRemove));\n  };\n\n  const handleImageUpload = (e) => {\n    const files = Array.from(e.target.files);\n    handleChange('images', [...formData.images, ...files]);\n  };\n\n  const removeImage = (index) => {\n    const newImages = formData.images.filter((_, i) => i !== index);\n    handleChange('images', newImages);\n  };\n\n  // Verification function\n  const handleVerifyProduct = async () => {\n    // Validate required fields for verification\n    if (!formData.name || !formData.name.trim()) {\n      alert('Please enter a product name before verification');\n      return;\n    }\n\n    if (!formData.images || !Array.isArray(formData.images) || formData.images.length === 0) {\n      alert('Please upload at least one product image before verification');\n      return;\n    }\n\n    setVerificationState({ isVerifying: true, result: null, error: null });\n\n    try {\n      const userTokens = tokens.get();\n      if (!userTokens?.access_token) {\n        throw new Error('No authentication token found');\n      }\n\n      const verificationData = {\n        title: formData.name.trim(),\n        image: formData.images[0] // Use first image for verification\n      };\n\n      const result = await productsSupplier.verifyBeforeCreation(verificationData, userTokens.access_token);\n      \n      setVerificationState({\n        isVerifying: false,\n        result: result,\n        error: null\n      });\n\n    } catch (error) {\n      console.error('Verification failed:', error);\n      setVerificationState({\n        isVerifying: false,\n        result: null,\n        error: error.message || 'Verification failed'\n      });\n    }\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n\n    if (!formData.name?.trim()) newErrors.name = 'Product name is required';\n    if (!formData.sku?.trim()) newErrors.sku = 'SKU is required';\n    if (!formData.short_description?.trim()) newErrors.short_description = 'Short description is required';\n    if (!formData.description?.trim()) newErrors.description = 'Product description is required';\n    if (!formData.category_id) newErrors.category_id = 'Category is required';\n    if (!formData.price || parseFloat(formData.price) <= 0) newErrors.price = 'Valid price is required';\n    if (!formData.origin_country?.trim()) newErrors.origin_country = 'Origin country is required';\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    try {\n      setSubmitting(true);\n      const token = tokens.get()?.access_token;\n      \n      const result = await productsSupplier.createProduct(formData, token);\n      console.log('Product created successfully:', result);\n      \n      // Reset form\n      setFormData({\n        name: '',\n        sku: '',\n        short_description: '',\n        description: '',\n        category_id: '',\n        brand_id: '',\n        price: '',\n        compare_at_price: '',\n        weight: '',\n        origin_country: '',\n        materials: [],\n        dimensions: { length: 0, width: 0, height: 0 },\n        manufacturing_details: { process: '', location: '' },\n        images: [],\n        tags: []\n      });\n      \n      onProductAdded && onProductAdded(result);\n      onClose();\n    } catch (error) {\n      console.error('Failed to create product:', error);\n      setErrors({ submit: error.message });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\n        <div className=\"sticky top-0 bg-white border-b p-6\">\n          <div className=\"flex justify-between items-center\">\n            <h2 className=\"text-2xl font-bold text-[#1a4032]\">Add New Product</h2>\n            <button\n              onClick={onClose}\n              className=\"text-gray-400 hover:text-gray-600 text-xl\"\n            >\n              ×\n            </button>\n          </div>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"p-6 space-y-6\">\n          {errors.submit && (\n            <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\n              {errors.submit}\n            </div>\n          )}\n\n          {/* Basic Information */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-semibold text-[#1a4032]\">Basic Information</h3>\n            \n            {/* Product Name */}\n            <div className=\"flex flex-col\">\n              <label className=\"flex items-center mb-2\">\n                <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n                  Product Name\n                </span>\n                <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                value={formData.name || ''}\n                onChange={(e) => handleChange('name', e.target.value)}\n                placeholder=\"Enter product name\"\n                className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                         font-semibold text-[16px] text-[#1a4032] opacity-50\n                         focus:opacity-100 focus:outline-none transition-all\n                         ${errors.name ? 'border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n                required\n              />\n              {errors.name && (\n                <span className=\"text-red-500 text-sm mt-1\">{errors.name}</span>\n              )}\n            </div>\n\n            {/* SKU */}\n            <div className=\"flex flex-col\">\n              <label className=\"flex items-center mb-2\">\n                <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n                  SKU (Stock Keeping Unit)\n                </span>\n                <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                value={formData.sku || ''}\n                onChange={(e) => handleChange('sku', e.target.value)}\n                placeholder=\"e.g., PRD-001\"\n                className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                         font-semibold text-[16px] text-[#1a4032] opacity-50\n                         focus:opacity-100 focus:outline-none transition-all\n                         ${errors.sku ? 'border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n                required\n              />\n              {errors.sku && (\n                <span className=\"text-red-500 text-sm mt-1\">{errors.sku}</span>\n              )}\n            </div>\n\n            {/* Short Description */}\n            <div className=\"flex flex-col\">\n              <label className=\"flex items-center mb-2\">\n                <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n                  Short Description\n                </span>\n                <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n              </label>\n              <textarea\n                value={formData.short_description || ''}\n                onChange={(e) => handleChange('short_description', e.target.value)}\n                placeholder=\"Brief product summary (appears in listings)\"\n                rows={2}\n                className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                         font-semibold text-[16px] text-[#1a4032] opacity-50\n                         focus:opacity-100 focus:outline-none transition-all resize-none\n                         ${errors.short_description ? 'border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n                required\n              />\n              {errors.short_description && (\n                <span className=\"text-red-500 text-sm mt-1\">{errors.short_description}</span>\n              )}\n            </div>\n\n            {/* Full Description */}\n            <div className=\"flex flex-col\">\n              <label className=\"flex items-center mb-2\">\n                <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n                  Product Description\n                </span>\n                <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n              </label>\n              <textarea\n                value={formData.description || ''}\n                onChange={(e) => handleChange('description', e.target.value)}\n                placeholder=\"Detailed product description, features, and benefits\"\n                rows={4}\n                className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                         font-semibold text-[16px] text-[#1a4032] opacity-50\n                         focus:opacity-100 focus:outline-none transition-all resize-none\n                         ${errors.description ? 'border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n                required\n              />\n              {errors.description && (\n                <span className=\"text-red-500 text-sm mt-1\">{errors.description}</span>\n              )}\n            </div>\n          </div>\n\n          {/* Category and Brand */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-semibold text-[#1a4032]\">Category & Brand</h3>\n            \n            <div className=\"flex flex-col sm:flex-row gap-4\">\n              {/* Product Category */}\n              <div className=\"flex flex-col flex-1\">\n                <label className=\"flex items-center mb-2\">\n                  <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n                    Product Category\n                  </span>\n                  <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n                </label>\n                <select\n                  value={formData.category_id || ''}\n                  onChange={(e) => handleChange('category_id', e.target.value)}\n                  className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                           font-semibold text-[16px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none transition-all\n                           ${errors.category_id ? 'border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n                  required\n                >\n                  <option value=\"\">\n                    {loading ? 'Loading categories...' : 'Select Category'}\n                  </option>\n                  {categories.map((category) => (\n                    <option key={category.id} value={category.id}>\n                      {category.name}\n                    </option>\n                  ))}\n                </select>\n                {errors.category_id && (\n                  <span className=\"text-red-500 text-sm mt-1\">{errors.category_id}</span>\n                )}\n              </div>\n\n              {/* Brand */}\n              <div className=\"flex flex-col flex-1\">\n                <label className=\"flex items-center mb-2\">\n                  <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n                    Brand (Optional)\n                  </span>\n                </label>\n                <select\n                  value={formData.brand_id || ''}\n                  onChange={(e) => handleChange('brand_id', e.target.value)}\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                           font-semibold text-[16px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                >\n                  <option value=\"\">\n                    {loading ? 'Loading brands...' : 'Select Brand'}\n                  </option>\n                  {brands.map((brand) => (\n                    <option key={brand.id} value={brand.id}>\n                      {brand.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            </div>\n          </div>\n\n          {/* Pricing */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-semibold text-[#1a4032]\">Pricing</h3>\n            \n            <div className=\"flex flex-col sm:flex-row gap-4\">\n              {/* Price */}\n              <div className=\"flex flex-col flex-1\">\n                <label className=\"flex items-center mb-2\">\n                  <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n                    Price (₹)\n                  </span>\n                  <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={formData.price || ''}\n                  onChange={(e) => handleChange('price', e.target.value)}\n                  placeholder=\"0.00\"\n                  className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                           font-semibold text-[16px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none transition-all\n                           ${errors.price ? 'border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n                  required\n                />\n                {errors.price && (\n                  <span className=\"text-red-500 text-sm mt-1\">{errors.price}</span>\n                )}\n              </div>\n\n              {/* Compare at Price */}\n              <div className=\"flex flex-col flex-1\">\n                <label className=\"flex items-center mb-2\">\n                  <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n                    Compare at Price (₹)\n                  </span>\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={formData.compare_at_price || ''}\n                  onChange={(e) => handleChange('compare_at_price', e.target.value)}\n                  placeholder=\"0.00\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                           font-semibold text-[16px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Physical Properties */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-semibold text-[#1a4032]\">Physical Properties</h3>\n            \n            <div className=\"flex flex-col sm:flex-row gap-4\">\n              {/* Weight */}\n              <div className=\"flex flex-col flex-1\">\n                <label className=\"flex items-center mb-2\">\n                  <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n                    Weight (kg)\n                  </span>\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={formData.weight || ''}\n                  onChange={(e) => handleChange('weight', e.target.value)}\n                  placeholder=\"0.00\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                           font-semibold text-[16px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n\n              {/* Origin Country */}\n              <div className=\"flex flex-col flex-1\">\n                <label className=\"flex items-center mb-2\">\n                  <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n                    Origin Country\n                  </span>\n                  <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.origin_country || ''}\n                  onChange={(e) => handleChange('origin_country', e.target.value)}\n                  placeholder=\"e.g., India\"\n                  className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                           font-semibold text-[16px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none transition-all\n                           ${errors.origin_country ? 'border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n                  required\n                />\n                {errors.origin_country && (\n                  <span className=\"text-red-500 text-sm mt-1\">{errors.origin_country}</span>\n                )}\n              </div>\n            </div>\n\n            {/* Dimensions */}\n            <div className=\"grid grid-cols-3 gap-4\">\n              <div className=\"flex flex-col\">\n                <label className=\"font-semibold text-[16px] text-[#1a4032] opacity-80 mb-2\">\n                  Length (cm)\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={formData.dimensions?.length || ''}\n                  onChange={(e) => handleDimensionsChange('length', e.target.value)}\n                  placeholder=\"0.00\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                           font-semibold text-[16px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n              <div className=\"flex flex-col\">\n                <label className=\"font-semibold text-[16px] text-[#1a4032] opacity-80 mb-2\">\n                  Width (cm)\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={formData.dimensions?.width || ''}\n                  onChange={(e) => handleDimensionsChange('width', e.target.value)}\n                  placeholder=\"0.00\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                           font-semibold text-[16px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n              <div className=\"flex flex-col\">\n                <label className=\"font-semibold text-[16px] text-[#1a4032] opacity-80 mb-2\">\n                  Height (cm)\n                </label>\n                <input\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0\"\n                  value={formData.dimensions?.height || ''}\n                  onChange={(e) => handleDimensionsChange('height', e.target.value)}\n                  placeholder=\"0.00\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                           font-semibold text-[16px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Materials */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-semibold text-[#1a4032]\">Materials</h3>\n            \n            <div className=\"flex flex-col\">\n              <label className=\"font-semibold text-[16px] text-[#1a4032] opacity-80 mb-2\">\n                Materials (Press comma to add)\n              </label>\n              <input\n                type=\"text\"\n                value={currentMaterialInput}\n                onChange={(e) => setCurrentMaterialInput(e.target.value)}\n                onKeyPress={handleMaterialKeyPress}\n                onBlur={addMaterial}\n                placeholder=\"Type material and press comma\"\n                className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                         font-semibold text-[16px] text-[#1a4032] opacity-50\n                         focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n              />\n              {formData.materials.length > 0 && (\n                <div className=\"flex flex-wrap gap-2 mt-2\">\n                  {formData.materials.map((material, index) => (\n                    <span\n                      key={index}\n                      className=\"bg-[#1a4032] text-white px-3 py-1 rounded-full text-sm flex items-center gap-2\"\n                    >\n                      {material}\n                      <button\n                        type=\"button\"\n                        onClick={() => removeMaterial(material)}\n                        className=\"text-white hover:text-red-300\"\n                      >\n                        ×\n                      </button>\n                    </span>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Tags */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-semibold text-[#1a4032]\">Tags</h3>\n            \n            <div className=\"flex flex-col\">\n              <label className=\"font-semibold text-[16px] text-[#1a4032] opacity-80 mb-2\">\n                Product Tags (Press comma to add)\n              </label>\n              <input\n                type=\"text\"\n                value={currentTagInput}\n                onChange={(e) => setCurrentTagInput(e.target.value)}\n                onKeyPress={handleTagKeyPress}\n                onBlur={addTag}\n                placeholder=\"Type tag and press comma\"\n                className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                         font-semibold text-[16px] text-[#1a4032] opacity-50\n                         focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n              />\n              {formData.tags.length > 0 && (\n                <div className=\"flex flex-wrap gap-2 mt-2\">\n                  {formData.tags.map((tag, index) => (\n                    <span\n                      key={index}\n                      className=\"bg-[#1a4032] text-white px-3 py-1 rounded-full text-sm flex items-center gap-2\"\n                    >\n                      {tag}\n                      <button\n                        type=\"button\"\n                        onClick={() => removeTag(tag)}\n                        className=\"text-white hover:text-red-300\"\n                      >\n                        ×\n                      </button>\n                    </span>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Images */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-semibold text-[#1a4032]\">Product Images</h3>\n            \n            <div className=\"flex flex-col\">\n              <label className=\"font-semibold text-[16px] text-[#1a4032] opacity-80 mb-2\">\n                Upload Images\n              </label>\n              <input\n                type=\"file\"\n                multiple\n                accept=\"image/*\"\n                onChange={handleImageUpload}\n                className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                         font-semibold text-[16px] text-[#1a4032] opacity-50\n                         focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n              />\n              {formData.images.length > 0 && (\n                <div className=\"grid grid-cols-4 gap-4 mt-4\">\n                  {formData.images.map((image, index) => (\n                    <div key={index} className=\"relative\">\n                      <img\n                        src={URL.createObjectURL(image)}\n                        alt={`Product ${index + 1}`}\n                        className=\"w-full h-24 object-cover rounded border\"\n                      />\n                      <button\n                        type=\"button\"\n                        onClick={() => removeImage(index)}\n                        className=\"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm hover:bg-red-600\"\n                      >\n                        ×\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Product Verification */}\n          {formData.images.length > 0 && formData.name.trim() && (\n            <div className=\"space-y-4\">\n              <h3 className=\"text-lg font-semibold text-[#1a4032]\">Product Verification</h3>\n              \n              <div className=\"bg-[#f9fbe7] border border-[#858c94] rounded-[8px] p-4\">\n                <div className=\"flex items-center justify-between mb-3\">\n                  <div>\n                    <h4 className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n                      Image-Title Verification\n                    </h4>\n                    <p className=\"text-sm text-[#1a4032] opacity-60 mt-1\">\n                      Verify that your product image matches the product name\n                    </p>\n                  </div>\n                  <button\n                    type=\"button\"\n                    onClick={handleVerifyProduct}\n                    disabled={verificationState.isVerifying}\n                    className=\"bg-[#1a4032] text-white px-4 py-2 rounded-[8px] font-semibold text-sm\n                             hover:bg-[#0f2419] transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {verificationState.isVerifying ? 'Verifying...' : 'Verify Product'}\n                  </button>\n                </div>\n                \n                {verificationState.result && (\n                  <div className={`p-3 rounded-md border ${\n                    verificationState.result.probability >= 0.7 \n                      ? 'bg-green-100 border-green-300' \n                      : 'bg-red-100 border-red-300'\n                  }`}>\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <span className=\"font-semibold text-sm\">\n                        {verificationState.result.probability >= 0.7 ? '✅ Verification Passed' : '❌ Verification Failed'}\n                      </span>\n                      <span className=\"text-sm font-medium\">\n                        {Math.round(verificationState.result.probability * 100)}% confidence\n                      </span>\n                    </div>\n                    <p className=\"text-sm mt-1 opacity-80\">\n                      {verificationState.result.explanation || 'AI verification analysis completed.'}\n                    </p>\n                    {verificationState.result.probability < 0.7 && (\n                      <p className=\"text-sm mt-2 text-red-700 font-medium\">\n                        ⚠️ Consider updating your product name or image to better match each other before creating the product.\n                      </p>\n                    )}\n                  </div>\n                )}\n                \n                {verificationState.error && (\n                  <div className=\"p-3 rounded-md bg-red-100 border border-red-300\">\n                    <p className=\"text-sm text-red-700\">\n                      ❌ Verification Error: {verificationState.error}\n                    </p>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* Manufacturing Details */}\n          <div className=\"space-y-4\">\n            <h3 className=\"text-lg font-semibold text-[#1a4032]\">Manufacturing Details</h3>\n            \n            <div className=\"flex flex-col sm:flex-row gap-4\">\n              <div className=\"flex flex-col flex-1\">\n                <label className=\"font-semibold text-[16px] text-[#1a4032] opacity-80 mb-2\">\n                  Manufacturing Process\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.manufacturing_details?.process || ''}\n                  onChange={(e) => handleManufacturingChange('process', e.target.value)}\n                  placeholder=\"e.g., Handmade, Machine-made\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                           font-semibold text-[16px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n              <div className=\"flex flex-col flex-1\">\n                <label className=\"font-semibold text-[16px] text-[#1a4032] opacity-80 mb-2\">\n                  Manufacturing Location\n                </label>\n                <input\n                  type=\"text\"\n                  value={formData.manufacturing_details?.location || ''}\n                  onChange={(e) => handleManufacturingChange('location', e.target.value)}\n                  placeholder=\"e.g., Mumbai, India\"\n                  className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                           font-semibold text-[16px] text-[#1a4032] opacity-50\n                           focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex justify-end gap-4 pt-6 border-t\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={submitting}\n              className=\"px-6 py-2 bg-[#1a4032] text-white rounded-lg hover:bg-[#2d5a42] transition-colors disabled:opacity-50\"\n            >\n              {submitting ? 'Creating...' : 'Create Product'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":36969,"size_tokens":null},"src/components/vendor/products/ProductTableHeader.jsx":{"content":"export default function ProductTableHeader() {\n  return (\n    <div className=\"hidden sm:grid grid-cols-12 gap-4 py-4 text-[16px] font-reem-kufi font-medium text-black\">\n      <div className=\"col-span-4 text-left pl-4\">\n        Product\n      </div>\n      <div className=\"col-span-2 text-center\">\n        Product\n      </div>\n      <div className=\"col-span-1 text-center\">\n        Price\n      </div>\n      <div className=\"col-span-1 text-center\">\n        Stock\n      </div>\n      <div className=\"col-span-2 text-center\">\n        Status\n      </div>\n      <div className=\"col-span-2 text-center\">\n        Action\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":640,"size_tokens":null},"src/components/address/AddressSelector.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport addressService from \"../../services/addressService\";\nimport AddressForm from \"./AddressForm\";\n\nconst AddressSelector = ({ \n  title = \"Select Address\", \n  addressType = \"shipping\", \n  selectedAddress = null, \n  onAddressSelect, \n  onAddressChange \n}) => {\n  const [addresses, setAddresses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [showForm, setShowForm] = useState(false);\n  const [showDropdown, setShowDropdown] = useState(false);\n\n  useEffect(() => {\n    loadAddresses();\n  }, [addressType]);\n\n  const loadAddresses = async () => {\n    try {\n      setLoading(true);\n      const addressData = await addressService.getAddressesByType(addressType);\n      setAddresses(addressData);\n      \n      // If no address is selected but we have addresses, select the default one\n      if (!selectedAddress && addressData.length > 0) {\n        const defaultAddress = addressData.find(addr => addr.is_default) || addressData[0];\n        if (defaultAddress && onAddressSelect) {\n          onAddressSelect(defaultAddress);\n        }\n      }\n    } catch (err) {\n      console.error('Error loading addresses:', err);\n      setError('Failed to load addresses');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddressSelect = (address) => {\n    if (onAddressSelect) {\n      onAddressSelect(address);\n    }\n    if (onAddressChange) {\n      onAddressChange(address);\n    }\n    setShowDropdown(false);\n  };\n\n  const handleNewAddress = () => {\n    setShowForm(true);\n    setShowDropdown(false);\n  };\n\n  const handleSaveAddress = async (savedAddress) => {\n    await loadAddresses();\n    setShowForm(false);\n    handleAddressSelect(savedAddress);\n  };\n\n  const handleCancel = () => {\n    setShowForm(false);\n  };\n\n  const formatAddressForDisplay = (address) => {\n    if (!address) return '';\n    \n    const parts = [];\n    parts.push(`${address.first_name} ${address.last_name}`);\n    parts.push(address.address_line_1);\n    if (address.address_line_2) parts.push(address.address_line_2);\n    parts.push(`${address.city}, ${address.state} ${address.postal_code}`);\n    \n    return parts.join(', ');\n  };\n\n  if (loading) {\n    return (\n      <div className=\"border border-gray-300 rounded-md p-4\">\n        <div className=\"animate-pulse flex space-x-4\">\n          <div className=\"flex-1 space-y-2\">\n            <div className=\"h-4 bg-gray-300 rounded w-1/4\"></div>\n            <div className=\"h-4 bg-gray-300 rounded w-3/4\"></div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (showForm) {\n    return (\n      <div className=\"border border-gray-300 rounded-md p-4\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n          Add New {addressType.charAt(0).toUpperCase() + addressType.slice(1)} Address\n        </h3>\n        <AddressForm\n          address={{ type: addressType }}\n          onSave={handleSaveAddress}\n          onCancel={handleCancel}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <h3 className=\"text-lg font-medium text-gray-900\">{title}</h3>\n      \n      {error && (\n        <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\n          {error}\n        </div>\n      )}\n\n      {addresses.length === 0 ? (\n        <div className=\"border-2 border-dashed border-gray-300 rounded-md p-6 text-center\">\n          <p className=\"text-gray-500 mb-4\">No {addressType} addresses found.</p>\n          <button\n            onClick={handleNewAddress}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            Add New Address\n          </button>\n        </div>\n      ) : (\n        <div className=\"relative\">\n          {/* Selected Address Display */}\n          <div \n            className=\"border border-gray-300 rounded-md p-4 cursor-pointer hover:border-gray-400 bg-white\"\n            onClick={() => setShowDropdown(!showDropdown)}\n          >\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex-1\">\n                {selectedAddress ? (\n                  <div>\n                    <div className=\"flex items-center space-x-2 mb-1\">\n                      <span className=\"font-medium text-gray-900\">\n                        {selectedAddress.first_name} {selectedAddress.last_name}\n                      </span>\n                      {selectedAddress.is_default && (\n                        <span className=\"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium\">\n                          Default\n                        </span>\n                      )}\n                      {selectedAddress.label && (\n                        <span className=\"text-gray-500 text-sm\">({selectedAddress.label})</span>\n                      )}\n                    </div>\n                    <p className=\"text-sm text-gray-600\">\n                      {formatAddressForDisplay(selectedAddress)}\n                    </p>\n                    {selectedAddress.phone && (\n                      <p className=\"text-sm text-gray-600\">\n                        Phone: {selectedAddress.phone}\n                      </p>\n                    )}\n                  </div>\n                ) : (\n                  <div className=\"text-gray-500\">\n                    Select an address\n                  </div>\n                )}\n              </div>\n              <div className=\"ml-2\">\n                <svg \n                  className={`w-5 h-5 text-gray-400 transition-transform ${showDropdown ? 'rotate-180' : ''}`} \n                  fill=\"none\" \n                  stroke=\"currentColor\" \n                  viewBox=\"0 0 24 24\"\n                >\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                </svg>\n              </div>\n            </div>\n          </div>\n\n          {/* Dropdown Options */}\n          {showDropdown && (\n            <div className=\"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg\">\n              <div className=\"py-1\">\n                {addresses.map(address => (\n                  <div\n                    key={address.id}\n                    className={`px-4 py-3 cursor-pointer hover:bg-gray-50 ${\n                      selectedAddress?.id === address.id ? 'bg-blue-50 border-l-4 border-blue-500' : ''\n                    }`}\n                    onClick={() => handleAddressSelect(address)}\n                  >\n                    <div className=\"flex items-center space-x-2 mb-1\">\n                      <span className=\"font-medium text-gray-900\">\n                        {address.first_name} {address.last_name}\n                      </span>\n                      {address.is_default && (\n                        <span className=\"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium\">\n                          Default\n                        </span>\n                      )}\n                      {address.label && (\n                        <span className=\"text-gray-500 text-sm\">({address.label})</span>\n                      )}\n                    </div>\n                    <p className=\"text-sm text-gray-600\">\n                      {formatAddressForDisplay(address)}\n                    </p>\n                    {address.phone && (\n                      <p className=\"text-sm text-gray-600\">\n                        Phone: {address.phone}\n                      </p>\n                    )}\n                  </div>\n                ))}\n                \n                {/* Add New Address Option */}\n                <div\n                  className=\"px-4 py-3 cursor-pointer hover:bg-gray-50 border-t border-gray-200\"\n                  onClick={handleNewAddress}\n                >\n                  <div className=\"flex items-center space-x-2 text-blue-600\">\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                    </svg>\n                    <span className=\"font-medium\">Add New Address</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AddressSelector;\n","path":null,"size_bytes":8467,"size_tokens":null},"src/components/vendor/products/ProductRow.jsx":{"content":"import { useState, useEffect } from 'react';\nimport productsService from '../../../services/productsService';\nimport EditProductModal from './EditProductModal';\n\nexport default function ProductRow({ product, onProductUpdated }) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [isToggling, setIsToggling] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [localVisibility, setLocalVisibility] = useState(product.visibility);\n\n  useEffect(() => {\n    setLocalVisibility(product.visibility);\n  }, [product.visibility]);\n\n  const handleEdit = () => {\n    setShowEditModal(true);\n  };\n\n  const handleDelete = async () => {\n    if (!confirm('Are you sure you want to delete this product?')) return;\n    \n    setIsLoading(true);\n    try {\n      await productsService.deleteProduct(product.id);\n      if (onProductUpdated) onProductUpdated();\n    } catch (error) {\n      console.error('Failed to delete product:', error);\n      alert('Failed to delete product');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleToggleVisibility = async () => {\n    const newVisibility = localVisibility === 'hidden' ? 'visible' : 'hidden';\n    setIsToggling(true);\n    try {\n      await productsService.toggleProductVisibility(product.id, localVisibility);\n      setLocalVisibility(newVisibility);\n      if (onProductUpdated) onProductUpdated();\n    } catch (error) {\n      console.error('Failed to toggle product visibility:', error);\n      alert('Failed to update product visibility');\n    } finally {\n      setIsToggling(false);\n    }\n  };\n\n  return (\n    <>\n    <div className=\"bg-white rounded-[14px] border border-[#989898] p-3 sm:p-4 h-auto sm:h-[94px] flex flex-col sm:flex-row sm:items-center\">\n      <div className=\"grid grid-cols-1 sm:grid-cols-12 gap-3 sm:gap-4 w-full sm:items-center\">\n        {/* Product Image and Details */}\n        <div className=\"col-span-1 sm:col-span-4 flex items-center\">\n          <div className=\"w-[48px] h-[48px] sm:w-[58px] sm:h-[58px] bg-[#d9d9d9] rounded-[4px] overflow-hidden mr-3 sm:mr-4 flex items-center justify-center flex-shrink-0\">\n            {product.image ? (\n              <img \n                src={product.image} \n                alt={product.name}\n                className=\"w-full h-full object-cover\"\n              />\n            ) : (\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" stroke=\"#666666\" strokeWidth=\"2\"/>\n                <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\" stroke=\"#666666\" strokeWidth=\"2\"/>\n                <polyline points=\"21,15 16,10 5,21\" stroke=\"#666666\" strokeWidth=\"2\"/>\n              </svg>\n            )}\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <h4 className=\"text-[12px] sm:text-[14px] font-poppins font-medium text-black mb-1 truncate\">\n              {product.name}\n            </h4>\n            <p className=\"text-[11px] sm:text-[12px] font-poppins font-medium text-[#8b8b8b] mb-1 truncate\">\n              {product.vendor}\n            </p>\n            <p className=\"text-[11px] sm:text-[12px] font-poppins font-medium text-[#010101] line-clamp-2 sm:line-clamp-1\">\n              {product.description}\n            </p>\n          </div>\n        </div>\n        \n        {/* Category */}\n        <div className=\"col-span-1 sm:col-span-2 text-left sm:text-right\">\n          <span className=\"text-[11px] sm:text-[12px] font-poppins font-medium text-black\">\n            {product.category}\n          </span>\n        </div>\n        \n        {/* Price */}\n        <div className=\"col-span-1 sm:col-span-1 text-left sm:text-right\">\n          <span className=\"text-[11px] sm:text-[12px] font-poppins font-medium text-black\">\n            {product.price}\n          </span>\n        </div>\n        \n        {/* Stock */}\n        <div className=\"col-span-1 sm:col-span-1 text-left sm:text-right\">\n          <span className=\"text-[11px] sm:text-[12px] font-poppins font-medium text-black\">\n            {product.inventory?.[0]?.available_quantity || product.inventory?.[0]?.quantity || 0}\n          </span>\n        </div>\n        \n        {/* Status */}\n        <div className=\"col-span-1 sm:col-span-2 text-left sm:text-right\">\n          <div className=\"flex flex-col gap-1\">\n            <span \n              className=\"text-[9px] sm:text-[10px] font-poppins font-medium px-2 sm:px-3 py-1 rounded-[4px] w-fit sm:w-auto\"\n              style={{ \n                backgroundColor: product.statusColor || '#000',\n                color: 'white'\n              }}\n            >\n              {product.statusText || product.status}\n            </span>\n            <span \n              className={`text-[8px] sm:text-[9px] font-poppins font-medium px-1 sm:px-2 py-0.5 rounded-[3px] w-fit sm:w-auto ${\n                localVisibility === 'hidden' \n                  ? 'bg-red-100 text-red-600' \n                  : 'bg-green-100 text-green-600'\n              }`}\n            >\n              {localVisibility === 'hidden' ? 'Hidden' : 'Visible'}\n            </span>\n          </div>\n        </div>\n        \n        {/* Actions */}\n        <div className=\"col-span-1 sm:col-span-2 text-left sm:text-right\">\n          <div className=\"flex justify-start sm:justify-end gap-1 sm:gap-2\">\n            {/* Visibility Toggle */}\n            <button \n              onClick={handleToggleVisibility}\n              disabled={isLoading || isToggling}\n              className={`w-[28px] h-[28px] sm:w-[33px] sm:h-[31px] border rounded-[5px] flex items-center justify-center hover:opacity-80 transition-colors ${\n                localVisibility !== 'hidden' \n                  ? 'bg-green-100 border-green-300' \n                  : 'bg-gray-100 border-gray-300'\n              }`}\n              title={localVisibility !== 'hidden' ? 'Hide Product' : 'Show Product'}\n            >\n              {isToggling ? (\n                <svg width=\"14\" height=\"14\" viewBox=\"0 0 50 50\" aria-hidden=\"true\">\n                  <circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" stroke=\"#6b7280\" strokeWidth=\"4\" strokeLinecap=\"round\" strokeDasharray=\"31.4 31.4\">\n                    <animateTransform attributeName=\"transform\" type=\"rotate\" from=\"0 25 25\" to=\"360 25 25\" dur=\"0.8s\" repeatCount=\"indefinite\" />\n                  </circle>\n                </svg>\n              ) : (localVisibility !== 'hidden' ? (\n                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" stroke=\"#10b981\" strokeWidth=\"2\"/>\n                  <circle cx=\"12\" cy=\"12\" r=\"3\" stroke=\"#10b981\" strokeWidth=\"2\"/>\n                </svg>\n              ) : (\n                <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                  <path d=\"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24\" stroke=\"#6b7280\" strokeWidth=\"2\"/>\n                  <line x1=\"1\" y1=\"1\" x2=\"23\" y2=\"23\" stroke=\"#6b7280\" strokeWidth=\"2\"/>\n                </svg>\n              ))}\n            </button>\n            \n            {/* Edit Button */}\n            <button \n              onClick={handleEdit}\n              disabled={isLoading}\n              className=\"w-[28px] h-[28px] sm:w-[33px] sm:h-[31px] bg-white border border-[#666666] rounded-[5px] flex items-center justify-center hover:bg-gray-50\"\n              title=\"Edit Product\"\n            >\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\" stroke=\"#666666\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\" stroke=\"#666666\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              </svg>\n            </button>\n            \n            {/* Delete Button */}\n            <button \n              onClick={handleDelete}\n              disabled={isLoading}\n              className=\"w-[28px] h-[28px] sm:w-[33px] sm:h-[31px] bg-white border border-[#666666] rounded-[5px] flex items-center justify-center hover:bg-red-50 hover:border-red-300\"\n              title=\"Delete Product\"\n            >\n              <svg width=\"15\" height=\"15\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <polyline points=\"3,6 5,6 21,6\" stroke=\"#666666\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <path d=\"M19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2\" stroke=\"#666666\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <line x1=\"10\" y1=\"11\" x2=\"10\" y2=\"17\" stroke=\"#666666\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                <line x1=\"14\" y1=\"11\" x2=\"14\" y2=\"17\" stroke=\"#666666\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    {/* Edit Product Modal */}\n    <EditProductModal\n      isOpen={showEditModal}\n      onClose={() => setShowEditModal(false)}\n      productId={product.id}\n      onProductUpdated={onProductUpdated}\n    />\n    </>\n  );\n}\n","path":null,"size_bytes":9517,"size_tokens":null},"src/components/ui/FileUpload.jsx":{"content":"// Reusable file upload component with validation and preview\n\"use client\";\n\nimport { useState, useRef } from 'react';\nimport { validateFile, validateImageFile, validateDocumentFile, formatFileSize } from '../../lib/fileUtils';\n\nconst FileUpload = ({ \n  onFileSelect, \n  accept = \"image/*\", \n  multiple = false, \n  maxFiles = 1,\n  fileType = 'document', // 'image' or 'document'\n  label = \"Upload File\",\n  description = \"Drag and drop files here or click to browse\",\n  className = \"\",\n  required = false,\n  currentFile = null,\n  isUploading = false\n}) => {\n  const [dragActive, setDragActive] = useState(false);\n  const [errors, setErrors] = useState([]);\n  const [previews, setPreviews] = useState([]);\n  const fileInputRef = useRef(null);\n\n  const validateFileSelection = (files) => {\n    const fileArray = Array.from(files);\n    const validationErrors = [];\n    const validFiles = [];\n\n    // Check file count\n    if (!multiple && fileArray.length > 1) {\n      validationErrors.push(\"Only one file is allowed\");\n      return { validFiles: [], errors: validationErrors };\n    }\n\n    if (fileArray.length > maxFiles) {\n      validationErrors.push(`Maximum ${maxFiles} files allowed`);\n      return { validFiles: [], errors: validationErrors };\n    }\n\n    // Validate each file\n    fileArray.forEach((file, index) => {\n      const validation = fileType === 'image' \n        ? validateImageFile(file) \n        : validateDocumentFile(file);\n      \n      if (validation.isValid) {\n        validFiles.push(file);\n      } else {\n        validationErrors.push(`File ${index + 1}: ${validation.errors.join(', ')}`);\n      }\n    });\n\n    return { validFiles, errors: validationErrors };\n  };\n\n  const handleFiles = (files) => {\n    const { validFiles, errors: validationErrors } = validateFileSelection(files);\n    setErrors(validationErrors);\n\n    if (validFiles.length > 0) {\n      // Create previews for images\n      if (fileType === 'image') {\n        const newPreviews = validFiles.map(file => ({\n          file,\n          url: URL.createObjectURL(file),\n          name: file.name,\n          size: file.size\n        }));\n        setPreviews(newPreviews);\n      } else {\n        const newPreviews = validFiles.map(file => ({\n          file,\n          name: file.name,\n          size: file.size,\n          type: file.type\n        }));\n        setPreviews(newPreviews);\n      }\n\n      // Call parent callback\n      if (onFileSelect) {\n        onFileSelect(multiple ? validFiles : validFiles[0]);\n      }\n    }\n  };\n\n  const handleDrag = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === \"dragenter\" || e.type === \"dragover\") {\n      setDragActive(true);\n    } else if (e.type === \"dragleave\") {\n      setDragActive(false);\n    }\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n\n    if (e.dataTransfer.files) {\n      handleFiles(e.dataTransfer.files);\n    }\n  };\n\n  const handleChange = (e) => {\n    if (e.target.files) {\n      handleFiles(e.target.files);\n    }\n  };\n\n  const openFileDialog = () => {\n    fileInputRef.current?.click();\n  };\n\n  const removeFile = (index) => {\n    const newPreviews = previews.filter((_, i) => i !== index);\n    setPreviews(newPreviews);\n    \n    if (newPreviews.length === 0) {\n      if (onFileSelect) {\n        onFileSelect(null);\n      }\n    } else {\n      const files = newPreviews.map(p => p.file);\n      if (onFileSelect) {\n        onFileSelect(multiple ? files : files[0]);\n      }\n    }\n  };\n\n  return (\n    <div className={`w-full ${className}`}>\n      {label && (\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          {label} {required && <span className=\"text-red-500\">*</span>}\n        </label>\n      )}\n      \n      {/* Upload Area */}\n      <div\n        className={`relative border-2 border-dashed rounded-lg p-6 text-center transition-colors\n          ${isUploading ? 'cursor-not-allowed opacity-75' : 'cursor-pointer'}\n          ${dragActive && !isUploading ? 'border-[#12b74f] bg-green-50' : 'border-gray-300 hover:border-gray-400'}\n          ${errors.length > 0 ? 'border-red-300 bg-red-50' : ''}\n        `}\n        onDragEnter={!isUploading ? handleDrag : undefined}\n        onDragLeave={!isUploading ? handleDrag : undefined}\n        onDragOver={!isUploading ? handleDrag : undefined}\n        onDrop={!isUploading ? handleDrop : undefined}\n        onClick={!isUploading ? openFileDialog : undefined}\n      >\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          className=\"hidden\"\n          accept={accept}\n          multiple={multiple}\n          onChange={handleChange}\n        />\n        \n        <div className=\"space-y-2\">\n          {isUploading ? (\n            <>\n              <div className=\"mx-auto w-12 h-12 text-[#12b74f]\">\n                <svg className=\"animate-spin\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 48 48\">\n                  <circle\n                    cx=\"24\"\n                    cy=\"24\"\n                    r=\"20\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"4\"\n                    fill=\"none\"\n                    strokeDasharray=\"31.416\"\n                    strokeDashoffset=\"31.416\"\n                    className=\"animate-pulse\"\n                  />\n                </svg>\n              </div>\n              <div className=\"text-sm text-[#12b74f] font-medium\">\n                Uploading...\n              </div>\n              <p className=\"text-xs text-gray-500\">Please wait while your file is being uploaded</p>\n            </>\n          ) : (\n            <>\n              <div className=\"mx-auto w-12 h-12 text-gray-400\">\n                <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 48 48\">\n                  <path\n                    d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\"\n                    strokeWidth={2}\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                  />\n                </svg>\n              </div>\n              <div className=\"text-sm text-gray-600\">\n                <span className=\"font-medium text-[#12b74f] hover:text-[#0f8f3f]\">\n                  Click to upload\n                </span>{\" \"}\n                or drag and drop\n              </div>\n              <p className=\"text-xs text-gray-500\">{description}</p>\n              <p className=\"text-xs text-gray-400\">\n                Max size: 2MB • {fileType === 'image' ? 'Images' : 'Documents'} only\n              </p>\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* Error Messages */}\n      {errors.length > 0 && (\n        <div className=\"mt-2 space-y-1\">\n          {errors.map((error, index) => (\n            <p key={index} className=\"text-sm text-red-600\">\n              {error}\n            </p>\n          ))}\n        </div>\n      )}\n\n      {/* File Previews */}\n      {previews.length > 0 && (\n        <div className=\"mt-4 space-y-2\">\n          {previews.map((preview, index) => (\n            <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n              <div className=\"flex items-center space-x-3\">\n                {fileType === 'image' && preview.url ? (\n                  <img \n                    src={preview.url} \n                    alt={preview.name}\n                    className=\"w-10 h-10 object-cover rounded\"\n                  />\n                ) : (\n                  <div className=\"w-10 h-10 bg-gray-200 rounded flex items-center justify-center\">\n                    <svg className=\"w-6 h-6 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                      <path fillRule=\"evenodd\" d=\"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z\" clipRule=\"evenodd\" />\n                    </svg>\n                  </div>\n                )}\n                <div>\n                  <p className=\"text-sm font-medium text-gray-900 truncate max-w-[200px]\">\n                    {preview.name}\n                  </p>\n                  <p className=\"text-xs text-gray-500\">\n                    {formatFileSize(preview.size)}\n                  </p>\n                </div>\n              </div>\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  removeFile(index);\n                }}\n                className=\"text-red-500 hover:text-red-700 p-1\"\n              >\n                <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n                </svg>\n              </button>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Current File Display */}\n      {currentFile && previews.length === 0 && (\n        <div className=\"mt-2 p-2 bg-blue-50 rounded-lg\">\n          <p className=\"text-sm text-blue-700\">\n            Current file: {typeof currentFile === 'string' ? currentFile.split('/').pop() : currentFile.name}\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default FileUpload;\n","path":null,"size_bytes":9493,"size_tokens":null},"src/components/ui/EcoBadge.jsx":{"content":"\"use client\";\n\nconst EcoBadge = ({ \n  type = \"certified\", \n  size = \"sm\", \n  className = \"\" \n}) => {\n  const badges = {\n    certified: {\n      icon: \"🌱\",\n      text: \"Eco Certified\",\n      bgColor: \"bg-emerald-50\",\n      textColor: \"text-emerald-700\",\n      borderColor: \"border-emerald-200\"\n    },\n    organic: {\n      icon: \"🌿\",\n      text: \"Organic\",\n      bgColor: \"bg-emerald-50\",\n      textColor: \"text-emerald-600\",\n      borderColor: \"border-emerald-200\"\n    },\n    carbonNeutral: {\n      icon: \"🌍\",\n      text: \"Carbon Neutral\",\n      bgColor: \"bg-emerald-50\",\n      textColor: \"text-emerald-800\",\n      borderColor: \"border-emerald-300\"\n    },\n    renewable: {\n      icon: \"♻️\",\n      text: \"Renewable\",\n      bgColor: \"bg-emerald-50\",\n      textColor: \"text-emerald-600\",\n      borderColor: \"border-emerald-200\"\n    },\n    verified: {\n      icon: \"✓\",\n      text: \"Verified Vendor\",\n      bgColor: \"bg-emerald-50\",\n      textColor: \"text-emerald-700\",\n      borderColor: \"border-emerald-200\"\n    },\n    local: {\n      icon: \"📍\",\n      text: \"Local Source\",\n      bgColor: \"bg-yellow-50\",\n      textColor: \"text-yellow-700\",\n      borderColor: \"border-yellow-300\"\n    },\n    plastic_free: {\n      icon: \"🚫\",\n      text: \"Plastic Free\",\n      bgColor: \"bg-blue-50\",\n      textColor: \"text-blue-700\",\n      borderColor: \"border-blue-300\"\n    }\n  };\n\n  const badge = badges[type] || badges.certified;\n  \n  const sizes = {\n    xs: \"px-1.5 py-0.5 text-xs\",\n    sm: \"px-2 py-1 text-xs\",\n    md: \"px-3 py-1.5 text-sm\",\n    lg: \"px-4 py-2 text-base\"\n  };\n\n  return (\n    <span \n      className={`\n        inline-flex items-center gap-1 rounded-full border font-medium\n        ${badge.bgColor} ${badge.textColor} ${badge.borderColor}\n        ${sizes[size]}\n        ${className}\n      `}\n    >\n      <span className=\"leading-none\">{badge.icon}</span>\n      <span>{badge.text}</span>\n    </span>\n  );\n};\n\nexport default EcoBadge;\n\n\n\n","path":null,"size_bytes":1953,"size_tokens":null},"src/components/vendor/onboarding/Step2BusinessProfile.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { LEGAL_ENTITY_TYPES } from '../../../lib/fileUtils';\nimport { onboardingService } from '../../../services/onboardingService';\nimport { tokens } from '../../../lib/api';\nimport FileUpload from '../../ui/FileUpload';\n\nexport default function Step2BusinessProfile({ formData, handleChange, onValidation, onSkipToNextStep }) {\n  const [errors, setErrors] = useState({});\n  const [isLoading, setIsLoading] = useState(false);\n  const [uploadingFiles, setUploadingFiles] = useState({});\n  const [isSaving, setIsSaving] = useState(false);\n  const [originalData, setOriginalData] = useState(null);\n  const [hasExistingBusiness, setHasExistingBusiness] = useState(false);\n\n  // Debug: Log current formData\n  useEffect(() => {\n    console.log('Step2: Current formData:', formData);\n  }, [formData]);\n\n  // Load existing business info on mount\n  useEffect(() => {\n    const loadBusinessInfo = async () => {\n      try {\n        setIsLoading(true);\n        console.log('Step2: Loading business info...');\n        \n        // Check if user is authenticated\n        const userTokens = tokens.get();\n        console.log('Step2: User tokens:', userTokens ? 'Found' : 'Not found');\n        \n        const businessInfo = await onboardingService.getBusinessInfo();\n        console.log('Step2: Business info loaded:', businessInfo);\n        \n        if (businessInfo) {\n          setHasExistingBusiness(true);\n          console.log('Step2: Found existing business, pre-filling form...');\n          \n          // Store original data for comparison\n          setOriginalData({\n            business_name: businessInfo.business_name || '',\n            legal_entity_type: businessInfo.legal_entity_type || '',\n            pan_gst_number: businessInfo.pan_gst_number || '',\n            business_address: businessInfo.business_address || '',\n            bank_name: businessInfo.bank_name || '',\n            bank_account_number: businessInfo.bank_account_number || '',\n            ifsc_code: businessInfo.ifsc_code || '',\n            is_msme_registered: businessInfo.is_msme_registered || false,\n            website: businessInfo.website || '',\n            description: businessInfo.description || '',\n            other_document_name: businessInfo.other_document_name || '',\n            logo: businessInfo.logo || null,\n            banner: businessInfo.banner || null,\n            pan_card: businessInfo.pan_card || null,\n            address_proof: businessInfo.address_proof || null,\n            fssai_license: businessInfo.fssai_license || null,\n            trade_license: businessInfo.trade_license || null,\n            msme_certificate: businessInfo.msme_certificate || null,\n            other_document: businessInfo.other_document || null\n          });\n          \n          // Map backend fields to frontend form data (using new field names)\n          console.log('Step2: Calling handleChange for all fields...');\n          handleChange('business_name', businessInfo.business_name || '');\n          handleChange('legal_entity_type', businessInfo.legal_entity_type || '');\n          handleChange('pan_gst_number', businessInfo.pan_gst_number || '');\n          handleChange('business_address', businessInfo.business_address || '');\n          handleChange('bank_name', businessInfo.bank_name || '');\n          handleChange('bank_account_number', businessInfo.bank_account_number || '');\n          handleChange('ifsc_code', businessInfo.ifsc_code || '');\n          handleChange('is_msme_registered', businessInfo.is_msme_registered || false);\n          handleChange('website', businessInfo.website || '');\n          handleChange('description', businessInfo.description || '');\n          handleChange('other_document_name', businessInfo.other_document_name || '');\n          \n          // Handle file fields (these might be URLs from the server)\n          if (businessInfo.logo) handleChange('logo', businessInfo.logo);\n          if (businessInfo.banner) handleChange('banner', businessInfo.banner);\n          if (businessInfo.pan_card) handleChange('pan_card', businessInfo.pan_card);\n          if (businessInfo.address_proof) handleChange('address_proof', businessInfo.address_proof);\n          if (businessInfo.fssai_license) handleChange('fssai_license', businessInfo.fssai_license);\n          if (businessInfo.trade_license) handleChange('trade_license', businessInfo.trade_license);\n          if (businessInfo.msme_certificate) handleChange('msme_certificate', businessInfo.msme_certificate);\n          if (businessInfo.other_document) handleChange('other_document', businessInfo.other_document);\n          \n          console.log('Step2: Form pre-fill completed');\n        } else {\n          setHasExistingBusiness(false);\n          console.log('Step2: No existing business found');\n        }\n      } catch (error) {\n        console.error('Step2: Failed to load business info:', error);\n        setHasExistingBusiness(false);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadBusinessInfo();\n  }, []); // Remove handleChange dependency to avoid infinite loops\n\n  // Validate form data when it changes\n  useEffect(() => {\n    const validateCurrentData = () => {\n      const currentStepValidation = {\n        business_name: !formData.business_name?.trim() ? \"Business name is required\" : undefined,\n        legal_entity_type: !formData.legal_entity_type ? \"Legal entity type is required\" : undefined,\n        pan_gst_number: !formData.pan_gst_number?.trim() || formData.pan_gst_number.length < 10 \n          ? \"PAN/GST number must be at least 10 characters\" : undefined,\n        business_address: !formData.business_address?.trim() || formData.business_address.length < 10 \n          ? \"Business address must be at least 10 characters\" : undefined,\n        bank_name: !formData.bank_name?.trim() ? \"Bank name is required\" : undefined,\n        bank_account_number: !formData.bank_account_number?.trim() || formData.bank_account_number.length < 9 \n          ? \"Bank account number must be at least 9 characters\" : undefined,\n        ifsc_code: !formData.ifsc_code?.trim() || formData.ifsc_code.length !== 11 \n          ? \"IFSC code must be exactly 11 characters\" : undefined,\n      };\n\n      const stepErrors = Object.fromEntries(\n        Object.entries(currentStepValidation).filter(([_, value]) => value !== undefined)\n      );\n\n      setErrors(stepErrors);\n      \n      // Notify parent about validation status\n      if (onValidation) {\n        onValidation(Object.keys(stepErrors).length === 0);\n      }\n    };\n\n    validateCurrentData();\n  }, [formData, onValidation]);\n\n  // Function to detect if form data has changed from original\n  const hasDataChanged = () => {\n    if (!originalData) return true; // If no original data, treat as changed\n    \n    // Compare all fields\n    const fieldsToCompare = [\n      'business_name', 'legal_entity_type', 'pan_gst_number', 'business_address',\n      'bank_name', 'bank_account_number', 'ifsc_code', 'is_msme_registered',\n      'website', 'description', 'other_document_name'\n    ];\n    \n    for (const field of fieldsToCompare) {\n      if (formData[field] !== originalData[field]) {\n        return true;\n      }\n    }\n    \n    // Compare file fields (check if they are different objects/files)\n    const fileFields = [\n      'logo', 'banner', 'pan_card', 'address_proof', 'fssai_license',\n      'trade_license', 'msme_certificate', 'other_document'\n    ];\n    \n    for (const field of fileFields) {\n      const currentFile = formData[field];\n      const originalFile = originalData[field];\n      \n      // If current is a File object and original is a string/url, it's changed\n      if (currentFile instanceof File && typeof originalFile === 'string') {\n        return true;\n      }\n      \n      // If one is null/undefined and other isn't, it's changed\n      if ((currentFile && !originalFile) || (!currentFile && originalFile)) {\n        return true;\n      }\n      \n      // If both are File objects, compare by name and size\n      if (currentFile instanceof File && originalFile instanceof File) {\n        if (currentFile.name !== originalFile.name || currentFile.size !== originalFile.size) {\n          return true;\n        }\n      }\n    }\n    \n    return false;\n  };\n\n  // Function to handle save business info with change detection\n  const handleSaveBusinessInfo = async () => {\n    if (!hasExistingBusiness || hasDataChanged()) {\n      setIsSaving(true);\n      try {\n        // Call the parent's save function with the hasExistingBusiness flag\n        if (onSkipToNextStep) {\n          await onSkipToNextStep(false, hasExistingBusiness); // Pass hasExistingBusiness to determine POST vs PUT\n        }\n      } catch (error) {\n        console.error('Failed to save business info:', error);\n      } finally {\n        setIsSaving(false);\n      }\n    } else {\n      // No changes detected, skip directly to next step\n      if (onSkipToNextStep) {\n        onSkipToNextStep(true); // Pass true to indicate skip without save\n      }\n    }\n  };\n\n  const handleLogoUpload = async (file) => {\n    try {\n      setUploadingFiles(prev => ({ ...prev, logo: true }));\n      if (file) {\n        handleChange('logo', file); // Store the actual file for FormData submission\n      } else {\n        handleChange('logo', null);\n      }\n    } catch (error) {\n      console.error('Failed to select logo:', error);\n    } finally {\n      setUploadingFiles(prev => ({ ...prev, logo: false }));\n    }\n  };\n\n  const handleBannerUpload = async (file) => {\n    try {\n      setUploadingFiles(prev => ({ ...prev, banner: true }));\n      if (file) {\n        handleChange('banner', file); // Store the actual file for FormData submission\n      } else {\n        handleChange('banner', null);\n      }\n    } catch (error) {\n      console.error('Failed to select banner:', error);\n    } finally {\n      setUploadingFiles(prev => ({ ...prev, banner: false }));\n    }\n  };\n\n  // Add handlers for all document types\n  const handleDocumentUpload = (fieldName) => async (file) => {\n    try {\n      setUploadingFiles(prev => ({ ...prev, [fieldName]: true }));\n      if (file) {\n        handleChange(fieldName, file);\n      } else {\n        handleChange(fieldName, null);\n      }\n    } catch (error) {\n      console.error(`Failed to select ${fieldName}:`, error);\n    } finally {\n      setUploadingFiles(prev => ({ ...prev, [fieldName]: false }));\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex justify-center items-center py-8\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-[#12b74f]\"></div>\n        <span className=\"ml-2 text-[#1a4032]\">Loading business profile...</span>\n      </div>\n    );\n  }\n  return (\n    <>\n      {/* Business Name */}\n      <div className=\"flex flex-col\">\n        <label className=\"flex items-center px-4 py-0 mb-2\">\n          <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n            Business Name\n          </span>\n          <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n        </label>\n        <input\n          type=\"text\"\n          value={formData.business_name || ''}\n          onChange={(e) => handleChange('business_name', e.target.value)}\n          placeholder=\"Enter your business name\"\n          className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                   font-semibold text-[16px] text-[#1a4032] opacity-50\n                   focus:opacity-100 focus:outline-none transition-all\n                   ${errors.business_name ? 'border-red-500 focus:border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n          required\n        />\n        {errors.business_name && (\n          <p className=\"text-red-500 text-sm mt-1 px-4\">{errors.business_name}</p>\n        )}\n      </div>\n\n      {/* First Row - Legal Entity Type & PAN/GST */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"flex flex-col\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              Legal Entity Type\n            </span>\n            <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n          </label>\n          <div className=\"relative\">\n            <select\n              value={formData.legal_entity_type || ''}\n              onChange={(e) => handleChange('legal_entity_type', e.target.value)}\n              className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                       font-semibold text-[16px] text-[#09101d] opacity-50\n                       focus:opacity-100 focus:outline-none transition-all\n                       appearance-none\n                       ${errors.legal_entity_type ? 'border-red-500 focus:border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n              required\n            >\n              <option value=\"\">Select Type</option>\n              {LEGAL_ENTITY_TYPES.map(type => (\n                <option key={type.value} value={type.value}>\n                  {type.label}\n                </option>\n              ))}\n            </select>\n            <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2 pointer-events-none\">\n              <svg className=\"w-6 h-6 text-[#858c94]\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 9l-7 7-7-7\" />\n              </svg>\n            </div>\n          </div>\n          {errors.legal_entity_type && (\n            <p className=\"text-red-500 text-sm mt-1 px-4\">{errors.legal_entity_type}</p>\n          )}\n        </div>\n\n        <div className=\"flex flex-col\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              PAN/GST Number\n            </span>\n            <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={formData.pan_gst_number || ''}\n            onChange={(e) => handleChange('pan_gst_number', e.target.value)}\n            placeholder=\"ABCD/1234\"\n            className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                     font-semibold text-[16px] text-[#1a4032] opacity-50\n                     focus:opacity-100 focus:outline-none transition-all\n                     ${errors.pan_gst_number ? 'border-red-500 focus:border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n            required\n          />\n          {errors.pan_gst_number && (\n            <p className=\"text-red-500 text-sm mt-1 px-4\">{errors.pan_gst_number}</p>\n          )}\n        </div>\n      </div>\n\n      {/* Business Address */}\n      <div className=\"flex flex-col\">\n        <label className=\"flex items-center px-4 py-0 mb-2\">\n          <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n            Business Address\n          </span>\n          <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n        </label>\n        <textarea\n          value={formData.business_address || ''}\n          onChange={(e) => handleChange('business_address', e.target.value)}\n          placeholder=\"Complete business address including city state and code\"\n          rows={3}\n          className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                   font-semibold text-[16px] text-[#1a4032] opacity-50\n                   focus:opacity-100 focus:outline-none transition-all resize-none\n                   ${errors.business_address ? 'border-red-500 focus:border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n          required\n        />\n        {errors.business_address && (\n          <p className=\"text-red-500 text-sm mt-1 px-4\">{errors.business_address}</p>\n        )}\n      </div>\n\n      {/* MSME Registration */}\n      <div className=\"flex items-start gap-3 px-4\">\n        <input\n          type=\"checkbox\"\n          id=\"isMsmeRegistered\"\n          checked={formData.is_msme_registered || false}\n          onChange={(e) => handleChange('is_msme_registered', e.target.checked)}\n          className=\"w-4 h-4 mt-0.5 bg-[rgba(80,44,10,0.2)] border-[#502c0a] rounded-[2px] \n                   focus:ring-2 focus:ring-[#502c0a] focus:outline-none\"\n        />\n        <label htmlFor=\"isMsmeRegistered\" className=\"text-[13px] text-[#09101d] leading-[20px]\">\n          My Business is a registered MSME Udhyam (Micro, Small & Medium Enterprise)\n        </label>\n      </div>\n\n      {/* Banking Information Section */}\n      <div className=\"flex items-center gap-3 px-4 pt-4\">\n        <div className=\"w-6 h-6\">\n          <svg viewBox=\"0 0 24 24\" className=\"w-full h-full text-[#1a4032]\">\n            <path fill=\"currentColor\" d=\"M11.5,1L2,6V8H21V6M16,10V17H19V10M12.5,10V17H15.5V10M9,10V17H12V10M5.5,10V17H8.5V10M2,19V21H21V19\"/>\n          </svg>\n        </div>\n        <h3 className=\"font-reem font-medium text-[16px] text-[#1a4032]\">\n          Banking Information\n        </h3>\n      </div>\n\n      {/* Bank Details Row */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"flex flex-col\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              Bank Name\n            </span>\n            <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={formData.bank_name || ''}\n            onChange={(e) => handleChange('bank_name', e.target.value)}\n            placeholder=\"Enter bank name\"\n            className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                     font-semibold text-[16px] text-[#1a4032] opacity-50\n                     focus:opacity-100 focus:outline-none transition-all\n                     ${errors.bank_name ? 'border-red-500 focus:border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n            required\n          />\n          {errors.bank_name && (\n            <p className=\"text-red-500 text-sm mt-1 px-4\">{errors.bank_name}</p>\n          )}\n        </div>\n\n        <div className=\"flex flex-col\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              Account Number\n            </span>\n            <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            value={formData.bank_account_number || ''}\n            onChange={(e) => handleChange('bank_account_number', e.target.value)}\n            placeholder=\"Enter account number\"\n            className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                     font-semibold text-[16px] text-[#1a4032] opacity-50\n                     focus:opacity-100 focus:outline-none transition-all\n                     ${errors.bank_account_number ? 'border-red-500 focus:border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n            required\n          />\n          {errors.bank_account_number && (\n            <p className=\"text-red-500 text-sm mt-1 px-4\">{errors.bank_account_number}</p>\n          )}\n        </div>\n      </div>\n\n      {/* IFSC Code */}\n      <div className=\"flex flex-col\">\n        <label className=\"flex items-center px-4 py-0 mb-2\">\n          <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n            IFSC Code\n          </span>\n          <span className=\"text-[#da1414] text-[13px] opacity-80 ml-1\">*</span>\n        </label>\n        <input\n          type=\"text\"\n          value={formData.ifsc_code || ''}\n          onChange={(e) => handleChange('ifsc_code', e.target.value.toUpperCase())}\n          placeholder=\"ABCD0123456\"\n          maxLength={11}\n          className={`w-full bg-[#f9fbe7] border rounded-[8px] px-4 py-3 \n                   font-semibold text-[16px] text-[#1a4032] opacity-50\n                   focus:opacity-100 focus:outline-none transition-all\n                   ${errors.ifsc_code ? 'border-red-500 focus:border-red-500' : 'border-[#858c94] focus:border-[#1a4032]'}`}\n          required\n        />\n        {errors.ifsc_code && (\n          <p className=\"text-red-500 text-sm mt-1 px-4\">{errors.ifsc_code}</p>\n        )}\n      </div>\n\n      {/* Optional Fields Section */}\n      <div className=\"flex items-center gap-3 px-4 pt-4\">\n        <div className=\"w-6 h-6\">\n          <svg viewBox=\"0 0 24 24\" className=\"w-full h-full text-[#1a4032]\">\n            <path fill=\"currentColor\" d=\"M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,16.5L6.5,12L7.91,10.59L11,13.67L16.59,8.09L18,9.5L11,16.5Z\"/>\n          </svg>\n        </div>\n        <h3 className=\"font-reem font-medium text-[16px] text-[#1a4032]\">\n          Additional Information (Optional)\n        </h3>\n      </div>\n\n      {/* Website and Description Row */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"flex flex-col\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              Website URL\n            </span>\n          </label>\n          <input\n            type=\"url\"\n            value={formData.website || ''}\n            onChange={(e) => handleChange('website', e.target.value)}\n            placeholder=\"https://yourcompany.com\"\n            className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                     font-semibold text-[16px] text-[#1a4032] opacity-50\n                     focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n          />\n        </div>\n\n        <div className=\"flex flex-col\">\n          <label className=\"flex items-center px-4 py-0 mb-2\">\n            <span className=\"font-semibold text-[16px] text-[#1a4032] opacity-80\">\n              Business Description\n            </span>\n          </label>\n          <textarea\n            value={formData.description || ''}\n            onChange={(e) => handleChange('description', e.target.value)}\n            placeholder=\"Brief description of your business\"\n            rows={3}\n            className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                     font-semibold text-[16px] text-[#1a4032] opacity-50\n                     focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all resize-none\"\n          />\n        </div>\n      </div>\n\n      {/* Brand Assets Section */}\n      <div className=\"flex items-center gap-3 px-4 pt-4\">\n        <div className=\"w-6 h-6\">\n          <svg viewBox=\"0 0 24 24\" className=\"w-full h-full text-[#1a4032]\">\n            <path fill=\"currentColor\" d=\"M9,16V10H5L12,3L19,10H15V16H9M5,20V18H19V20H5Z\"/>\n          </svg>\n        </div>\n        <h3 className=\"font-reem font-medium text-[16px] text-[#1a4032]\">\n          Brand Assets (Optional)\n        </h3>\n      </div>\n\n      {/* Logo and Banner Upload */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <FileUpload\n          onFileSelect={handleLogoUpload}\n          accept=\"image/*\"\n          fileType=\"image\"\n          label=\"Business Logo\"\n          description=\"Upload your business logo\"\n          className=\"px-4\"\n          currentFile={formData.logo}\n          isUploading={uploadingFiles.logo}\n        />\n\n        <FileUpload\n          onFileSelect={handleBannerUpload}\n          accept=\"image/*\"\n          fileType=\"image\"\n          label=\"Business Banner\"\n          description=\"Upload your business banner\"\n          className=\"px-4\"\n          currentFile={formData.banner}\n          isUploading={uploadingFiles.banner}\n        />\n      </div>\n\n      {/* Document Upload Section */}\n      <div className=\"flex items-center gap-3 px-4 pt-4\">\n        <div className=\"w-6 h-6\">\n          <svg viewBox=\"0 0 24 24\" className=\"w-full h-full text-[#1a4032]\">\n            <path fill=\"currentColor\" d=\"M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z\"/>\n          </svg>\n        </div>\n        <h3 className=\"font-reem font-medium text-[16px] text-[#1a4032]\">\n          Business Documents\n        </h3>\n      </div>\n\n      {/* Document Upload Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <FileUpload\n          onFileSelect={handleDocumentUpload('pan_card')}\n          accept=\".pdf,.jpg,.jpeg,.png\"\n          fileType=\"document\"\n          label=\"PAN Card *\"\n          description=\"Upload PAN card document\"\n          className=\"px-4\"\n          currentFile={formData.pan_card}\n          isUploading={uploadingFiles.pan_card}\n        />\n\n        <FileUpload\n          onFileSelect={handleDocumentUpload('address_proof')}\n          accept=\".pdf,.jpg,.jpeg,.png\"\n          fileType=\"document\"\n          label=\"Address Proof *\"\n          description=\"Upload address proof document\"\n          className=\"px-4\"\n          currentFile={formData.address_proof}\n          isUploading={uploadingFiles.address_proof}\n        />\n\n        <FileUpload\n          onFileSelect={handleDocumentUpload('fssai_license')}\n          accept=\".pdf,.jpg,.jpeg,.png\"\n          fileType=\"document\"\n          label=\"FSSAI License\"\n          description=\"Upload FSSAI license (if applicable)\"\n          className=\"px-4\"\n          currentFile={formData.fssai_license}\n          isUploading={uploadingFiles.fssai_license}\n        />\n\n        <FileUpload\n          onFileSelect={handleDocumentUpload('trade_license')}\n          accept=\".pdf,.jpg,.jpeg,.png\"\n          fileType=\"document\"\n          label=\"Trade License\"\n          description=\"Upload trade license document\"\n          className=\"px-4\"\n          currentFile={formData.trade_license}\n          isUploading={uploadingFiles.trade_license}\n        />\n\n        {formData.is_msme_registered && (\n          <FileUpload\n            onFileSelect={handleDocumentUpload('msme_certificate')}\n            accept=\".pdf,.jpg,.jpeg,.png\"\n            fileType=\"document\"\n            label=\"MSME Certificate\"\n            description=\"Upload MSME registration certificate\"\n            className=\"px-4\"\n            currentFile={formData.msme_certificate}\n            isUploading={uploadingFiles.msme_certificate}\n          />\n        )}\n\n        <div className=\"space-y-4 px-4\">\n          <div>\n            <label className=\"block font-semibold text-[16px] text-[#1a4032] opacity-80 mb-2\">\n              Other Document Name\n            </label>\n            <input\n              type=\"text\"\n              value={formData.other_document_name || ''}\n              onChange={(e) => handleChange('other_document_name', e.target.value)}\n              placeholder=\"e.g., Export License, ISO Certificate\"\n              className=\"w-full bg-[#f9fbe7] border border-[#858c94] rounded-[8px] px-4 py-3 \n                       font-semibold text-[16px] text-[#1a4032] opacity-50\n                       focus:opacity-100 focus:outline-none focus:border-[#1a4032] transition-all\"\n            />\n          </div>\n          \n          {formData.other_document_name && (\n            <FileUpload\n              onFileSelect={handleDocumentUpload('other_document')}\n              accept=\".pdf,.jpg,.jpeg,.png\"\n              fileType=\"document\"\n              label=\"Other Document\"\n              description={`Upload ${formData.other_document_name}`}\n              currentFile={formData.other_document}\n              isUploading={uploadingFiles.other_document}\n            />\n          )}\n        </div>\n      </div>\n\n      {/* Save Business Information Button */}\n      <div className=\"flex justify-between items-center pt-8\">\n        {/* Go Back Button */}\n        <button\n          type=\"button\"\n          onClick={() => window.history.back()}\n          className=\"bg-white border border-[#b8b8b8] hover:bg-gray-50 text-[#484848] \n                   px-6 py-3 rounded-lg font-medium transition-all duration-200\n                   flex items-center gap-2\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 19l-7-7 7-7\" />\n          </svg>\n          Go Back\n        </button>\n\n        {/* Save Button */}\n        <button\n          type=\"button\"\n          onClick={handleSaveBusinessInfo}\n          disabled={isSaving || isLoading}\n          className={`px-8 py-3 rounded-lg font-semibold text-white transition-all duration-200\n            ${isSaving || isLoading\n              ? 'bg-gray-400 cursor-not-allowed' \n              : 'bg-[#12b74f] hover:bg-[#0f8f3f] active:transform active:scale-95'\n            }`}\n        >\n          {isSaving ? (\n            <div className=\"flex items-center gap-2\">\n              <svg className=\"animate-spin h-5 w-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" strokeDasharray=\"15.708\"></circle>\n              </svg>\n              <span>{hasExistingBusiness ? 'Updating Business Info...' : 'Saving Business Info...'}</span>\n            </div>\n          ) : (\n            <span>{hasExistingBusiness ? 'Update & Continue' : 'Save & Continue'}</span>\n          )}\n        </button>\n      </div>\n\n      {/* Information about existing business */}\n      {hasExistingBusiness && (\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mx-4 mt-4\">\n          <div className=\"flex items-start\">\n            <div className=\"flex-shrink-0\">\n              <svg className=\"w-5 h-5 text-blue-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n              </svg>\n            </div>\n            <div className=\"ml-3\">\n              <h3 className=\"text-sm font-medium text-blue-800\">\n                Existing Business Profile Found\n              </h3>\n              <div className=\"mt-2 text-sm text-blue-700\">\n                <p>We've loaded your existing business information. You can make changes if needed, or continue to the next step if everything looks correct.</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n","path":null,"size_bytes":30549,"size_tokens":null},"src/components/vendor/DashboardStats.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport supplierAnalyticsService from '../../services/supplierAnalyticsService';\nimport supplierOrdersService from '../../services/supplierOrdersService';\n\n// Icon Components\nconst UserIcon = () => (\n  <svg width=\"22\" height=\"22\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nconst TrendingUpIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <polyline points=\"23 6 13.5 15.5 8.5 10.5 1 18\" stroke=\"#00b69b\" strokeWidth=\"2\" fill=\"none\"/>\n    <polyline points=\"17 6 23 6 23 12\" stroke=\"#00b69b\" strokeWidth=\"2\" fill=\"none\"/>\n  </svg>\n);\n\nconst OrderIcon = () => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <polyline points=\"14,2 14,8 20,8\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\"/>\n    <line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n    <line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n    <polyline points=\"10,9 9,9 8,9\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n  </svg>\n);\n\nconst WarningIcon = () => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z\" stroke=\"#d4183d\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\" stroke=\"#d4183d\" strokeWidth=\"2\"/>\n    <line x1=\"12\" y1=\"17\" x2=\"12.01\" y2=\"17\" stroke=\"#d4183d\" strokeWidth=\"2\"/>\n  </svg>\n);\n\nconst EyeIcon = () => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <circle cx=\"12\" cy=\"12\" r=\"3\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n  </svg>\n);\n\nexport default function DashboardStats({ vendor }) {\n  const [analytics, setAnalytics] = useState(null);\n  const [orderAnalytics, setOrderAnalytics] = useState(null);\n  const [lowStockCount, setLowStockCount] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchDashboardData = async () => {\n      try {\n        setLoading(true);\n        const [analyticsData, orderData, lowStockData] = await Promise.all([\n          supplierAnalyticsService.getAnalyticsOverview(30),\n          supplierOrdersService.getOrderAnalytics(30),\n          supplierAnalyticsService.getLowStockProducts()\n        ]);\n\n        setAnalytics(analyticsData);\n        setOrderAnalytics(orderData);\n        setLowStockCount(lowStockData?.low_stock_products?.length || 0);\n      } catch (error) {\n        console.error('Failed to fetch dashboard data:', error);\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchDashboardData();\n  }, []);\n\n  const formatNumber = (num) => {\n    if (num === null || num === undefined) return \"0\";\n    return num.toLocaleString();\n  };\n\n  const formatCurrency = (amount) => {\n    if (amount === null || amount === undefined) return \"₹0\";\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 px-4 sm:px-7 mb-6 sm:mb-8\">\n        {[1, 2, 3, 4].map((i) => (\n          <div key={i} className=\"bg-white rounded-[14px] border border-[#c6c6c6] shadow-[6px_6px_54px_0px_rgba(0,0,0,0.05)] p-4 sm:p-6 relative min-h-[100px] sm:min-h-[120px]\">\n            <div className=\"animate-pulse\">\n              <div className=\"h-3 sm:h-4 bg-gray-200 rounded w-3/4 mb-2 sm:mb-3\"></div>\n              <div className=\"h-6 sm:h-8 bg-gray-200 rounded w-1/2 mb-2\"></div>\n              <div className=\"h-3 sm:h-4 bg-gray-200 rounded w-2/3\"></div>\n            </div>\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 px-4 sm:px-7 mb-6 sm:mb-8\">\n      {/* Total Views Card */}\n      <div className=\"bg-white rounded-[14px] border border-[#c6c6c6] shadow-[6px_6px_54px_0px_rgba(0,0,0,0.05)] p-4 sm:p-6 relative min-h-[100px] sm:min-h-[120px]\">\n        {/* Icon container */}\n        <div className=\"absolute top-4 sm:top-6 right-4 sm:right-6 w-6 h-6 sm:w-8 sm:h-8 bg-[#f2f2f2] rounded-[8px] sm:rounded-[10px] border border-[#dadada] flex items-center justify-center text-[#666]\">\n          <EyeIcon />\n        </div>\n\n        {/* Title */}\n        <div className=\"font-['Source_Sans_Pro'] font-semibold text-[14px] sm:text-[16px] text-[#202224] opacity-70 mb-2 sm:mb-3 pr-8 sm:pr-12\">\n          Total Views\n        </div>\n\n        {/* Main number */}\n        <div className=\"font-['Nunito_Sans'] font-bold text-[24px] sm:text-[28px] text-[#202224] tracking-[1px] mb-2\">\n          {formatNumber(analytics?.total_views || 0)}\n        </div>\n\n        {/* Trend indicator */}\n        <div className=\"flex items-center gap-1 flex-wrap\">\n          <TrendingUpIcon />\n          <span className=\"font-['Nunito_Sans'] font-semibold text-[12px] sm:text-[14px]\">\n            <span className=\"text-[#00b69b]\">{formatNumber(analytics?.unique_views || 0)}</span>\n            <span className=\"text-[#606060]\"> unique viewers</span>\n          </span>\n        </div>\n      </div>\n\n      {/* Active Orders Card */}\n      <div className=\"bg-white rounded-[14px] border border-[#c6c6c6] shadow-[6px_6px_54px_0px_rgba(0,0,0,0.05)] p-4 sm:p-6 relative min-h-[100px] sm:min-h-[120px]\">\n        {/* Icon container */}\n        <div className=\"absolute top-4 sm:top-6 right-4 sm:right-6 w-6 h-6 sm:w-8 sm:h-8 bg-[#f2f2f2] rounded-[8px] sm:rounded-[10px] border border-[#dadada] flex items-center justify-center text-[#666]\">\n          <OrderIcon />\n        </div>\n\n        {/* Title */}\n        <div className=\"font-['Source_Sans_Pro'] font-semibold text-[14px] sm:text-[16px] text-[#202224] opacity-70 mb-2 sm:mb-3 pr-8 sm:pr-12\">\n          Total Orders\n        </div>\n\n        {/* Main number */}\n        <div className=\"font-['Nunito_Sans'] font-bold text-[24px] sm:text-[28px] text-[#202224] tracking-[1px] mb-2\">\n          {formatNumber(orderAnalytics?.total_orders || 0)}\n        </div>\n\n        {/* Trend indicator */}\n        <div className=\"flex items-center gap-1 flex-wrap\">\n          <span className=\"font-['Nunito_Sans'] font-semibold text-[12px] sm:text-[14px]\">\n            <span className=\"text-[#00b69b]\">AOV: {formatCurrency(orderAnalytics?.average_order_value || 0)}</span>\n          </span>\n        </div>\n  \n        \n        {/* Trend indicator */}\n        <div className=\"flex items-center gap-1 flex-wrap\">\n          <span className=\"font-['Nunito_Sans'] font-semibold text-[14px]\">\n            <span className=\"text-[#00b69b]\">AOV: {formatCurrency(orderAnalytics?.average_order_value || 0)}</span>\n          </span>\n        </div>\n      </div>\n\n      {/* Monthly Revenue Card */}\n      <div className=\"bg-white rounded-[14px] border border-[#c6c6c6] shadow-[6px_6px_54px_0px_rgba(0,0,0,0.05)] p-4 sm:p-6 relative min-h-[100px] sm:min-h-[120px]\">\n        {/* Icon container */}\n        <div className=\"absolute top-4 sm:top-6 right-4 sm:right-6 w-6 h-6 sm:w-8 sm:h-8 bg-[#f2f2f2] rounded-[8px] sm:rounded-[10px] border border-[#dadada] flex items-center justify-center\">\n          <div className=\"font-['Nunito_Sans'] font-bold text-[16px] sm:text-[20px] text-[#666] tracking-[1px]\">\n            $\n          </div>\n        </div>\n\n        {/* Title */}\n        <div className=\"font-['Source_Sans_Pro'] font-semibold text-[14px] sm:text-[16px] text-[#202224] opacity-70 mb-2 sm:mb-3 pr-8 sm:pr-12\">\n          Total Revenue\n        </div>\n\n        {/* Main number */}\n        <div className=\"font-['Nunito_Sans'] font-bold text-[24px] sm:text-[28px] text-[#202224] tracking-[1px] mb-2\">\n          {formatCurrency(orderAnalytics?.total_revenue || 0)}\n        </div>\n\n        {/* Trend indicator */}\n        <div className=\"flex items-center gap-1 flex-wrap\">\n          <span className=\"font-['Nunito_Sans'] font-semibold text-[12px] sm:text-[14px]\">\n            <span className=\"text-[#00b69b]\">Last 30 days</span>\n          </span>\n        </div>\n      </div>\n\n      {/* Low Stock Alert Card */}\n      <div className=\"bg-white rounded-[14px] border border-[#c6c6c6] shadow-[6px_6px_54px_0px_rgba(0,0,0,0.05)] p-4 sm:p-6 relative min-h-[100px] sm:min-h-[120px]\">\n        {/* Icon container */}\n        <div className=\"absolute top-4 sm:top-6 right-4 sm:right-6 w-6 h-6 sm:w-8 sm:h-8 bg-[#f2f2f2] rounded-[8px] sm:rounded-[10px] border border-[#dadada] flex items-center justify-center\">\n          <WarningIcon />\n        </div>\n\n        {/* Title */}\n        <div className=\"font-['Source_Sans_Pro'] font-semibold text-[14px] sm:text-[16px] text-[#202224] opacity-70 mb-2 sm:mb-3 pr-8 sm:pr-12\">\n          Low Stock Alert\n        </div>\n\n        {/* Main number */}\n        <div className=\"font-['Nunito_Sans'] font-bold text-[24px] sm:text-[28px] text-[#d4183d] tracking-[1px] mb-2\">\n          {formatNumber(lowStockCount)}\n        </div>\n\n        {/* Description */}\n        <div className=\"font-['Nunito_Sans'] font-semibold text-[12px] sm:text-[14px] text-[#666666] flex-wrap\">\n          Items needing restocking\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":9917,"size_tokens":null},"src/app/account/orders/page.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from 'next/navigation';\nimport Navbar from \"../../../components/layout/Navbar\";\nimport Footer from \"../../../components/layout/Footer\";\nimport { useOrders } from \"../../../hooks/useOrders\";\nimport { useAuth } from \"../../../hooks/useAuth\";\n\n// Order status badge component\nconst OrderStatusBadge = ({ status }) => {\n  const getStatusColor = (status) => {\n    switch (status?.toLowerCase()) {\n      case 'pending':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'confirmed':\n        return 'bg-blue-100 text-blue-800';\n      case 'processing':\n        return 'bg-purple-100 text-purple-800';\n      case 'shipped':\n        return 'bg-orange-100 text-orange-800';\n      case 'delivered':\n        return 'bg-green-100 text-green-800';\n      case 'cancelled':\n        return 'bg-red-100 text-red-800';\n      case 'returned':\n        return 'bg-gray-100 text-gray-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  return (\n    <span className={`px-2 py-1 text-xs font-medium rounded-full ${getStatusColor(status)}`}>\n      {status}\n    </span>\n  );\n};\n\n// Order card component\nconst OrderCard = ({ order, onViewDetails }) => {\n  return (\n    <div className=\"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow\">\n      <div className=\"flex justify-between items-start mb-4\">\n        <div>\n          <h3 className=\"font-poppins font-semibold text-gray-900 text-lg\">\n            Order #{order.order_number || order.order_id || order.id}\n          </h3>\n          <p className=\"text-sm text-gray-500\">\n            Placed on {new Date(order.created_at).toLocaleDateString()}\n          </p>\n        </div>\n        <OrderStatusBadge status={order.status} />\n      </div>\n\n      <div className=\"space-y-2 mb-4\">\n        <div className=\"flex justify-between text-sm\">\n          <span className=\"text-gray-600\">Items:</span>\n          <span className=\"font-medium\">{order.items_count || order.total_items || order.items?.length || 0}</span>\n        </div>\n        <div className=\"flex justify-between text-sm\">\n          <span className=\"text-gray-600\">Total:</span>\n          <span className=\"font-semibold text-gray-900\">\n            ₹{(order.total_amount || order.total || 0).toFixed(2)}\n          </span>\n        </div>\n      </div>\n\n      <div className=\"flex gap-3\">\n        <button\n          onClick={() => onViewDetails(order)}\n          className=\"flex-1 bg-gray-900 text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-gray-800 transition-colors\"\n        >\n          View Details\n        </button>\n        {order.status === 'delivered' && (\n          <button className=\"px-4 py-2 border border-gray-300 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-50 transition-colors\">\n            Return\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default function OrdersPage() {\n  const router = useRouter();\n  const { orders, loading, loadOrders } = useOrders();\n  const { isLoggedIn, userProfile } = useAuth();\n  const [filteredOrders, setFilteredOrders] = useState([]);\n  const [statusFilter, setStatusFilter] = useState('all');\n\n  useEffect(() => {\n    if (isLoggedIn && userProfile) {\n      loadOrders();\n    } else if (!isLoggedIn) {\n      router.push('/login');\n    }\n  }, [isLoggedIn, userProfile, loadOrders, router]);\n\n  useEffect(() => {\n    if (orders) {\n      if (statusFilter === 'all') {\n        setFilteredOrders(orders);\n      } else {\n        setFilteredOrders(orders.filter(order => \n          order.status?.toLowerCase() === statusFilter.toLowerCase()\n        ));\n      }\n    }\n  }, [orders, statusFilter]);\n\n  const handleViewDetails = (order) => {\n    router.push(`/account/orders/${order.order_number || order.order_id || order.id}`);\n  };\n\n  const orderStatuses = [\n    { value: 'all', label: 'All Orders' },\n    { value: 'pending', label: 'Pending' },\n    { value: 'confirmed', label: 'Confirmed' },\n    { value: 'processing', label: 'Processing' },\n    { value: 'shipped', label: 'Shipped' },\n    { value: 'delivered', label: 'Delivered' },\n    { value: 'cancelled', label: 'Cancelled' },\n    { value: 'returned', label: 'Returned' }\n  ];\n\n  if (!isLoggedIn) {\n    return null; // Will redirect to login\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navbar />\n      \n      <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">My Orders</h1>\n          <p className=\"text-gray-600\">Track and manage your orders</p>\n        </div>\n\n        {/* Filters */}\n        <div className=\"bg-white rounded-lg border border-gray-200 p-4 mb-6\">\n          <div className=\"flex flex-wrap gap-2\">\n            {orderStatuses.map((status) => (\n              <button\n                key={status.value}\n                onClick={() => setStatusFilter(status.value)}\n                className={`px-4 py-2 text-sm font-medium rounded-md transition-colors ${\n                  statusFilter === status.value\n                    ? 'bg-gray-900 text-white'\n                    : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                }`}\n              >\n                {status.label}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Orders List */}\n        {loading ? (\n          <div className=\"flex justify-center items-center py-12\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900\"></div>\n          </div>\n        ) : filteredOrders.length > 0 ? (\n          <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-1\">\n            {filteredOrders.map((order) => (\n              <OrderCard\n                key={order.order_id || order.id}\n                order={order}\n                onViewDetails={handleViewDetails}\n              />\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-12\">\n            <div className=\"text-gray-400 mb-4\">\n              <svg className=\"mx-auto h-12 w-12\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\" />\n              </svg>\n            </div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n              {statusFilter === 'all' ? 'No orders found' : `No ${statusFilter} orders`}\n            </h3>\n            <p className=\"text-gray-500 mb-6\">\n              {statusFilter === 'all' \n                ? \"You haven't placed any orders yet.\" \n                : `You don't have any ${statusFilter} orders.`\n              }\n            </p>\n            <button\n              onClick={() => router.push('/explore')}\n              className=\"bg-gray-900 text-white px-6 py-2 rounded-md text-sm font-medium hover:bg-gray-800 transition-colors\"\n            >\n              Start Shopping\n            </button>\n          </div>\n        )}\n      </div>\n\n      <Footer />\n    </div>\n  );\n}\n","path":null,"size_bytes":7127,"size_tokens":null},"src/services/chatService.js":{"content":"// Chat service for AI assistant\nconst API_BASE_URL = process.env.NEXT_PUBLIC_AI_SERVICE_URL || 'http://localhost:8002';\n\nclass ChatService {\n  constructor() {\n    this.baseURL = API_BASE_URL;\n  }\n\n  async sendMessage({ message, user_token, session_id }) {\n    try {\n      const response = await fetch(`${this.baseURL}/chat`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          message,\n          user_token,\n          session_id\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Chat service error:', error);\n      throw error;\n    }\n  }\n\n  async getConversationHistory(session_id) {\n    try {\n      const response = await fetch(`${this.baseURL}/chat/history/${session_id}`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Chat history error:', error);\n      throw error;\n    }\n  }\n\n  async clearConversationHistory(session_id) {\n    try {\n      const response = await fetch(`${this.baseURL}/chat/history/${session_id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Clear history error:', error);\n      throw error;\n    }\n  }\n\n  async getServiceStats() {\n    try {\n      const response = await fetch(`${this.baseURL}/stats`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Service stats error:', error);\n      throw error;\n    }\n  }\n\n  async checkHealth() {\n    try {\n      const response = await fetch(`${this.baseURL}/health`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data;\n    } catch (error) {\n      console.error('Health check error:', error);\n      throw error;\n    }\n  }\n}\n\nexport const chatService = new ChatService();\nexport default chatService;\n","path":null,"size_bytes":2870,"size_tokens":null},"src/components/ui/ProductQuickView.jsx":{"content":"\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { X, Star, Heart, Minus, Plus, ShoppingCart, Eye, Check } from 'lucide-react';\nimport { useCart } from '../../hooks/useCart';\n\nconst ProductQuickView = ({ onClose, product }) => {\n  const [quantity, setQuantity] = useState(1);\n  const [selectedImageIndex, setSelectedImageIndex] = useState(0);\n  const [isAddingToCart, setIsAddingToCart] = useState(false);\n  const [addedToCart, setAddedToCart] = useState(false);\n  const [cartItemId, setCartItemId] = useState(null);\n  const router = useRouter();\n  const { addToCart, updateCartItem } = useCart();\n\n  // Reset state when modal opens/closes\n  useEffect(() => {\n    if (product) {\n      setQuantity(1);\n      setSelectedImageIndex(0);\n      setAddedToCart(false);\n    }\n  }, [product]);\n\n  // Close modal on escape key\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    document.body.style.overflow = 'hidden';\n\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n      document.body.style.overflow = 'unset';\n    };\n  }, [onClose]);\n\n  if (!product) return null;\n\n  const handleQuantityChange = async (change) => {\n    const newQuantity = Math.max(1, quantity + change);\n    \n    // Update local state immediately for better UX\n    setQuantity(newQuantity);\n    \n    // If item is already in cart, update it on the server\n    if (addedToCart && cartItemId) {\n      try {\n        await updateCartItem(cartItemId, newQuantity);\n      } catch (error) {\n        console.error('Failed to update cart item quantity:', error);\n        // Revert local state on error\n        setQuantity(quantity);\n        alert('Failed to update quantity. Please try again.');\n      }\n    }\n  };\n\n  const handleViewDetails = () => {\n    const productSlug = product?.slug || product?.id || product?.title?.toLowerCase().replace(/\\s+/g, '-');\n    if (productSlug) {\n      router.push(`/products/${productSlug}`);\n      onClose();\n    }\n  };\n\n  const handleAddToCart = async () => {\n    if (!product?.id) {\n      alert('Product information is missing');\n      return;\n    }\n\n    // Check if product is in stock\n    if (product?.available_stock <= 0) {\n      alert('This product is currently out of stock');\n      return;\n    }\n\n    try {\n      setIsAddingToCart(true);\n      \n      // Use the default variant if available, otherwise null\n      const variantId = product.variants?.[0]?.id || null;\n      \n      const result = await addToCart(product.id, quantity, variantId);\n      \n      // Store the cart item ID for future quantity updates\n      if (result?.items) {\n        const newItem = result.items.find(item => item.product_id === product.id);\n        if (newItem) {\n          setCartItemId(newItem.id);\n        }\n      }\n      \n      setAddedToCart(true);\n      \n      // Reset the success state after 3 seconds\n      setTimeout(() => {\n        setAddedToCart(false);\n      }, 3000);\n      \n    } catch (error) {\n      console.error('Failed to add to cart:', error);\n      alert('Failed to add product to cart. Please try again.');\n    } finally {\n      setIsAddingToCart(false);\n    }\n  };\n\n  const renderStars = (rating) => {\n    return [...Array(5)].map((_, i) => (\n      <Star\n        key={i}\n        className={`w-[18px] h-[18px] ${\n          i < rating ? 'fill-yellow-400 text-yellow-400' : 'text-gray-300'\n        }`}\n      />\n    ));\n  };\n\n  // Transform product data to match modal structure\n  const productData = {\n    name: product?.name || product?.title || \"Product Name\",\n    inStock: product?.status === 'active' && (product?.available_stock > 0),\n    rating: product?.rating || 4, // Default rating if not available\n    reviewCount: product?.reviews || product?.review_count || 0,\n    originalPrice: product?.compare_at_price || (product?.price * 1.2) || 0,\n    salePrice: product?.price || 0,\n    discount: product?.compare_at_price \n      ? `${Math.round(((product.compare_at_price - product.price) / product.compare_at_price) * 100)}% OFF`\n      : \"\",\n    // Only show actual product images, fall back to one default image if none available\n    images: product?.images?.length > 0 \n      ? product.images.map(img => img.url) \n      : [\"/sample1.jpg\"], // Single fallback image\n    brand: product?.brand?.name || product?.brand_name || \"AveoEarth\",\n    description: product?.description || product?.short_description || \"Premium eco-friendly product made with sustainable materials. This product is crafted with care using organic and sustainable practices to ensure quality while being environmentally conscious.\",\n    category: product?.category?.name || product?.category_name || \"Eco-Friendly\",\n    tags: product?.tags || [\"Sustainable\", \"Eco-Friendly\", \"Natural\", \"Organic\", \"AveoEarth Certified\"],\n    sku: product?.sku || \"\",\n    materials: product?.materials || [],\n    origin_country: product?.origin_country || \"\",\n    care_instructions: product?.care_instructions || \"\"\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      {/* Backdrop */}\n      <div \n        className=\"absolute inset-0 bg-black bg-opacity-50\"\n        onClick={onClose}\n      />\n      \n      {/* Modal Content */}\n      <div className=\"relative bg-white rounded-lg max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n        {/* Close Button */}\n        <button\n          onClick={onClose}\n          className=\"absolute top-4 right-4 z-10 bg-white rounded-full p-2 shadow-lg hover:bg-gray-100 transition-colors\"\n        >\n          <X className=\"w-6 h-6 text-gray-600\" />\n        </button>\n\n        <div className=\"flex flex-col lg:flex-row\">\n          {/* Left Section - Images */}\n          <div className=\"lg:w-1/2 p-6\">\n            <div className=\"flex gap-4\">\n              {/* Thumbnail Column */}\n              <div className=\"flex flex-col gap-3 w-20\">\n                {/* Up Arrow */}\n                <button className=\"flex items-center justify-center h-6 text-gray-400 hover:text-gray-600\">\n                  <svg className=\"w-4 h-4 rotate-180\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path d=\"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z\" />\n                  </svg>\n                </button>\n                \n                {productData.images.map((image, index) => (\n                  <div\n                    key={index}\n                    className={`w-20 h-[90px] rounded cursor-pointer border-2 ${\n                      selectedImageIndex === index ? 'border-gray-800' : 'border-gray-200'\n                    }`}\n                    onClick={() => setSelectedImageIndex(index)}\n                  >\n                    <img\n                      src={image}\n                      alt={`Product ${index + 1}`}\n                      className=\"w-full h-full object-cover rounded\"\n                    />\n                  </div>\n                ))}\n                \n                {/* Down Arrow */}\n                <button className=\"flex items-center justify-center h-6 text-gray-400 hover:text-gray-600\">\n                  <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path d=\"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z\" />\n                  </svg>\n                </button>\n              </div>\n\n              {/* Main Image */}\n              <div className=\"flex-1\">\n                <img\n                  src={productData.images[selectedImageIndex]}\n                  alt={productData.name}\n                  className=\"w-full h-[500px] object-cover rounded\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Right Section - Product Details */}\n          <div className=\"lg:w-1/2 p-6 flex flex-col gap-6\">\n            {/* Header Section */}\n            <div className=\"flex flex-col gap-5\">\n              <div className=\"flex flex-col gap-3\">\n                {/* Product Name & Stock */}\n                <div className=\"flex gap-2 items-center\">\n                  <h1 className=\"font-semibold text-[36px] text-[#1a1a1a] font-['Poppins']\">\n                    {productData.name}\n                  </h1>\n                  <span className=\"bg-[#bdc0b3] px-2 py-1 rounded text-[#272727] text-sm font-['Poppins']\">\n                    {productData.inStock ? \"In Stock\" : \"Out of Stock\"}\n                  </span>\n                </div>\n\n                {/* Rating & Reviews */}\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"flex items-center\">\n                    {renderStars(productData.rating)}\n                    <span className=\"text-[#666666] text-sm ml-2 font-['Poppins']\">\n                      {productData.reviewCount} Review\n                    </span>\n                  </div>\n                  <span className=\"text-[#b3b3b3] font-medium\">•</span>\n                </div>\n              </div>\n\n              {/* Price */}\n              <div className=\"flex gap-3 items-center\">\n                <div className=\"flex gap-1 items-center\">\n                  <span className=\"text-[#b3b3b3] text-xl line-through font-['Poppins']\">\n                    ₹{productData.originalPrice.toFixed(2)}\n                  </span>\n                  <span className=\"text-[#272727] text-2xl font-medium font-['Poppins']\">\n                    ₹{productData.salePrice.toFixed(2)}\n                  </span>\n                </div>\n                <span className=\"bg-[rgba(106,106,106,0.1)] px-2.5 py-1 rounded-[30px] text-[#272727] text-sm font-medium font-['Poppins']\">\n                  {productData.discount}\n                </span>\n              </div>\n\n              {/* Divider */}\n              <div className=\"w-full h-px bg-gray-200\" />\n            </div>\n\n            {/* Brand & Description */}\n            <div className=\"flex flex-col gap-4\">\n              <div className=\"flex items-center justify-between w-full\">\n                <div className=\"flex gap-2 items-center\">\n                  <span className=\"text-[#1a1a1a] text-sm font-['Poppins']\">Brand:</span>\n                  <div className=\"bg-white border border-[#e6e6e6] rounded w-14 h-14 flex items-center justify-center\">\n                    <span className=\"text-[#555555] text-[13px] font-bold font-['Dancing_Script']\">\n                      {productData.brand}\n                    </span>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"text-[14px] text-gray-600 leading-[1.5] font-['Poppins']\">\n                {productData.description.split('\\n').map((line, index) => (\n                  <p key={index} className={index > 0 ? 'mt-4' : ''}>{line}</p>\n                ))}\n              </div>\n            </div>\n\n            {/* CTA Section */}\n            <div className=\"bg-white border-t border-b border-[#e6e6e6] py-[18px] flex gap-3 items-center\">\n              {/* Quantity Selector */}\n              <div className=\"bg-white border border-[#e6e6e6] rounded-full p-2 flex items-center gap-4\">\n                <button\n                  onClick={() => handleQuantityChange(-1)}\n                  className=\"bg-[#f2f2f2] rounded-full w-[34px] h-[34px] flex items-center justify-center\"\n                >\n                  <Minus className=\"w-3.5 h-3.5\" />\n                </button>\n                <span className=\"w-10 text-center text-[#1a1a1a] text-base font-['Poppins']\">\n                  {quantity}\n                </span>\n                <button\n                  onClick={() => handleQuantityChange(1)}\n                  className=\"bg-[#f2f2f2] rounded-full w-[34px] h-[34px] flex items-center justify-center\"\n                >\n                  <Plus className=\"w-3.5 h-3.5\" />\n                </button>\n              </div>\n\n              {/* Add to Cart Button or Quantity Controls */}\n              {addedToCart ? (\n                <div className=\"flex items-center gap-3 bg-green-50 border border-green-200 rounded-[43px] px-6 py-3\">\n                  <Check className=\"w-4 h-4 text-green-600\" />\n                  <span className=\"font-semibold text-sm text-green-700\">Added to Cart!</span>\n                  <div className=\"flex items-center gap-2 ml-auto\">\n                    <button\n                      onClick={() => handleQuantityChange(-1)}\n                      className=\"bg-white border border-gray-300 rounded-full w-[28px] h-[28px] flex items-center justify-center hover:bg-gray-50\"\n                    >\n                      <Minus className=\"w-3 h-3\" />\n                    </button>\n                    <span className=\"font-medium text-sm min-w-[20px] text-center\">{quantity}</span>\n                    <button\n                      onClick={() => handleQuantityChange(1)}\n                      className=\"bg-white border border-gray-300 rounded-full w-[28px] h-[28px] flex items-center justify-center hover:bg-gray-50\"\n                    >\n                      <Plus className=\"w-3 h-3\" />\n                    </button>\n                  </div>\n                </div>\n              ) : (\n                <button \n                  onClick={handleAddToCart}\n                  disabled={isAddingToCart || !productData.inStock}\n                  className={`px-10 py-4 rounded-[43px] flex items-center gap-4 flex-1 transition-all duration-200 ${\n                    productData.inStock \n                      ? 'bg-[#272727] text-white hover:bg-[#333333]' \n                      : 'bg-gray-400 text-white cursor-not-allowed'\n                  }`}\n                >\n                  {isAddingToCart ? (\n                    <>\n                      <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                      <span className=\"font-semibold text-base font-['Poppins']\">Adding...</span>\n                    </>\n                  ) : (\n                    <>\n                      <span className=\"font-semibold text-base font-['Poppins']\">\n                        {productData.inStock ? 'Add to Cart' : 'Out of Stock'}\n                      </span>\n                      <ShoppingCart className=\"w-4 h-4\" />\n                    </>\n                  )}\n                </button>\n              )}\n\n              {/* Wishlist Button */}\n              <button className=\"bg-[#bdc0b3] p-4 rounded-[43px] flex items-center justify-center\">\n                <Heart className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            {/* View Details Button */}\n            <div className=\"py-3\">\n              <button \n                onClick={handleViewDetails}\n                className=\"w-full bg-white border border-[#272727] text-[#272727] px-6 py-3 rounded-[43px] flex items-center justify-center gap-3 hover:bg-gray-50 transition-colors\"\n              >\n                <Eye className=\"w-4 h-4\" />\n                <span className=\"font-semibold text-base font-['Poppins']\">View Details</span>\n              </button>\n            </div>\n\n            {/* Product Details */}\n            <div className=\"flex flex-col gap-3\">\n              <div className=\"flex gap-1.5 items-start text-sm\">\n                <span className=\"font-medium text-[#1a1a1a] font-['Poppins']\">Category:</span>\n                <span className=\"text-gray-600 font-['Poppins']\">{productData.category}</span>\n              </div>\n              {productData.sku && (\n                <div className=\"flex gap-1.5 items-start text-sm\">\n                  <span className=\"font-medium text-[#1a1a1a] font-['Poppins']\">SKU:</span>\n                  <span className=\"text-gray-600 font-['Poppins']\">{productData.sku}</span>\n                </div>\n              )}\n              {productData.materials.length > 0 && (\n                <div className=\"flex gap-1.5 items-start text-sm\">\n                  <span className=\"font-medium text-[#1a1a1a] font-['Poppins']\">Materials:</span>\n                  <span className=\"text-gray-600 font-['Poppins']\">{productData.materials.join(', ')}</span>\n                </div>\n              )}\n              {productData.origin_country && (\n                <div className=\"flex gap-1.5 items-start text-sm\">\n                  <span className=\"font-medium text-[#1a1a1a] font-['Poppins']\">Origin:</span>\n                  <span className=\"text-gray-600 font-['Poppins']\">{productData.origin_country}</span>\n                </div>\n              )}\n              <div className=\"flex gap-1.5 items-start text-sm flex-wrap\">\n                <span className=\"font-medium text-[#1a1a1a] font-['Poppins']\">Tags:</span>\n                {productData.tags.map((tag, index) => (\n                  <span key={index} className=\"text-gray-600 font-['Poppins']\">\n                    {tag}{index < productData.tags.length - 1 ? ',' : ''}\n                  </span>\n                ))}\n              </div>\n              {productData.care_instructions && (\n                <div className=\"flex gap-1.5 items-start text-sm\">\n                  <span className=\"font-medium text-[#1a1a1a] font-['Poppins']\">Care:</span>\n                  <span className=\"text-gray-600 font-['Poppins']\">{productData.care_instructions}</span>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductQuickView;\n","path":null,"size_bytes":17584,"size_tokens":null},"src/components/admin/screens/DashboardScreen.jsx":{"content":"\"use client\";\n\nimport StatCard from \"../StatCard\";\nimport TimeFilter from \"../TimeFilter\";\nimport ChartCard from \"../ChartCard\";\nimport SalesChart from \"../SalesChart\";\nimport ProductList from \"../ProductList\";\nimport QuickAction from \"../QuickAction\";\nimport { useState, useEffect } from \"react\";\nimport adminService from \"@/services/adminService\";\n\nexport default function DashboardScreen() {\n  const [salesPeriod, setSalesPeriod] = useState(\"Today\");\n  const [userPeriod, setUserPeriod] = useState(\"Today\");\n  const [productPeriod, setProductPeriod] = useState(\"Today\");\n  \n  // Dashboard data state\n  const [dashboardStats, setDashboardStats] = useState({\n    totalProducts: 0,\n    pendingProducts: 0,\n    totalOrders: 0,\n    totalRevenue: 0,\n    totalSuppliers: 0,\n    verifiedSuppliers: 0,\n    activeOrders: 0,\n    shippedOrders: 0,\n    avgOrderValue: 0\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    fetchDashboardData();\n  }, []);\n\n  const fetchDashboardData = async () => {\n    try {\n      setLoading(true);\n      \n      // Fetch dashboard stats\n      const stats = await adminService.getDashboardStats();\n      \n      // Fetch recent orders for more detailed stats\n      const ordersData = await adminService.getAllOrders({ \n        page: 1, \n        limit: 100 \n      });\n      \n      // Calculate additional stats from orders\n      const orders = ordersData.items || [];\n      const activeOrders = orders.filter(order => \n        ['pending', 'confirmed', 'processing'].includes(order.status?.toLowerCase())\n      ).length;\n      \n      const shippedOrders = orders.filter(order => \n        ['shipped', 'delivered'].includes(order.status?.toLowerCase())\n      ).length;\n      \n      const totalRevenue = orders.reduce((sum, order) => \n        sum + (order.total_amount || 0), 0\n      );\n      \n      const avgOrderValue = orders.length > 0 ? totalRevenue / orders.length : 0;\n      \n      setDashboardStats({\n        ...stats,\n        activeOrders,\n        shippedOrders,\n        totalRevenue,\n        avgOrderValue\n      });\n      \n    } catch (error) {\n      console.error('Failed to fetch dashboard data:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      maximumFractionDigits: 0\n    }).format(amount || 0);\n  };\n\n  const formatNumber = (num) => {\n    return new Intl.NumberFormat('en-IN').format(num || 0);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <h1 className=\"text-2xl font-semibold text-black\">Dashboard</h1>\n        <div className=\"animate-pulse\">\n          <div className=\"grid grid-cols-12 gap-6\">\n            <div className=\"col-span-7 bg-gray-200 h-64 rounded-xl\"></div>\n            <div className=\"col-span-5 bg-gray-200 h-64 rounded-xl\"></div>\n            <div className=\"col-span-12 grid grid-cols-3 gap-6\">\n              <div className=\"bg-gray-200 h-32 rounded-xl\"></div>\n              <div className=\"bg-gray-200 h-32 rounded-xl\"></div>\n              <div className=\"bg-gray-200 h-32 rounded-xl\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"space-y-6\">\n        <h1 className=\"text-2xl font-semibold text-black\">Dashboard</h1>\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <p className=\"text-red-600\">Failed to load dashboard data: {error}</p>\n          <button \n            onClick={fetchDashboardData}\n            className=\"mt-2 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Page Title */}\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-2xl font-semibold text-black\">Dashboard</h1>\n        <button \n          onClick={fetchDashboardData}\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm\"\n        >\n          Refresh Data\n        </button>\n      </div>\n      \n      {/* Main Grid Layout */}\n      <div className=\"grid grid-cols-12 gap-6\">\n        {/* Left Column - Sales Overview */}\n        <div className=\"col-span-7\">\n          <ChartCard title=\"Sales Overview\" hasDropdown dropdownValue=\"This Month\">\n            <div className=\"mb-6\">\n              <TimeFilter \n                selectedPeriod={salesPeriod} \n                onPeriodChange={setSalesPeriod} \n              />\n            </div>\n            <SalesChart />\n          </ChartCard>\n        </div>\n        \n        {/* Right Column - Top Products */}\n        <div className=\"col-span-5\">\n          <ChartCard title=\"Top Products\">\n            <ProductList />\n          </ChartCard>\n        </div>\n        \n        {/* Stats Cards Row */}\n        <div className=\"col-span-12 mt-6\">\n          <div className=\"grid grid-cols-3 gap-6\">\n            <StatCard \n              title=\"Active Orders\"\n              value={formatNumber(dashboardStats.activeOrders)}\n              change=\"5\"\n              description=\"Currently being processed\"\n              icon=\"orders\"\n            />\n            <StatCard \n              title=\"Orders Shipped\"\n              value={formatNumber(dashboardStats.shippedOrders)}\n              change=\"3\"\n              description=\"Completed deliveries\"\n              icon=\"orders\"\n            />\n            <StatCard \n              title=\"Avg. Order Value\"\n              value={formatCurrency(dashboardStats.avgOrderValue)}\n              description=\"Average transaction amount\"\n              icon=\"trend\"\n            />\n          </div>\n        </div>\n        \n        {/* User Overview */}\n        <div className=\"col-span-7 mt-6\">\n          <div className=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"text-sm font-semibold text-gray-900\">User Overview</h3>\n              <TimeFilter \n                selectedPeriod={userPeriod} \n                onPeriodChange={setUserPeriod} \n              />\n            </div>\n            \n            <div className=\"grid grid-cols-3 gap-4\">\n              <StatCard \n                title=\"Total Orders\"\n                value={formatNumber(dashboardStats.totalOrders)}\n                icon=\"users\"\n              />\n              <StatCard \n                title=\"Total Revenue\"\n                value={formatCurrency(dashboardStats.totalRevenue)}\n                icon=\"users\"\n              />\n              <StatCard \n                title=\"Total Suppliers\"\n                value={formatNumber(dashboardStats.totalSuppliers)}\n                icon=\"users\"\n              />\n            </div>\n          </div>\n        </div>\n        \n        {/* Product Overview */}\n        <div className=\"col-span-12 mt-6\">\n          <div className=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h3 className=\"text-sm font-semibold text-gray-900\">Product Overview</h3>\n              <TimeFilter \n                selectedPeriod={productPeriod} \n                onPeriodChange={setProductPeriod} \n              />\n            </div>\n            \n            <div className=\"grid grid-cols-3 gap-4\">\n              <StatCard \n                title=\"Active Products\"\n                value={formatNumber(dashboardStats.totalProducts)}\n                icon=\"orders\"\n              />\n              <StatCard \n                title=\"Pending Approvals\"\n                value={formatNumber(dashboardStats.pendingProducts)}\n                icon=\"orders\"\n              />\n              <StatCard \n                title=\"Verified Suppliers\"\n                value={formatNumber(dashboardStats.verifiedSuppliers)}\n                icon=\"orders\"\n              />\n            </div>\n          </div>\n        </div>\n        \n        {/* System Status */}\n        <div className=\"col-span-12 mt-6\">\n          <div className=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n            <h3 className=\"text-sm font-semibold text-gray-900 mb-6\">System Status</h3>\n            <div className=\"space-y-4\">\n              <QuickAction title=\"API Uptime & Latency\" />\n              <QuickAction title=\"Payment Gateway Status\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":8637,"size_tokens":null},"replit.md":{"content":"# AveoEarth E-commerce Platform\n\n## Overview\nThis is an e-commerce platform for sustainable and eco-friendly products built with Next.js 15 and React 19.\n\n## Technology Stack\n- **Framework**: Next.js 15.5.0 with App Router\n- **UI Library**: React 19.1.0\n- **Styling**: Tailwind CSS v4\n- **Icons**: Heroicons & Lucide React\n- **Runtime**: Node.js 20.x\n\n## Project Structure\n- `src/app/` - Next.js pages and routing\n- `src/components/` - Reusable React components\n- `src/hooks/` - Custom React hooks for auth, cart, and orders\n- `src/services/` - API service layer\n- `src/lib/` - Utility libraries\n\n## Development\n\n### Running Locally\nThe application runs on port 5000 with the command:\n```bash\nnpm run dev\n```\n\nThe workflow \"Start application\" is configured to automatically start the dev server.\n\n### Environment Variables\nEnvironment variables are stored in `.env.local`. Key variables include:\n- `NEXT_PUBLIC_APP_URL` - The application URL (set to http://localhost:5000 for Replit)\n- `MONGODB_URI` - MongoDB connection string (needs to be configured)\n- `ADMIN_ACCESS_KEY` - Admin dashboard access key\n\n### Build and Production\n```bash\nnpm run build  # Build for production\nnpm start      # Start production server\n```\n\n## Replit Configuration\n\n### Frontend Setup\n- The dev server is configured to run on `0.0.0.0:5000` to work with Replit's proxy\n- Cross-origin requests are allowed via `allowedDevOrigins: ['*']` in next.config.mjs\n- The workflow automatically restarts when changes are made\n\n### Static Assets\nThe following static assets were imported from the GitHub repository:\n- Images: logo.png, hero.png, hero1.png, hotdeals.png, beauty.jpg, fitness.jpg, home.jpg, petcare.jpg, placeholder-product.jpg, spoons.png, category1.png\n- SVG icons: bookmark.svg, cart.svg, file.svg, globe.svg, next.svg, profile.svg, vercel.svg, window.svg\n- Video: AveoBuddy.mp4\n- Fonts: Poppins (Regular, Medium, SemiBold, Bold), ReemKufi-Regular\n\nPlaceholder images are used for some community page assets that weren't in the repository.\n\n## Key Features\n- Multi-role support (Buyer, Vendor, Admin)\n- Shopping cart with persistent state\n- Product catalog with sustainability metrics\n- Vendor dashboard for product and order management\n- Admin dashboard for platform management\n- AI chatbot integration\n- Address management\n- Order tracking\n\n## Database\nThe application is designed to work with MongoDB. The connection string needs to be configured in `.env.local`.\n\n## Recent Changes (Dec 2024)\n- Configured for Replit environment\n- Updated dev server to run on port 5000\n- Removed Turbopack due to symlink issues in Replit environment\n- Added allowedDevOrigins configuration for cross-origin requests\n- Set up deployment configuration for Replit\n","path":null,"size_bytes":2735,"size_tokens":null},"src/app/impact/page.jsx":{"content":"export const metadata = { title: \"Impact\" };\n\nexport default function ImpactPage() {\n  return (\n    <div className=\"container mx-auto px-4 py-10\">\n      <h1 className=\"text-3xl font-semibold mb-3\">Impact & Methodology</h1>\n      <p className=\"text-neutral-600 mb-8\">Stories and stats. Third-party verified where applicable.</p>\n      <div className=\"grid md:grid-cols-3 gap-6\">\n        <div className=\"bg-white rounded-2xl p-6 border border-neutral-200 shadow-card\">\n          <div className=\"text-4xl font-bold text-[var(--color-eco-primary)]\">2,847</div>\n          <div className=\"text-sm text-neutral-600\">trees planted (YTD)</div>\n        </div>\n        <div className=\"bg-white rounded-2xl p-6 border border-neutral-200 shadow-card\">\n          <div className=\"text-4xl font-bold text-[var(--color-eco-primary)]\">15.2T</div>\n          <div className=\"text-sm text-neutral-600\">CO₂ offset (verified)</div>\n        </div>\n        <div className=\"bg-white rounded-2xl p-6 border border-neutral-200 shadow-card\">\n          <div className=\"text-4xl font-bold text-[var(--color-eco-primary)]\">500K+</div>\n          <div className=\"text-sm text-neutral-600\">plastic items saved</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n\n","path":null,"size_bytes":1231,"size_tokens":null},"src/app/about/page.jsx":{"content":"\"use client\";\n\nimport React from 'react';\nimport { \n  Leaf, \n  Heart, \n  Users, \n  TreePine, \n  Award, \n  Globe,\n  Target,\n  Star,\n  ArrowRight,\n  CheckCircle,\n  Clock, // Using Clock for Timeline\n  Handshake, // Using Handshake for Partnerships in CTA\n} from 'lucide-react';\n\n// --- Custom Tailwind Color Approximations ---\n// forest: emerald-700\n// moss: emerald-500\n// charcoal: gray-800\n// muted-foreground: gray-600\n\n// --- Simple Card Component (to replace Shadcn Card) ---\nconst CustomCard = ({ children, className = \"\" }) => (\n  <div className={`rounded-xl bg-white border border-gray-100 shadow-lg p-6 ${className}`}>\n    {children}\n  </div>\n);\n\n// --- Custom Button Component (to replace Shadcn Button) ---\nconst PrimaryButton = ({ children, className = \"\", onClick, variant = \"default\" }) => {\n  const baseClasses = \"flex items-center justify-center font-semibold rounded-full px-6 py-3 transition-all duration-300 transform active:scale-95 whitespace-nowrap\";\n  \n  let styles;\n  if (variant === \"secondary\") {\n    // Used for CTA inside the green section\n    styles = \"bg-white text-emerald-700 hover:bg-emerald-50 hover:shadow-xl\";\n  } else if (variant === \"outline\") {\n    // Used for secondary button in Hero\n    styles = \"border border-emerald-700 text-emerald-700 hover:bg-emerald-50/50 hover:shadow-md\";\n  } else {\n    // Default/Primary button\n    styles = \"bg-emerald-700 text-white hover:bg-emerald-800 shadow-md hover:shadow-xl\";\n  }\n\n  return (\n    <button className={`${baseClasses} ${styles} ${className}`} onClick={onClick}>\n      {children}\n    </button>\n  );\n};\n\n// const metadata = { title: \"About AveoEarth\" };\n\nexport default function AboutPage() {\n  const stats = [\n    { label: 'Happy Customers', value: '50K+', icon: Users },\n    { label: 'Trees Planted', value: '25K', icon: TreePine },\n    { label: 'CO₂ Offset', value: '100T', icon: Leaf },\n    { label: 'Countries', value: '15+', icon: Globe }\n  ];\n\n  const values = [\n    {\n      icon: Leaf,\n      title: 'Sustainability First',\n      description: 'Every product we curate meets strict environmental standards and contributes to a healthier planet.'\n    },\n    {\n      icon: Heart,\n      title: 'Ethical Sourcing',\n      description: 'We partner with brands that prioritize fair trade, worker welfare, and community development.'\n    },\n    {\n      icon: Target,\n      title: 'Quality Assurance',\n      description: 'Rigorous testing and certification ensure all products meet our high standards for performance and safety.'\n    },\n    {\n      icon: Award,\n      title: 'Impact Transparency',\n      description: 'Track your environmental impact with detailed metrics on carbon savings and positive change.'\n    }\n  ];\n\n  const team = [\n    {\n      name: 'Anand Bharadwaj',\n      role: 'Founder & CEO',\n      image: 'https://placehold.co/200x200/22c55e/ffffff?text=AB',\n      bio: 'Environmental engineer turned entrepreneur, passionate about sustainable innovation.'\n    },\n    {\n      name: 'Priya Sharma',\n      role: 'Head of Sustainability',\n      image: 'https://placehold.co/200x200/10b981/ffffff?text=PS',\n      bio: 'Former climate scientist with 10+ years in sustainable product development.'\n    },\n    {\n      name: 'Daniel Kim',\n      role: 'Chief Technology Officer',\n      image: 'https://placehold.co/200x200/059669/ffffff?text=DK',\n      bio: 'Tech leader building scalable solutions for sustainable e-commerce.'\n    },\n    {\n      name: 'Leila Hassan',\n      role: 'Head of Partnerships',\n      image: 'https://placehold.co/200x200/047857/ffffff?text=LH',\n      bio: 'Connecting eco-conscious brands with customers who care about impact.'\n    }\n  ];\n\n  const milestones = [\n    {\n      year: '2022',\n      title: 'AveoEarth Founded',\n      description: 'Started with a mission to make sustainable shopping accessible to everyone.'\n    },\n    {\n      year: '2023',\n      title: '10K Trees Planted',\n      description: 'Reached our first major environmental milestone with community reforestation projects.'\n    },\n    {\n      year: '2023',\n      title: 'B-Corp Certification',\n      description: 'Officially certified as a Benefit Corporation, committed to social and environmental impact.'\n    },\n    {\n      year: '2024',\n      title: '50K+ Customers',\n      description: 'Built a thriving community of eco-conscious consumers making a difference.'\n    }\n  ];\n\n  const CertificationIcon = ({ icon: Icon, colorClass }) => (\n    <div className={`w-16 h-16 ${colorClass} rounded-2xl flex items-center justify-center mx-auto mb-4`}>\n      <Icon className=\"w-8 h-8 text-white\" />\n    </div>\n  );\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 font-inter\">\n      {/* Hero Section */}\n      <section className=\"bg-gradient-to-br from-emerald-50 to-emerald-200 py-20 md:py-32\">\n        <div className=\"container mx-auto px-4 text-center\">\n          <div className=\"max-w-4xl mx-auto space-y-6\">\n            <div className=\"flex items-center justify-center gap-3 mb-6\">\n              <div className=\"w-16 h-16 bg-gradient-to-r from-emerald-600 to-emerald-700 rounded-3xl flex items-center justify-center shadow-lg\">\n                <Leaf className=\"w-8 h-8 text-white\" />\n              </div>\n            </div>\n            \n            <h1 className=\"text-4xl lg:text-6xl font-extrabold text-gray-800 leading-tight\">\n              Redefining Commerce for a\n              <span className=\"text-emerald-700 block mt-2\">Sustainable Tomorrow</span>\n            </h1>\n            \n            <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n              AveoEarth is more than a marketplace—we're a movement toward conscious consumption, \n              connecting eco-warriors with products that protect our planet and communities.\n            </p>\n            \n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center pt-4\">\n              <PrimaryButton>\n                Join Our Mission\n                <ArrowRight className=\"w-5 h-5 ml-2\" />\n              </PrimaryButton>\n              <PrimaryButton variant=\"outline\">\n                View Impact Report\n              </PrimaryButton>\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Stats Section */}\n      <section className=\"py-16 bg-white shadow-inner\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"grid md:grid-cols-2 lg:grid-cols-4 gap-8\">\n            {stats.map((stat, index) => {\n              const Icon = stat.icon;\n              return (\n                <CustomCard key={index} className=\"text-center transition-all hover:shadow-2xl\">\n                  <div className=\"p-2 space-y-2\">\n                    <Icon className=\"w-10 h-10 text-emerald-600 mx-auto mb-2\" />\n                    <div className=\"text-4xl font-extrabold text-gray-900\">{stat.value}</div>\n                    <div className=\"text-gray-500 font-medium\">{stat.label}</div>\n                  </div>\n                </CustomCard>\n              );\n            })}\n          </div>\n        </div>\n      </section>\n\n      {/* Our Story */}\n      <section className=\"py-20 md:py-32 bg-gray-50\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"grid lg:grid-cols-2 gap-12 items-center\">\n            <div className=\"space-y-8\">\n              <h2 className=\"text-3xl lg:text-5xl font-extrabold text-gray-800 border-l-4 border-emerald-600 pl-4\">\n                Our Story: The Genesis of Change\n              </h2>\n              \n              <div className=\"space-y-4 text-gray-600 leading-relaxed text-lg\">\n                <p>\n                  AveoEarth was born from a simple yet powerful belief: that every purchase \n                  is a vote for the kind of world we want to live in. Founded by a team of \n                  environmental advocates and tech innovators, we set out to solve a critical \n                  problem in sustainable shopping.\n                </p>\n                \n                <p>\n                  In a world flooded with greenwashing and false promises, finding truly \n                  sustainable products felt like searching for a needle in a haystack. \n                  We knew there had to be a better way—a platform that could cut through \n                  the noise and connect conscious consumers with verified eco-friendly products.\n                </p>\n                \n                <p className=\"font-semibold text-emerald-700\">\n                  Today, AveoEarth is home to thousands of carefully curated products from \n                  brands that share our commitment to environmental stewardship and social \n                  responsibility. Every item in our marketplace undergoes rigorous vetting \n                  to ensure it meets our strict sustainability standards.\n                </p>\n              </div>\n              \n              <PrimaryButton className=\"mt-6 bg-emerald-600 hover:bg-emerald-700\">\n                Learn More About Our Process\n              </PrimaryButton>\n            </div>\n            \n            <div className=\"relative p-4 bg-white rounded-3xl shadow-2xl shadow-emerald-200\">\n              <img \n                src=\"https://placehold.co/600x400/10b981/ffffff?text=Sustainable+Future\" \n                alt=\"Our sustainable mission\"\n                className=\"w-full rounded-2xl object-cover h-96\"\n              />\n              <div className=\"absolute inset-0 bg-gradient-to-t from-emerald-700/30 to-transparent rounded-2xl m-4\" />\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Our Values */}\n      <section className=\"py-20 md:py-32 bg-white\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-3xl lg:text-4xl font-extrabold text-gray-800 mb-4\">\n              Our Guiding Values\n            </h2>\n            <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n              The principles that guide every decision we make and every partnership we form.\n            </p>\n          </div>\n          \n          <div className=\"grid sm:grid-cols-2 lg:grid-cols-4 gap-8\">\n            {values.map((value, index) => {\n              const Icon = value.icon;\n              return (\n                <CustomCard key={index} className=\"text-center h-full transition-shadow hover:shadow-xl hover:border-emerald-200\">\n                  <div className=\"p-4 space-y-4\">\n                    <div className=\"w-16 h-16 bg-emerald-600 rounded-xl flex items-center justify-center mx-auto shadow-md\">\n                      <Icon className=\"w-8 h-8 text-white\" />\n                    </div>\n                    <h3 className=\"text-xl font-bold text-gray-900\">{value.title}</h3>\n                    <p className=\"text-gray-500 text-sm\">{value.description}</p>\n                  </div>\n                </CustomCard>\n              );\n            })}\n          </div>\n        </div>\n      </section>\n\n      {/* Our Team */}\n      <section className=\"py-20 md:py-32 bg-gray-50\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-3xl lg:text-4xl font-extrabold text-gray-800 mb-4\">\n              Meet the Visionaries\n            </h2>\n            <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n              Passionate individuals united by a shared vision of a sustainable future.\n            </p>\n          </div>\n          \n          <div className=\"grid sm:grid-cols-2 lg:grid-cols-4 gap-8\">\n            {team.map((member, index) => (\n              <CustomCard key={index} className=\"text-center group transition-transform hover:scale-[1.02] hover:shadow-2xl h-full\">\n                <div className=\"p-2 space-y-4\">\n                  <img \n                    src={member.image}\n                    alt={member.name}\n                    className=\"w-32 h-32 rounded-full mx-auto object-cover border-4 border-emerald-500 shadow-md transition-all group-hover:border-emerald-700\"\n                    // Fallback for placeholder images\n                    onError={(e) => { e.target.onerror = null; e.target.src=\"https://placehold.co/128x128/ccc/666?text=👤\" }}\n                  />\n                  <div>\n                    <h3 className=\"text-xl font-bold text-gray-900\">{member.name}</h3>\n                    <p className=\"text-emerald-600 font-semibold\">{member.role}</p>\n                    <p className=\"text-sm text-gray-500 mt-2 italic\">{member.bio}</p>\n                  </div>\n                </div>\n              </CustomCard>\n            ))}\n          </div>\n        </div>\n      </section>\n\n      {/* Timeline */}\n      <section className=\"py-20 md:py-32 bg-emerald-50\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-3xl lg:text-4xl font-extrabold text-gray-800 mb-4\">\n              Our Journey: Key Milestones\n            </h2>\n            <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n              Key steps in our mission to transform sustainable commerce, starting from the idea to market impact.\n            </p>\n          </div>\n          \n          <div className=\"max-w-4xl mx-auto relative\">\n            {/* Timeline Line */}\n            <div className=\"absolute left-1/2 top-0 bottom-0 w-1 bg-emerald-300 transform -translate-x-1/2 hidden md:block\" />\n            \n            <div className=\"space-y-12\">\n              {milestones.map((milestone, index) => (\n                <div \n                  key={index} \n                  className={`flex relative ${index % 2 === 0 ? 'md:flex-row-reverse' : 'md:flex-row'} items-start`}\n                >\n                  {/* Icon Dot */}\n                  <div className=\"absolute md:relative flex-shrink-0 w-8 h-8 md:w-12 md:h-12 bg-emerald-700 rounded-full flex items-center justify-center text-white font-bold z-10 shadow-xl border-4 border-white transform md:translate-x-0 -left-1.5\">\n                    <Clock className=\"w-5 h-5\" />\n                  </div>\n\n                  {/* Content Card (Left/Right alternating) */}\n                  <CustomCard \n                    className={`p-6 w-full md:w-[calc(50%-24px)] transition-all duration-500 hover:shadow-emerald-300 shadow-lg ${\n                      index % 2 === 0 ? 'md:ml-auto md:mr-6' : 'md:mr-auto md:ml-6'\n                    }`}\n                  >\n                    <div className=\"flex justify-between items-start mb-2\">\n                      <h3 className=\"text-xl font-bold text-gray-900\">{milestone.title}</h3>\n                      <div className=\"text-2xl font-extrabold text-emerald-600\">{milestone.year}</div>\n                    </div>\n                    <p className=\"text-gray-600\">{milestone.description}</p>\n                  </CustomCard>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </section>\n\n      {/* Certifications */}\n      <section className=\"py-20 md:py-32 bg-white\">\n        <div className=\"container mx-auto px-4\">\n          <div className=\"text-center mb-16\">\n            <h2 className=\"text-3xl lg:text-4xl font-extrabold text-gray-800 mb-4\">\n              Verified Commitments\n            </h2>\n            <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n              Our commitment to sustainability and ethical business is backed by official certifications.\n            </p>\n          </div>\n          \n          <div className=\"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto\">\n            <CustomCard className=\"text-center hover:shadow-2xl\">\n              <CertificationIcon icon={Award} colorClass=\"bg-gradient-to-r from-teal-500 to-teal-700\" />\n              <h3 className=\"text-xl font-bold text-gray-900\">B-Corp Certified</h3>\n              <p className=\"text-gray-500 mt-2\">\n                Meeting the highest standards of social and environmental performance, accountability, and transparency.\n              </p>\n            </CustomCard>\n            \n            <CustomCard className=\"text-center hover:shadow-2xl\">\n              <CertificationIcon icon={CheckCircle} colorClass=\"bg-gradient-to-r from-emerald-600 to-emerald-800\" />\n              <h3 className=\"text-xl font-bold text-gray-900\">Carbon Neutral</h3>\n              <p className=\"text-gray-500 mt-2\">\n                Offsetting $100\\%$ of our operational carbon footprint through verified global projects.\n              </p>\n            </CustomCard>\n            \n            <CustomCard className=\"text-center hover:shadow-2xl\">\n              <CertificationIcon icon={Star} colorClass=\"bg-gradient-to-r from-green-500 to-lime-600\" />\n              <h3 className=\"text-xl font-bold text-gray-900\">ISO 14001</h3>\n              <p className=\"text-gray-500 mt-2\">\n                Implementing robust environmental management systems that minimize our ecological impact globally.\n              </p>\n            </CustomCard>\n          </div>\n        </div>\n      </section>\n\n      {/* Call to Action */}\n      <section className=\"py-20 md:py-32 bg-emerald-700 text-white shadow-xl\">\n        <div className=\"container mx-auto px-4 text-center\">\n          <div className=\"max-w-4xl mx-auto space-y-8\">\n            <h2 className=\"text-3xl lg:text-5xl font-extrabold\">\n              Join the Sustainable Revolution\n            </h2>\n            <p className=\"text-xl opacity-95 max-w-3xl mx-auto\">\n              Together, we can create a world where every purchase contributes to a healthier planet \n              and thriving communities. Your choices matter—make them count with AveoEarth.\n            </p>\n            <div className=\"flex flex-col sm:flex-row gap-4 justify-center pt-4\">\n              <PrimaryButton variant=\"secondary\" className=\"shadow-lg hover:shadow-xl\">\n                <Leaf className=\"w-5 h-5 mr-2\" />\n                Start Shopping Sustainably\n              </PrimaryButton>\n              <PrimaryButton variant=\"secondary\" className=\"shadow-lg hover:shadow-xl bg-transparent border-2 border-white text-forest\">\n                <Handshake className=\"w-5 h-5 mr-2\" />\n                Partner With Us\n              </PrimaryButton>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div>\n  );\n}\n","path":null,"size_bytes":18262,"size_tokens":null},"src/app/globals.css":{"content":"@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&display=swap');\n@import \"tailwindcss\";\n\n:root {\n  /* Core surface + text */\n  --background: #ffffff;\n  --foreground: #09101D; /* Neutral / Black */\n\n  /* Brand */\n  --color-brand-primary: #502C0A; /* Primary */\n  --color-brand-secondary: #FDCC4A; /* Secondary */\n\n  /* Action tokens (Buttons, links) */\n  --action-primary: #E86C00;\n  --action-primary-hover: #CC5F00;\n  --action-primary-active: #B25300;\n  --action-primary-inverted: #FFFFFF;\n\n  --action-secondary: #19AB4F;\n  --action-secondary-hover: #0C9E42;\n  --action-secondary-active: #009236;\n  --action-secondary-inverted: #FFFFFF;\n\n  --action-neutral: #9098A1;\n  --action-neutral-hover: #858C94;\n  --action-neutral-active: #798087;\n  --action-neutral-inverted: #FFFFFF;\n\n  /* Neutrals scale (from Figma) */\n  --color-neutral-1: #2C3A4B;\n  --color-neutral-2: #394452;\n  --color-neutral-3: #545D69;\n  --color-neutral-4: #6D7580;\n  --color-neutral-5: #858C94;\n  --color-neutral-6: #A5ABB3;\n  --color-neutral-7: #DADEE3;\n  --color-neutral-8: #EBEEF2;\n  --color-neutral-9: #F4F6F9;\n  --color-neutral-black: #09101D;\n  --color-neutral-white: #FFFFFF;\n\n  /* Background & Surface */\n  --color-background: var(--color-neutral-white);\n  --color-surface: var(--color-neutral-9);\n  --color-surface-elevated: var(--color-neutral-white);\n  --color-border: var(--color-neutral-8);\n  --color-border-strong: var(--color-neutral-7);\n\n  /* Text */\n  --color-text-primary: var(--color-neutral-black);\n  --color-text-secondary: var(--color-neutral-4);\n  --color-text-tertiary: var(--color-neutral-6);\n\n  /* Status */\n  --status-success: #287D3C;\n  --status-warning: #B95000;\n  --status-error: #DA1414;\n  --status-info: #2E5AAC;\n  --status-success-bg: #EDF9F0;\n  --status-warning-bg: #FFF4EC;\n  --status-error-bg: #FEEFEF;\n  --status-info-bg: #EEF2FA;\n\n  /* Backward-compat aliases (map to new tokens) */\n  --color-green-primary: var(--action-secondary);\n  --color-green-secondary: var(--action-secondary-hover);\n  --color-green-accent: var(--color-brand-secondary);\n  --color-green-light: var(--color-neutral-7);\n  --color-green-subtle: var(--color-neutral-9);\n\n  /* Eco color variables for components */\n  --color-eco-primary: #047857; /* emerald-700 */\n  --color-eco-secondary: #059669; /* emerald-600 */\n  --color-eco-accent: #10b981; /* emerald-500 */\n  --color-eco-light: #d1fae5; /* emerald-100 */\n  --color-eco-subtle: #ecfdf5; /* emerald-50 */\n\n  /* Legacy neutrals mapped to new scale for safety */\n  --color-neutral-900: var(--color-neutral-black);\n  --color-neutral-800: #17202E;\n  --color-neutral-700: var(--color-neutral-3);\n  --color-neutral-500: var(--color-neutral-5);\n  --color-neutral-400: var(--color-neutral-6);\n  --color-neutral-200: var(--color-neutral-8);\n  --color-neutral-100: var(--color-neutral-9);\n  --color-neutral-50: #FAFBFD;\n\n  /* Font Families */\n  --font-sans: var(--font-geist-sans), -apple-system, BlinkMacSystemFont, sans-serif;\n  --font-mono: var(--font-geist-mono), 'SF Mono', Consolas, monospace;\n  --font-poppins: var(--font-poppins), sans-serif;\n\n  /* Font Sizes */\n  --text-xs: 0.75rem;      /* 12px */\n  --text-sm: 0.875rem;     /* 14px */\n  --text-base: 1rem;       /* 16px */\n  --text-lg: 1.125rem;     /* 18px */\n  --text-xl: 1.25rem;      /* 20px */\n  --text-2xl: 1.5rem;      /* 24px */\n  --text-3xl: 1.875rem;    /* 30px */\n  --text-4xl: 2.25rem;     /* 36px */\n  --text-5xl: 3rem;        /* 48px */\n  --text-6xl: 3.75rem;     /* 60px */\n\n  /* Line Heights */\n  --leading-none: 1;\n  --leading-tight: 1.25;\n  --leading-snug: 1.375;\n  --leading-normal: 1.5;\n  --leading-relaxed: 1.625;\n  --leading-loose: 2;\n\n  /* Spacing tokens following 8px grid */\n  --spacing-0: 0;\n  --spacing-1: 0.25rem;    /* 4px */\n  --spacing-2: 0.5rem;     /* 8px */\n  --spacing-3: 0.75rem;    /* 12px */\n  --spacing-4: 1rem;       /* 16px */\n  --spacing-5: 1.25rem;    /* 20px */\n  --spacing-6: 1.5rem;     /* 24px */\n  --spacing-8: 2rem;       /* 32px */\n  --spacing-10: 2.5rem;    /* 40px */\n  --spacing-12: 3rem;      /* 48px */\n  --spacing-16: 4rem;      /* 64px */\n  --spacing-20: 5rem;      /* 80px */\n  --spacing-24: 6rem;      /* 96px */\n}\n\n/* Tailwind theme tokens are provided via CSS variables in :root and referenced directly in tailwind.config.js */\n\n/* Opt-in dark mode: set <html data-theme=\"dark\"> to enable */\n:root[data-theme=\"dark\"] {\n  --background: #0F1722;\n  --foreground: #EBEEF2;\n  --color-background: #0F1722;\n  --color-surface: #111827;\n  --color-surface-elevated: #0F1722;\n  --color-text-primary: #EBEEF2;\n  --color-text-secondary: #A5ABB3;\n  --color-text-tertiary: #6D7580;\n  --color-border: #2A3443;\n  --color-border-strong: #3A4656;\n}\n\nbody {\n  background: var(--color-background);\n  color: var(--foreground);\n  font-family: var(--font-poppins), var(--font-reemkufi), 'Poppins', sans-serif;\n  min-height: 100vh;\n}\n\n/* Modern Animations & Effects */\n@keyframes float {\n  0%, 100% { transform: translateY(0px) rotate(0deg); }\n  50% { transform: translateY(-20px) rotate(5deg); }\n}\n\n@keyframes blob {\n  0% { transform: translate(0px, 0px) scale(1); }\n  33% { transform: translate(30px, -50px) scale(1.1); }\n  66% { transform: translate(-20px, 20px) scale(0.9); }\n  100% { transform: translate(0px, 0px) scale(1); }\n}\n\n@keyframes gradient-shift {\n  0%, 100% { background-position: 0% 50%; }\n  50% { background-position: 100% 50%; }\n}\n\n@keyframes shimmer {\n  0% { background-position: -200px 0; }\n  100% { background-position: calc(200px + 100%) 0; }\n}\n\n@keyframes pulse-glow {\n  0%, 100% { box-shadow: 0 0 20px rgba(45, 90, 49, 0.3); }\n  50% { box-shadow: 0 0 40px rgba(45, 90, 49, 0.6); }\n}\n\n@keyframes slide-in-up {\n  from {\n    opacity: 0;\n    transform: translateY(30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.8);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n\n.animate-float {\n  animation: float 6s ease-in-out infinite;\n}\n\n.animate-blob {\n  animation: blob 7s infinite;\n}\n\n.animate-gradient {\n  background-size: 400% 400%;\n  animation: gradient-shift 8s ease infinite;\n}\n\n.animate-shimmer {\n  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);\n  background-size: 200px 100%;\n  animation: shimmer 2s infinite;\n}\n\n.animate-pulse-glow {\n  animation: pulse-glow 3s ease-in-out infinite;\n}\n\n.animate-slide-in-up {\n  animation: slide-in-up 0.8s ease-out forwards;\n}\n\n.animate-scale-in {\n  animation: scale-in 0.6s ease-out forwards;\n}\n\n/* Glassmorphism Effects */\n.glass {\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n}\n\n.glass-green {\n  background: rgba(45, 90, 49, 0.1);\n  backdrop-filter: blur(15px);\n  border: 1px solid rgba(107, 144, 128, 0.3);\n}\n\n/* Modern Shadows */\n.shadow-eco {\n  box-shadow: 0 10px 30px rgba(45, 90, 49, 0.2);\n}\n\n.shadow-eco-lg {\n  box-shadow: 0 20px 60px rgba(45, 90, 49, 0.3);\n}\n\n.shadow-glow {\n  box-shadow: 0 0 30px rgba(107, 144, 128, 0.4);\n}\n\n/* Gradient Backgrounds */\n.bg-eco-gradient {\n  background: linear-gradient(135deg, var(--color-eco-primary) 0%, var(--color-eco-secondary) 50%, var(--color-eco-accent) 100%);\n}\n\n.bg-eco-gradient-radial {\n  background: radial-gradient(circle at center, var(--color-eco-subtle) 0%, var(--color-eco-light) 50%, var(--color-eco-accent) 100%);\n}\n\n.bg-hero-gradient {\n  background: linear-gradient(135deg, #f4f9f6 0%, #eaf4f1 25%, #d4e0d7 50%, #c8d6cb 75%, #a4c3b2 100%);\n}\n\n/* Utility Classes */\n.line-clamp-2 {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n.line-clamp-3 {\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n/* Hover Effects */\n.hover-lift {\n  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n}\n\n.hover-lift:hover {\n  transform: translateY(-8px);\n  box-shadow: 0 20px 40px rgba(45, 90, 49, 0.2);\n}\n\n.hover-glow:hover {\n  box-shadow: 0 0 30px rgba(107, 144, 128, 0.6);\n  transform: scale(1.02);\n}\n\n/* Mobile Safe Area Support */\n.safe-area-inset-bottom {\n  padding-bottom: env(safe-area-inset-bottom);\n}\n\n/* Touch Optimization */\n.touch-manipulation {\n  touch-action: manipulation;\n  -webkit-tap-highlight-color: transparent;\n}\n\n/* Enhanced Mobile Interactions */\n@media (hover: none) and (pointer: coarse) {\n  .hover-lift:hover {\n    transform: none;\n  }\n  \n  .hover-lift:active {\n    transform: translateY(-2px) scale(0.98);\n  }\n  \n  .hover-glow:hover {\n    transform: none;\n  }\n  \n  .hover-glow:active {\n    transform: scale(0.98);\n  }\n}\n","path":null,"size_bytes":8633,"size_tokens":null},"src/app/account/orders/[orderId]/track/page.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter, useParams } from 'next/navigation';\nimport Navbar from \"../../../../../components/layout/Navbar\";\nimport Footer from \"../../../../../components/layout/Footer\";\nimport { useOrders } from \"../../../../../hooks/useOrders\";\nimport { useAuth } from \"../../../../../hooks/useAuth\";\n\n// Back arrow icon\nconst ArrowLeftIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path \n      d=\"M4.20996 4.412L9.79796 9.999L4.20996 15.587\" \n      stroke=\"#858C94\" \n      strokeWidth=\"1.6\" \n      strokeLinecap=\"round\" \n      strokeLinejoin=\"round\"\n      transform=\"rotate(180 8 8)\"\n    />\n  </svg>\n);\n\n// Tracking timeline component\nconst TrackingTimeline = ({ trackingData, order }) => {\n  // Create timeline events based on order status and shipments\n  const createTimelineEvents = () => {\n    const events = [];\n    \n    // Always show order placed\n    events.push({\n      status: 'Order Placed',\n      description: 'Your order has been received and is being processed',\n      timestamp: order?.created_at || new Date().toISOString(),\n      location: 'Online Store'\n    });\n    \n    // Add events based on order status\n    if (['confirmed', 'processing', 'shipped', 'delivered'].includes(order?.status?.toLowerCase())) {\n      events.push({\n        status: 'Order Confirmed',\n        description: 'Your order has been confirmed and is being prepared',\n        timestamp: order?.created_at || new Date().toISOString(),\n        location: 'Warehouse'\n      });\n    }\n    \n    if (['processing', 'shipped', 'delivered'].includes(order?.status?.toLowerCase())) {\n      events.push({\n        status: 'Processing',\n        description: 'Your order is being processed for shipment',\n        timestamp: order?.created_at || new Date().toISOString(),\n        location: 'Warehouse'\n      });\n    }\n    \n    if (['shipped', 'delivered'].includes(order?.status?.toLowerCase())) {\n      events.push({\n        status: 'Shipped',\n        description: 'Your order has been shipped and is on the way',\n        timestamp: new Date().toISOString(),\n        location: 'Distribution Center'\n      });\n    }\n    \n    if (order?.status?.toLowerCase() === 'delivered') {\n      events.push({\n        status: 'Delivered',\n        description: 'Your order has been successfully delivered',\n        timestamp: order?.delivered_at || new Date().toISOString(),\n        location: 'Delivery Address'\n      });\n    }\n    \n    return events;\n  };\n\n  const trackingEvents = createTimelineEvents();\n\n  return (\n    <div className=\"space-y-6\">\n      {trackingEvents.map((event, index) => (\n        <div key={index} className=\"relative\">\n          {/* Timeline line */}\n          {index < trackingEvents.length - 1 && (\n            <div className=\"absolute left-4 top-8 w-0.5 h-16 bg-gray-200\"></div>\n          )}\n          \n          <div className=\"flex items-start space-x-4\">\n            {/* Timeline dot */}\n            <div className=\"flex-shrink-0 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center\">\n              <div className=\"w-3 h-3 bg-white rounded-full\"></div>\n            </div>\n            \n            {/* Event details */}\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-center justify-between\">\n                <h4 className=\"text-sm font-semibold text-gray-900\">{event.status}</h4>\n                <span className=\"text-xs text-gray-500\">\n                  {new Date(event.timestamp).toLocaleDateString()} {new Date(event.timestamp).toLocaleTimeString()}\n                </span>\n              </div>\n              <p className=\"text-sm text-gray-600 mt-1\">{event.description}</p>\n              {event.location && (\n                <p className=\"text-xs text-gray-500 mt-1\">📍 {event.location}</p>\n              )}\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\n// Shipping details component\nconst ShippingDetails = ({ order, trackingData }) => {\n  const shipments = trackingData?.shipments || [];\n  \n  return (\n    <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Shipping Details</h3>\n      \n      {shipments.length > 0 ? (\n        <div className=\"space-y-6\">\n          {shipments.map((shipment, index) => (\n            <div key={index} className=\"border-b border-gray-200 pb-4 last:border-b-0 last:pb-0\">\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"text-sm font-medium text-gray-700\">Tracking Number</label>\n                  <p className=\"text-sm text-gray-900 font-mono bg-gray-50 p-2 rounded mt-1\">\n                    {shipment.tracking_number || 'Not available'}\n                  </p>\n                </div>\n                \n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Carrier</label>\n                    <p className=\"text-sm text-gray-900\">{shipment.carrier || 'Standard Delivery'}</p>\n                  </div>\n                  \n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Service</label>\n                    <p className=\"text-sm text-gray-900\">{shipment.carrier_service || 'Standard'}</p>\n                  </div>\n                </div>\n                \n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Shipping Cost</label>\n                    <p className=\"text-sm text-gray-900\">₹{shipment.shipping_cost?.toFixed(2) || '0.00'}</p>\n                  </div>\n                  \n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Estimated Delivery</label>\n                    <p className=\"text-sm text-gray-900\">\n                      {shipment.estimated_delivery_date \n                        ? new Date(shipment.estimated_delivery_date).toLocaleDateString()\n                        : 'To be determined'\n                      }\n                    </p>\n                  </div>\n                </div>\n                \n                {(shipment.weight || shipment.length || shipment.width || shipment.height) && (\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Package Details</label>\n                    <div className=\"text-sm text-gray-900 mt-1 grid grid-cols-2 gap-2\">\n                      {shipment.weight && <span>Weight: {shipment.weight}kg</span>}\n                      {shipment.length && shipment.width && shipment.height && (\n                        <span>Dimensions: {shipment.length}×{shipment.width}×{shipment.height}cm</span>\n                      )}\n                    </div>\n                  </div>\n                )}\n                \n                <div>\n                  <label className=\"text-sm font-medium text-gray-700\">Items in This Shipment</label>\n                  <p className=\"text-sm text-gray-900 mt-1\">\n                    {shipment.order_item_ids?.length || 0} item(s)\n                  </p>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"text-sm font-medium text-gray-700\">Tracking Number</label>\n            <p className=\"text-sm text-gray-900 font-mono bg-gray-50 p-2 rounded mt-1\">\n              {order?.order_number || 'Not available'}\n            </p>\n          </div>\n          \n          <div>\n            <label className=\"text-sm font-medium text-gray-700\">Carrier</label>\n            <p className=\"text-sm text-gray-900\">Standard Delivery</p>\n          </div>\n          \n          <div>\n            <label className=\"text-sm font-medium text-gray-700\">Estimated Delivery</label>\n            <p className=\"text-sm text-gray-900\">To be determined</p>\n          </div>\n        </div>\n      )}\n      \n      {/* Delivery Address */}\n      <div className=\"mt-6 pt-6 border-t border-gray-200\">\n        <label className=\"text-sm font-medium text-gray-700\">Delivery Address</label>\n        <div className=\"text-sm text-gray-900 mt-1\">\n          <p>{order?.shipping_address?.first_name} {order?.shipping_address?.last_name}</p>\n          <p>{order?.shipping_address?.address_line_1}</p>\n          {order?.shipping_address?.address_line_2 && (\n            <p>{order?.shipping_address?.address_line_2}</p>\n          )}\n          <p>\n            {order?.shipping_address?.city}, {order?.shipping_address?.state} {order?.shipping_address?.postal_code}\n          </p>\n          <p>{order?.shipping_address?.country}</p>\n          {order?.shipping_address?.phone && (\n            <p className=\"mt-1\">Phone: {order?.shipping_address?.phone}</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default function TrackOrderPage() {\n  const router = useRouter();\n  const params = useParams();\n  const orderId = params.orderId;\n  const { loadOrderDetails, trackOrder, loading } = useOrders();\n  const { isLoggedIn, userProfile } = useAuth();\n  const [order, setOrder] = useState(null);\n  const [trackingData, setTrackingData] = useState(null);\n\n  console.log('TrackOrderPage - orderId:', orderId, 'isLoggedIn:', isLoggedIn);\n\n  useEffect(() => {\n    if (isLoggedIn && orderId) {\n      console.log('TrackOrderPage - Loading order and tracking data...');\n      loadOrderAndTracking();\n    } else if (!isLoggedIn) {\n      console.log('TrackOrderPage - Not logged in, redirecting to login');\n      router.push('/login');\n    } else {\n      console.log('TrackOrderPage - Missing orderId or not logged in');\n    }\n  }, [isLoggedIn, orderId]);\n\n  const loadOrderAndTracking = async () => {\n    try {\n      console.log('Loading order details for tracking page...');\n      const orderDetails = await loadOrderDetails(orderId);\n      console.log('Order details loaded:', orderDetails);\n      setOrder(orderDetails);\n      \n      // Try to load tracking data, but don't fail if it's not available\n      try {\n        console.log('Loading tracking data...');\n        const tracking = await trackOrder(orderId);\n        console.log('Tracking data loaded:', tracking);\n        setTrackingData(tracking);\n      } catch (trackingError) {\n        console.warn('Tracking data not available:', trackingError);\n        // Set default tracking data\n        setTrackingData({\n          events: [\n            {\n              status: 'Order Placed',\n              description: 'Your order has been received and is being processed',\n              timestamp: orderDetails?.created_at || new Date().toISOString(),\n              location: 'Online Store'\n            }\n          ]\n        });\n      }\n    } catch (error) {\n      console.error('Error loading order details:', error);\n    }\n  };\n\n  const handleGoBack = () => {\n    router.push(`/account/orders/${orderId}`);\n  };\n\n  if (!isLoggedIn) {\n    return null; // Will redirect to login\n  }\n\n  if (loading || !order) {\n    return (\n      <div className=\"min-h-screen\">\n        <Navbar />\n        <div className=\"flex justify-center items-center py-12\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900\"></div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navbar />\n      \n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <button \n            onClick={handleGoBack}\n            className=\"bg-white border border-gray-300 rounded-md px-4 py-2 flex items-center gap-2 hover:bg-gray-50 transition-colors text-sm mb-4\"\n          >\n            <ArrowLeftIcon />\n            <span className=\"font-medium\">Back to Order Details</span>\n          </button>\n          \n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900\">\n              Track Order #{trackingData?.order_number || order?.order_number || order?.order_id || order?.id}\n            </h1>\n            <p className=\"text-gray-600\">\n              Placed on {new Date(order.created_at).toLocaleDateString()}\n            </p>\n          </div>\n        </div>\n\n        <div className=\"grid gap-8 lg:grid-cols-3\">\n          {/* Left Column - Tracking Timeline */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-6\">Tracking History</h3>\n              <TrackingTimeline trackingData={trackingData} order={order} />\n            </div>\n          </div>\n\n          {/* Right Column - Shipping Details */}\n          <div>\n            <ShippingDetails order={order} trackingData={trackingData} />\n            \n            {/* Order Summary */}\n            <div className=\"bg-white rounded-lg border border-gray-200 p-6 mt-6\">\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Order Summary</h3>\n              <div className=\"space-y-2 text-sm\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Status:</span>\n                  <span className=\"capitalize\">{trackingData?.status || order?.status || 'Unknown'}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Items:</span>\n                  <span>{order?.items_count || order?.total_items || order?.items?.length || 0}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Total:</span>\n                  <span className=\"font-semibold\">₹{(order?.total_amount || order?.total || 0).toFixed(2)}</span>\n                </div>\n              </div>\n            </div>\n\n            {/* Contact Support */}\n            <div className=\"bg-blue-50 rounded-lg border border-blue-200 p-6 mt-6\">\n              <h4 className=\"text-sm font-semibold text-blue-900 mb-2\">Need Help?</h4>\n              <p className=\"text-sm text-blue-700 mb-4\">\n                If you have questions about your order or tracking, we're here to help.\n              </p>\n              <button className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-md text-sm font-medium hover:bg-blue-700 transition-colors\">\n                Contact Support\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <Footer />\n    </div>\n  );\n}\n","path":null,"size_bytes":14665,"size_tokens":null},"src/components/vendor/OrdersContent.jsx":{"content":"import OrdersHeader from './orders/OrdersHeader';\nimport OrdersSearch from './orders/OrdersSearch';\nimport OrdersTable from './orders/OrdersTable';\n\nexport default function OrdersContent() {\n  return (\n    <div className=\"bg-white w-full h-full p-4 sm:p-7 pb-4\">\n      <div className=\"w-full\">\n        <OrdersHeader />\n        <OrdersSearch />\n        <OrdersTable />\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":399,"size_tokens":null},"src/app/PrivacyPolicy/page.jsx":{"content":"import React from 'react';\n\nexport const metadata = {\n  title: 'Privacy Policy - AveoEarth',\n  description: 'Learn about how AveoEarth collects, uses, and protects your personal information. Read our comprehensive privacy policy.',\n};\n\nexport default function PrivacyPolicyPage() {\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        {/* Header */}\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">Privacy Policy</h1>\n          <p className=\"text-lg text-gray-600\">\n            How we collect, use, and protect your personal information.\n          </p>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8\">\n          <div className=\"prose prose-lg max-w-none\">\n\n            {/* Section 1 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">1. Who we are</h2>\n              <div className=\"text-gray-700\">\n                <p>AveoEarth Impact Private Limited operates a marketplace connecting eco-conscious buyers with Sellers.</p>\n              </div>\n            </section>\n\n            {/* Section 2 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">2. Data we collect</h2>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>Identity & Contact:</strong> name, email, phone, addresses.</p>\n                <p><strong>Order & Payment Metadata:</strong> order details, instrument type (masked card/UPI VPA), bank responses. We do not store full card data.</p>\n                <p><strong>Device/Technical:</strong> IP, device/browser identifiers, logs, cookies.</p>\n                <p><strong>Communications:</strong> chats, emails, support tickets, call recordings (where notified).</p>\n                <p><strong>Seller KYC (for Seller accounts):</strong> GSTIN, PAN, bank details, business proofs as required by law/PG underwriting.</p>\n              </div>\n            </section>\n\n            {/* Section 3 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">3. Purpose & lawful bases</h2>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>Fulfil orders, payments, refunds, deliveries</strong> (contract).</p>\n                <p><strong>Fraud detection, risk scoring, disputes, audits</strong> (legal obligation/legitimate interests).</p>\n                <p><strong>Customer support & grievance redressal</strong> (legal obligation/contract).</p>\n                <p><strong>Personalisation, analytics, platform improvement</strong> (legitimate interests).</p>\n                <p><strong>Marketing with consent</strong> (you can withdraw anytime).</p>\n              </div>\n            </section>\n\n            {/* Section 4 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">4. Sharing</h2>\n              <div className=\"text-gray-700\">\n                <p>Shared strictly as needed with Sellers, payment aggregators/banks/card networks, logistics partners, support vendors, analytics providers, and regulators/law enforcement when required by law. We do not sell personal data.</p>\n              </div>\n            </section>\n\n            {/* Section 5 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">5. International transfers</h2>\n              <div className=\"text-gray-700\">\n                <p>Where partners store/process data outside India, we use reasonable contractual and technical safeguards consistent with Indian law.</p>\n              </div>\n            </section>\n\n            {/* Section 6 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">6. Security</h2>\n              <div className=\"text-gray-700\">\n                <p>HTTPS, encryption in transit/at rest, access controls, audits. Card handling via PCI-DSS certified partners with RBI-compliant tokenisation; AveoEarth never stores PAN/CVV.</p>\n              </div>\n            </section>\n\n            {/* Section 7 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">7. Retention</h2>\n              <div className=\"text-gray-700\">\n                <p>Kept only as long as necessary for the purposes above and to meet legal/regulatory requirements (e.g., tax and dispute windows). On account deletion or contract end, we delete or anonymise subject to statutory retention.</p>\n              </div>\n            </section>\n\n            {/* Section 8 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">8. Your rights</h2>\n              <div className=\"text-gray-700\">\n                <p>Access, correction, deletion (where permitted), portability (where feasible), consent withdrawal, and grievance redressal.</p>\n              </div>\n            </section>\n\n            {/* Section 9 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">9. Children</h2>\n              <div className=\"text-gray-700\">\n                <p>The Platform is intended for 18+ users. We do not knowingly collect data from children.</p>\n              </div>\n            </section>\n\n            {/* Section 10 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">10. Changes</h2>\n              <div className=\"text-gray-700\">\n                <p>We may update this policy; material changes will be notified on the Platform.</p>\n              </div>\n            </section>\n\n            {/* Section 11 */}\n            <section className=\"mb-8\">\n              <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">11. Contact & Grievance</h2>\n              <div className=\"text-gray-700 space-y-3\">\n                <p><strong>Support:</strong> support@aveoearth.com, +91-99100 77670.</p>\n                <p><strong>Grievance Officer:</strong> Anand B, grievance@aveoearth.com, +91-99100 77670 (acknowledge within 48 hours; resolve within 1 month).</p>\n              </div>\n            </section>\n\n            {/* Last Updated */}\n            <div className=\"mt-12 pt-6 border-t border-gray-200\">\n              <p className=\"text-center text-sm text-gray-500\">\n                Last updated: 11-09-2025\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer Note */}\n        <div className=\"mt-8 text-center\">\n          <p className=\"text-sm text-gray-600\">\n            If you have any questions about our Privacy Policy, please contact us at{' '}\n            <a href=\"mailto:support@aveoearth.com\" className=\"text-[#1a4032] hover:underline\">\n              support@aveoearth.com\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":7123,"size_tokens":null},"src/app/page.jsx":{"content":"\"use client\";\n\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport ProductCard from \"../components/ui/ProductCard\";\nimport HotDealsSection from \"../components/esg/HotDealsSection\";\n// Replaced legacy TopCategoriesSection with inline Top Categories hover section\nimport BestSellersSection from \"../components/esg/BestSellersSection\";\nimport ProductRecommendations from \"../components/search/ProductRecommendations\";\nimport Button from \"../components/ui/Button\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { ShoppingCart, ArrowLeft, ArrowRight } from \"lucide-react\";\n\n// Category Navigation Component\nfunction CategoryNavigation() {\n  return (\n    <div className=\"content-stretch flex gap-[55.778px] sm:gap-4 md:gap-8 lg:gap-[55.778px] items-center justify-center relative w-full py-6 overflow-x-auto\" style={{ background: 'var(--color-surface-eco)' }} data-node-id=\"93:5379\">\n      <Link href=\"/explore?category=home-living\" className=\"content-stretch flex gap-[7.968px] sm:gap-2 items-center justify-start relative shrink-0 hover:opacity-80 transition-opacity cursor-pointer min-w-max\" data-name=\"text w icon\" data-node-id=\"93:5380\">\n        <div className=\"relative shrink-0 size-[23.905px] sm:size-5\" data-name=\"icons\" data-node-id=\"93:5381\">\n          <div className=\"absolute inset-0 w-full h-full flex items-center justify-center\" data-name=\"Color Fill\">\n            <svg width=\"18\" height=\"17\" viewBox=\"0 0 18 17\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M8.5 0.5L17 5.5V16.5H11V10.5H6V16.5H0V5.5L8.5 0.5Z\" fill=\"currentColor\"/>\n            </svg>\n          </div>\n        </div>\n        <div className=\"flex flex-col font-reem font-medium justify-center leading-[0] relative shrink-0 text-[var(--color-eco-primary)] text-[19.921px] sm:text-sm md:text-base lg:text-[19.921px] text-nowrap\" data-node-id=\"93:5382\">\n          <p className=\"leading-[normal] whitespace-pre\">Home & Living</p>\n        </div>\n      </Link>\n      \n      <Link href=\"/explore?category=fashion\" className=\"content-stretch flex gap-[7.968px] sm:gap-2 items-center justify-start relative shrink-0 hover:opacity-80 transition-opacity cursor-pointer min-w-max\" data-name=\"text w icon\" data-node-id=\"93:5383\">\n        <div className=\"relative shrink-0 size-[23.905px] sm:size-5\" data-name=\"icons\" data-node-id=\"93:5384\">\n          <div className=\"w-full h-full flex items-center justify-center text-[#52494a]\">\n            <svg width=\"20\" height=\"18\" viewBox=\"0 0 25 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M15.1425 3.23573L15.2371 3.22876L15.3487 3.23274L15.4612 3.24967L15.5738 3.27955L21.55 5.27163C21.7296 5.33152 21.8885 5.44138 22.0079 5.58833C22.1273 5.73528 22.2024 5.91323 22.2243 6.10133L22.2313 6.21687V11.197C22.2312 11.441 22.1417 11.6765 21.9796 11.8588C21.8175 12.0411 21.5941 12.1576 21.3518 12.1861L21.2352 12.1931H19.2432V19.1653C19.2433 19.6679 19.0535 20.152 18.7118 20.5205C18.3701 20.889 17.9017 21.1147 17.4005 21.1524L17.2511 21.1574H7.29073C6.78815 21.1576 6.30409 20.9678 5.93557 20.626C5.56706 20.2843 5.34133 19.8159 5.30364 19.3147L5.29866 19.1653V12.1931H3.30658C3.06262 12.1931 2.82715 12.1035 2.64484 11.9414C2.46254 11.7793 2.34606 11.5559 2.31752 11.3136L2.31055 11.197V6.21687C2.31048 6.02747 2.36442 5.84197 2.46604 5.68214C2.56765 5.52231 2.71273 5.39476 2.88426 5.31446L2.99184 5.27163L8.96806 3.27955C9.11779 3.22968 9.27724 3.2161 9.43325 3.23994C9.58926 3.26378 9.73738 3.32435 9.86539 3.41667C9.9934 3.50898 10.0976 3.63039 10.1695 3.77089C10.2414 3.91139 10.2789 4.06697 10.2788 4.22479C10.2765 4.74172 10.4752 5.2393 10.833 5.61242C11.1908 5.98554 11.6796 6.20498 12.1962 6.22438C12.7127 6.24377 13.2166 6.06161 13.6013 5.71637C13.9861 5.37112 14.2216 4.88984 14.258 4.3742L14.267 4.13515L14.2839 4.0226L14.3208 3.88913L14.3646 3.78654L14.4144 3.6949L14.4821 3.60227L14.5508 3.52259C14.606 3.46946 14.6641 3.42298 14.7251 3.38314L14.8208 3.33035L14.9234 3.28653L15.0309 3.25465L15.1425 3.23573Z\" fill=\"#52494A\"/>\n            </svg>\n          </div>\n        </div>\n        <div className=\"flex flex-col font-reem font-medium justify-center leading-[0] relative shrink-0 text-[var(--color-eco-primary)] text-[19.921px] sm:text-sm md:text-base lg:text-[19.921px] text-nowrap\" data-node-id=\"93:5385\">\n          <p className=\"leading-[normal] whitespace-pre\">Fashion</p>\n        </div>\n      </Link>\n      \n      <Link href=\"/explore?category=food-beverage\" className=\"content-stretch flex gap-[7.968px] sm:gap-2 items-center justify-start relative shrink-0 hover:opacity-80 transition-opacity cursor-pointer min-w-max\" data-name=\"text w icon\" data-node-id=\"93:5386\">\n        <div className=\"h-[20.917px] sm:h-4 relative shrink-0 w-[19.423px] sm:w-4 flex items-center justify-center text-[#52494a]\" data-name=\"Vector\" data-node-id=\"93:5387\">\n          <svg width=\"19\" height=\"21\" viewBox=\"0 0 19 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M9.5 0C11.7 0 13.5 1.8 13.5 4C13.5 6.2 11.7 8 9.5 8C7.3 8 5.5 6.2 5.5 4C5.5 1.8 7.3 0 9.5 0ZM9.5 10C14.2 10 18 11.9 18 14.5V17C18 18.1 17.1 19 16 19H3C1.9 19 1 18.1 1 17V14.5C1 11.9 4.8 10 9.5 10Z\" fill=\"currentColor\"/>\n          </svg>\n        </div>\n        <div className=\"flex flex-col font-reem font-medium justify-center leading-[0] relative shrink-0 text-[var(--color-eco-primary)] text-[19.921px] sm:text-sm md:text-base lg:text-[19.921px] text-nowrap\" data-node-id=\"93:5388\">\n          <p className=\"leading-[normal] whitespace-pre\">Food & Beverage</p>\n        </div>\n      </Link>\n      \n      <Link href=\"/explore?category=beauty-personal-care\" className=\"content-stretch flex gap-[7.968px] sm:gap-2 items-center justify-start relative shrink-0 hover:opacity-80 transition-opacity cursor-pointer min-w-max\" data-name=\"text w icon\" data-node-id=\"93:5389\">\n        <div className=\"h-[15.836px] sm:h-4 relative shrink-0 w-[18.405px] sm:w-4 flex items-center justify-center text-[#52494a]\" data-name=\"Vector\" data-node-id=\"93:5390\">\n          <svg width=\"18\" height=\"16\" viewBox=\"0 0 19 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n           <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M1.59921 1.99719C2.53314 1.06355 3.79964 0.539062 5.1202 0.539062C6.44077 0.539062 7.70727 1.06355 8.64119 1.99719C8.8238 2.17914 9.05886 2.40557 9.34639 2.67649C9.63325 2.40557 9.86798 2.17914 10.0506 1.99719C10.9806 1.07155 12.2383 0.550334 13.5505 0.54682C14.8626 0.543306 16.1231 1.05778 17.0581 1.97843C17.993 2.89908 18.5269 4.15151 18.5436 5.46355C18.5603 6.77559 18.0585 8.04122 17.1473 8.98539L10.0496 16.0831C9.8628 16.2699 9.6095 16.3748 9.34539 16.3748C9.08128 16.3748 8.82798 16.2699 8.64119 16.0831L1.54344 8.98638C0.633098 8.04752 0.128575 6.78826 0.138825 5.48056C0.149075 4.17287 0.674271 2.92167 1.59921 1.99719Z\" fill=\"#52494A\"/>\n          </svg>\n        </div>\n        <div className=\"flex flex-col font-reem font-medium justify-center leading-[0] relative shrink-0 text-[var(--color-eco-primary)] text-[19.921px] sm:text-sm md:text-base lg:text-[19.921px] text-nowrap\" data-node-id=\"93:5391\">\n          <p className=\"leading-[normal] whitespace-pre\">Beauty & Personal Care</p>\n        </div>\n      </Link>\n      \n      <Link href=\"/explore?category=pets\" className=\"content-stretch flex gap-[7.968px] sm:gap-2 items-center justify-start relative shrink-0 hover:opacity-80 transition-opacity cursor-pointer min-w-max\" data-name=\"text w icon\" data-node-id=\"93:5392\">\n        <div className=\"relative shrink-0 size-[23.905px] sm:size-5\" data-name=\"icons\" data-node-id=\"93:5393\">\n          <div className=\"absolute inset-0 w-full h-full flex items-center justify-center\" data-name=\"Color Fill\">\n            <svg viewBox=\"0 0 64 64\" width=\"24\" height=\"24\" fill=\"currentColor\" aria-hidden=\"true\">\n              <circle cx=\"18\" cy=\"22\" r=\"6\"/>\n              <circle cx=\"28\" cy=\"14\" r=\"6\"/>\n              <circle cx=\"36\" cy=\"14\" r=\"6\"/>\n              <circle cx=\"46\" cy=\"22\" r=\"6\"/>\n              <ellipse cx=\"32\" cy=\"44\" rx=\"16\" ry=\"13\"/>\n            </svg>\n\n          </div>\n        </div>\n        <div className=\"flex flex-col font-reem font-medium justify-center leading-[0] relative shrink-0 text-[var(--color-eco-primary)] text-[19.921px] sm:text-sm md:text-base lg:text-[19.921px] text-nowrap\" data-node-id=\"93:5394\">\n          <p className=\"leading-[normal] whitespace-pre\">Pets</p>\n        </div>\n      </Link>\n    </div>\n  );\n}\n\nexport default function HomePage() {\n  // Rotating taglines similar to HeroSection.tsx\n  const taglines = [\n    \"Buy better. Live lighter.\",\n    \"Sustainable choices, beautiful life.\",\n    \"Earth-friendly finds, delivered.\",\n    \"Connect with verified sustainable vendors and create positive impact with every purchase\"\n  ];\n\n  // Product carousel data\n  const topProducts = [\n    {\n      id: 1,\n      name: \"Eco Bamboo Water Bottle\",\n      price: \"₹1,299\",\n      originalPrice: \"₹1,599\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"95%\",\n      badges: [\"Zero Waste\"]\n    },\n    {\n      id: 2,\n      name: \"Organic Cotton Bag Set\",\n      price: \"₹899\",\n      originalPrice: \"₹1,199\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"92%\",\n      badges: [\"Organic\"]\n    },\n    {\n      id: 3,\n      name: \"Natural Skincare Bundle\",\n      price: \"₹2,499\",\n      originalPrice: \"₹3,199\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"98%\",\n      badges: [\"Cruelty-Free\"]\n    },\n    {\n      id: 4,\n      name: \"Sustainable Kitchen Set\",\n      price: \"₹1,899\",\n      originalPrice: \"₹2,399\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"94%\",\n      badges: [\"Plastic-Free\"]\n    },\n    {\n      id: 5,\n      name: \"Recycled Glass Jars\",\n      price: \"₹599\",\n      originalPrice: \"₹799\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"96%\",\n      badges: [\"Recycled\"]\n    },\n    {\n      id: 6,\n      name: \"Bamboo Cutlery Set\",\n      price: \"₹399\",\n      originalPrice: \"₹599\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"93%\",\n      badges: [\"Biodegradable\"]\n    },\n    {\n      id: 7,\n      name: \"Hemp Tote Bag\",\n      price: \"₹799\",\n      originalPrice: \"₹999\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"91%\",\n      badges: [\"Hemp\"]\n    },\n    {\n      id: 8,\n      name: \"Solar Phone Charger\",\n      price: \"₹1,599\",\n      originalPrice: \"₹2,199\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"97%\",\n      badges: [\"Solar\"]\n    },\n    {\n      id: 9,\n      name: \"Eco-Friendly Yoga Mat\",\n      price: \"₹1,899\",\n      originalPrice: \"₹2,499\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"94%\",\n      badges: [\"Natural Rubber\"]\n    },\n    {\n      id: 10,\n      name: \"Bamboo Phone Case\",\n      price: \"₹699\",\n      originalPrice: \"₹999\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"96%\",\n      badges: [\"Biodegradable\"]\n    },\n    {\n      id: 11,\n      name: \"Organic Tea Collection\",\n      price: \"₹1,299\",\n      originalPrice: \"₹1,599\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"98%\",\n      badges: [\"Fair Trade\"]\n    },\n    {\n      id: 12,\n      name: \"Reusable Food Wraps\",\n      price: \"₹899\",\n      originalPrice: \"₹1,199\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"95%\",\n      badges: [\"Beeswax\"]\n    },\n    {\n      id: 13,\n      name: \"Solar Garden Lights\",\n      price: \"₹1,499\",\n      originalPrice: \"₹1,999\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"97%\",\n      badges: [\"Solar Powered\"]\n    },\n    {\n      id: 14,\n      name: \"Cork Coasters Set\",\n      price: \"₹599\",\n      originalPrice: \"₹799\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"93%\",\n      badges: [\"Cork\"]\n    },\n    {\n      id: 15,\n      name: \"Organic Cotton Towels\",\n      price: \"₹1,199\",\n      originalPrice: \"₹1,599\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"96%\",\n      badges: [\"Organic\"]\n    },\n    {\n      id: 16,\n      name: \"Bamboo Straw Set\",\n      price: \"₹299\",\n      originalPrice: \"₹399\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"98%\",\n      badges: [\"Biodegradable\"]\n    },\n    {\n      id: 17,\n      name: \"Natural Loofah Sponge\",\n      price: \"₹199\",\n      originalPrice: \"₹299\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"100%\",\n      badges: [\"Natural\"]\n    },\n    {\n      id: 18,\n      name: \"Eco Laundry Detergent\",\n      price: \"₹899\",\n      originalPrice: \"₹1,199\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"94%\",\n      badges: [\"Plant-Based\"]\n    },\n    {\n      id: 19,\n      name: \"Recycled Paper Notebook\",\n      price: \"₹399\",\n      originalPrice: \"₹599\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"92%\",\n      badges: [\"Recycled\"]\n    },\n    {\n      id: 20,\n      name: \"Organic Herbal Tea\",\n      price: \"₹599\",\n      originalPrice: \"₹799\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"97%\",\n      badges: [\"Organic\"]\n    },\n    {\n      id: 21,\n      name: \"Bamboo Toothbrush\",\n      price: \"₹199\",\n      originalPrice: \"₹299\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"99%\",\n      badges: [\"Biodegradable\"]\n    },\n    {\n      id: 22,\n      name: \"Natural Soap Bar\",\n      price: \"₹149\",\n      originalPrice: \"₹199\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"95%\",\n      badges: [\"Handmade\"]\n    },\n    {\n      id: 23,\n      name: \"Cork Yoga Block\",\n      price: \"₹1,299\",\n      originalPrice: \"₹1,599\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"93%\",\n      badges: [\"Cork\"]\n    },\n    {\n      id: 24,\n      name: \"Organic Face Oil\",\n      price: \"₹799\",\n      originalPrice: \"₹999\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"96%\",\n      badges: [\"Organic\"]\n    },\n    {\n      id: 25,\n      name: \"Bamboo Utensil Set\",\n      price: \"₹699\",\n      originalPrice: \"₹899\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"97%\",\n      badges: [\"Bamboo\"]\n    },\n    {\n      id: 26,\n      name: \"Natural Beeswax Candles\",\n      price: \"₹1,499\",\n      originalPrice: \"₹1,999\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"98%\",\n      badges: [\"Beeswax\"]\n    },\n    {\n      id: 27,\n      name: \"Organic Cotton Socks\",\n      price: \"₹399\",\n      originalPrice: \"₹599\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"94%\",\n      badges: [\"Organic\"]\n    },\n    {\n      id: 28,\n      name: \"Recycled Glass Vase\",\n      price: \"₹899\",\n      originalPrice: \"₹1,199\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"91%\",\n      badges: [\"Recycled\"]\n    },\n    {\n      id: 29,\n      name: \"Natural Deodorant\",\n      price: \"₹349\",\n      originalPrice: \"₹499\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"96%\",\n      badges: [\"Natural\"]\n    },\n    {\n      id: 30,\n      name: \"Bamboo Cutting Board\",\n      price: \"₹1,199\",\n      originalPrice: \"₹1,599\",\n      images: [\"/hero1.png\", \"/hero1.png\", \"/hero1.png\"],\n      ecoScore: \"95%\",\n      badges: [\"Bamboo\"]\n    }\n  ];\n\n  const [currentTagline, setCurrentTagline] = useState(0);\n  const [isTaglineVisible, setIsTaglineVisible] = useState(true);\n  const [cardImageIndexes, setCardImageIndexes] = useState({});\n  const [currentCarouselIndex, setCurrentCarouselIndex] = useState(0);\n\n  // Tagline animation effect\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setIsTaglineVisible(false);\n      setTimeout(() => {\n        setCurrentTagline((prev) => (prev + 1) % taglines.length);\n        setIsTaglineVisible(true);\n      }, 300);\n    }, 3000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  // Manual carousel navigation\n  const nextCarousel = () => {\n    setCurrentCarouselIndex((prevIndex) => \n      (prevIndex + 1) % Math.ceil(topProducts.length / 7)\n    );\n  };\n\n  const prevCarousel = () => {\n    setCurrentCarouselIndex((prevIndex) => \n      prevIndex === 0 ? Math.ceil(topProducts.length / 7) - 1 : prevIndex - 1\n    );\n  };\n\n  // Get visible products for current carousel view\n  const getVisibleProducts = () => {\n    const startIndex = currentCarouselIndex * 7;\n    return topProducts.slice(startIndex, startIndex + 7);\n  };\n\n  const handleImageIndicatorClick = (e, productId, imageIndex) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setCardImageIndexes(prev => ({ ...prev, [productId]: imageIndex }));\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white relative overflow-hidden\">\n\n      {/* Hero Section - Similar to HeroSection.tsx */}\n      <section className=\"relative min-h-screen bg-gradient-to-br from-emerald-50 to-emerald-100 overflow-hidden flex items-start justify-center\">\n        {/* Parallax Background */}\n        <div className=\"absolute inset-0 parallax-layer\">\n          <Image\n            src=\"/hero-sustainable-products.jpg\"\n            alt=\"Sustainable lifestyle products\"\n            fill\n            className=\"object-cover opacity-50\"\n            priority\n          />\n          <div className=\"absolute inset-0 bg-white/50\" />\n        </div>\n        \n        <div className=\"relative z-10 container mx-auto px-10 pt-24 pb-16\" style={{ marginLeft: '30px', marginRight: '30px' }}>\n          <div className=\"grid lg:grid-cols-5 gap-12 items-center\">\n            {/* Hero Content (left side, taking 2 of 5 columns) */}\n            <div className=\"lg:col-span-2 space-y-6 slide-up text-center lg:text-left -ml-5\">\n              <div className=\"space-y-4\">\n                <h1 className=\"text-4xl lg:text-6xl font-bold text-gray-800 leading-tight\">\n                  Sustainability\n                  <span className=\"text-emerald-700 block\">Simplified</span>\n                  </h1>\n                \n                <div className=\"h-12 flex items-center justify-center lg:justify-start\">\n                  <p\n                    className={`text-lg lg:text-xl text-gray-600 transition-all duration-300 ${\n                      isTaglineVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4'\n                    }`}\n                  >\n                    {taglines[currentTagline]}\n                  </p>\n                </div>\n              </div>\n              \n              <div className=\"flex flex-col gap-4 justify-center lg:justify-center items-center\">\n                <Button\n                  as={Link}\n                  href=\"/explore\"\n                  variant=\"primary\"\n                  size=\"lg\"\n                  className=\"rounded-full gap-3 group hover:scale-105 transition-transform w-3/4 self-center\"\n                >\n                  Shop Collections\n                  <ShoppingCart className=\"ml-2 w-5 h-5\" />\n                </Button>\n                <Button\n                  as={Link}\n                  href=\"/about\"\n                  variant=\"outline\"\n                  size=\"lg\"\n                  className=\"rounded-full w-3/4 self-center\"\n                >\n                  Become a Partner\n                </Button>\n            </div>\n\n          </div>\n          \n            {/* Top Eco Picks Carousel (right side, taking 3 of 5 columns) */}\n            <div className=\"lg:col-span-3 slide-up flex items-center justify-center\">\n              <div className=\"space-y-4 w-full\">\n                <div className=\"flex items-center justify-between\">\n                  <h2 className=\"text-xl font-bold text-gray-800 text-center lg:text-left\">\n                    Top Picks\n                  </h2>\n                  <Button variant=\"ghost\" className=\"text-emerald-700 hover:text-emerald-600 text-sm\">\n                    View All  →\n                  </Button>\n          </div>\n          \n                {/* Hexagonal Honeycomb Grid with Side Navigation */}\n                <div className=\"relative flex items-center justify-center\">\n                  {/* Left Navigation Button - Centered with the 2-row grid */}\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={prevCarousel}\n                    className=\"absolute left-0 top-1/2 -translate-y-1/2 z-10 text-emerald-700 hover:text-emerald-600 bg-white/80 backdrop-blur-sm shadow-lg\"\n                    style={{ top: 'calc(50% - 20px)' }}\n                  >\n                    <ArrowLeft className=\"w-5 h-5\" />\n                  </Button>\n                  \n                  {/* Right Navigation Button - Centered with the 2-row grid */}\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={nextCarousel}\n                    className=\"absolute right-0 top-1/2 -translate-y-1/2 z-10 text-emerald-700 hover:text-emerald-600 bg-white/80 backdrop-blur-sm shadow-lg\"\n                    style={{ top: 'calc(50% - 20px)' }}\n                  >\n                    <ArrowRight className=\"w-5 h-5\" />\n                  </Button>\n                  \n                  {/* Hexagonal Grid - centered between arrows, 2 rows (4 + 3) */}\n                  <div className=\"honeycomb-grid mx-auto\" style={{ marginLeft: '60px', marginRight: '60px' }}>\n                    {getVisibleProducts().map((product, index) => (\n                      <div \n                        key={`${product.id}-${currentCarouselIndex}`}\n                        className={`hexagon-wrapper ${index % 2 === 0 ? 'hexagon-even' : 'hexagon-odd'}`}\n                        style={{\n                          '--hex-delay': `${index * 150}ms`,\n                          animationDelay: `${index * 150}ms`\n                        }}\n                      >\n                        <div className=\"hexagon-card group\">\n                          {/* Product Image */}\n                          <div className=\"hexagon-image-container\">\n                            <Image \n                              src={product.images[cardImageIndexes[product.id] || 0]}\n                              alt={product.name}\n                              width={80}\n                              height={80}\n                              className=\"hexagon-image\"\n                            />\n                            <div className=\"hexagon-eco-badge\">\n                              <span className=\"text-xs\">🌱</span>\n                              <span className=\"text-xs font-semibold\">{product.ecoScore}</span>\n                            </div>\n                          </div>\n                          \n                          {/* Product Info */}\n                          <div className=\"hexagon-content\">\n                            <h3 className=\"hexagon-title\">{product.name}</h3>\n                            <div className=\"hexagon-price\">\n                              <span className=\"price-current\">{product.price}</span>\n                              <span className=\"price-original\">{product.originalPrice}</span>\n                  </div>\n                </div>\n                \n                          {/* Hover Overlay */}\n                          <div className=\"hexagon-overlay\">\n                            <Button\n                              variant=\"secondary\"\n                              size=\"sm\"\n                              className=\"hexagon-button\"\n                            >\n                              <ShoppingCart className=\"w-3 h-3 mr-1\" />\n                              Add\n                            </Button>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n                \n                {/* Dot Indicators */}\n                <div className=\"flex justify-center mt-6\">\n                  <div className=\"flex space-x-2\">\n                    {Array.from({ length: Math.ceil(topProducts.length / 7) }).map((_, index) => (\n                      <button\n                        key={index}\n                        onClick={() => setCurrentCarouselIndex(index)}\n                        className={`w-2 h-2 rounded-full transition-colors ${\n                          index === currentCarouselIndex ? 'bg-emerald-600' : 'bg-emerald-300'\n                        }`}\n                      />\n                    ))}\n                  </div>\n                </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n      </section>\n\n      {/* Top Categories Section - Hover Bubbles with animations */}\n      <section className=\"py-16 bg-gray-50 mt-32\">\n        <div className=\"container mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-12\">\n            <h2 className=\"text-4xl lg:text-5xl font-extrabold text-gray-800 mb-4\">Explore Our <span className=\"text-emerald-700\">Categories</span></h2>\n            <p className=\"text-lg text-gray-600 max-w-2xl mx-auto\">Curated collections for a sustainable lifestyle. Hover to see featured products.</p>\n          </div>\n          <style>{`@keyframes bubble-emerge{from{opacity:0;transform:scale(0.8) translateY(10px)}to{opacity:1;transform:scale(1) translateY(0)}}.bubble-emerge{animation:bubble-emerge 300ms cubic-bezier(0.175,0.885,0.32,1.275) forwards;opacity:0}`}</style>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto\">\n            {[\n              { \n                id: 'home-living', \n                name: 'Home & Living', \n                desc: 'Sustainable home essentials & decor', \n                icon: (\n                  <svg width=\"24\" height=\"24\" viewBox=\"0 0 18 17\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M8.5 0.5L17 5.5V16.5H11V10.5H6V16.5H0V5.5L8.5 0.5Z\" fill=\"currentColor\"/>\n                  </svg>\n                ), \n                color: 'text-emerald-700', \n                badgeBg: 'bg-emerald-100' \n              },\n              { \n                id: 'fashion', \n                name: 'Sustainable Fashion', \n                desc: 'Ethically made clothing & accessories', \n                icon: (\n                  <svg width=\"24\" height=\"24\" viewBox=\"0 0 25 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M15.1425 3.23573L15.2371 3.22876L15.3487 3.23274L15.4612 3.24967L15.5738 3.27955L21.55 5.27163C21.7296 5.33152 21.8885 5.44138 22.0079 5.58833C22.1273 5.73528 22.2024 5.91323 22.2243 6.10133L22.2313 6.21687V11.197C22.2312 11.441 22.1417 11.6765 21.9796 11.8588C21.8175 12.0411 21.5941 12.1576 21.3518 12.1861L21.2352 12.1931H19.2432V19.1653C19.2433 19.6679 19.0535 20.152 18.7118 20.5205C18.3701 20.889 17.9017 21.1147 17.4005 21.1524L17.2511 21.1574H7.29073C6.78815 21.1576 6.30409 20.9678 5.93557 20.626C5.56706 20.2843 5.34133 19.8159 5.30364 19.3147L5.29866 19.1653V12.1931H3.30658C3.06262 12.1931 2.82715 12.1035 2.64484 11.9414C2.46254 11.7793 2.34606 11.5559 2.31752 11.3136L2.31055 11.197V6.21687C2.31048 6.02747 2.36442 5.84197 2.46604 5.68214C2.56765 5.52231 2.71273 5.39476 2.88426 5.31446L2.99184 5.27163L8.96806 3.27955C9.11779 3.22968 9.27724 3.2161 9.43325 3.23994C9.58926 3.26378 9.73738 3.32435 9.86539 3.41667C9.9934 3.50898 10.0976 3.63039 10.1695 3.77089C10.2414 3.91139 10.2789 4.06697 10.2788 4.22479C10.2765 4.74172 10.4752 5.2393 10.833 5.61242C11.1908 5.98554 11.6796 6.20498 12.1962 6.22438C12.7127 6.24377 13.2166 6.06161 13.6013 5.71637C13.9861 5.37112 14.2216 4.88984 14.258 4.3742L14.267 4.13515L14.2839 4.0226L14.3208 3.88913L14.3646 3.78654L14.4144 3.6949L14.4821 3.60227L14.5508 3.52259C14.606 3.46946 14.6641 3.42298 14.7251 3.38314L14.8208 3.33035L14.9234 3.28653L15.0309 3.25465L15.1425 3.23573Z\" fill=\"currentColor\"/>\n                  </svg>\n                ), \n                color: 'text-orange-700', \n                badgeBg: 'bg-orange-100' \n              },\n              { \n                id: 'upcycled', \n                name: 'Upcycled & Handmade', \n                desc: 'Reclaimed material goods & crafts', \n                icon: '🎨', \n                color: 'text-purple-700', \n                badgeBg: 'bg-purple-100' \n              },\n              { \n                id: 'beauty-personal-care', \n                name: 'Clean Beauty', \n                desc: 'Natural skincare & personal care', \n                icon: (\n                  <svg width=\"24\" height=\"24\" viewBox=\"0 0 19 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M1.59921 1.99719C2.53314 1.06355 3.79964 0.539062 5.1202 0.539062C6.44077 0.539062 7.70727 1.06355 8.64119 1.99719C8.8238 2.17914 9.05886 2.40557 9.34639 2.67649C9.63325 2.40557 9.86798 2.17914 10.0506 1.99719C10.9806 1.07155 12.2383 0.550334 13.5505 0.54682C14.8626 0.543306 16.1231 1.05778 17.0581 1.97843C17.993 2.89908 18.5269 4.15151 18.5436 5.46355C18.5603 6.77559 18.0585 8.04122 17.1473 8.98539L10.0496 16.0831C9.8628 16.2699 9.6095 16.3748 9.34539 16.3748C9.08128 16.3748 8.82798 16.2699 8.64119 16.0831L1.54344 8.98638C0.633098 8.04752 0.128575 6.78826 0.138825 5.48056C0.149075 4.17287 0.674271 2.92167 1.59921 1.99719Z\" fill=\"currentColor\"/>\n                  </svg>\n                ), \n                color: 'text-pink-700', \n                badgeBg: 'bg-pink-100' \n              },\n              { \n                id: 'pets', \n                name: 'Pets', \n                desc: 'Eco-friendly pet care & accessories', \n                icon: (\n                  <svg viewBox=\"0 0 64 64\" width=\"24\" height=\"24\" fill=\"currentColor\" aria-hidden=\"true\">\n                    <circle cx=\"18\" cy=\"22\" r=\"6\"/>\n                    <circle cx=\"28\" cy=\"14\" r=\"6\"/>\n                    <circle cx=\"36\" cy=\"14\" r=\"6\"/>\n                    <circle cx=\"46\" cy=\"22\" r=\"6\"/>\n                    <ellipse cx=\"32\" cy=\"44\" rx=\"16\" ry=\"13\"/>\n                  </svg>\n                ), \n                color: 'text-amber-700', \n                badgeBg: 'bg-amber-100' \n              },\n              { \n                id: 'fitness', \n                name: 'Fitness', \n                desc: 'Sustainable fitness & wellness gear', \n                icon: '💪', \n                color: 'text-green-700', \n                badgeBg: 'bg-green-100' \n              },\n            ].map((cat) => (\n              <div key={cat.id} className=\"relative group\">\n                <div className=\"bg-white border border-gray-100 rounded-2xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow\">\n                  <div className=\"relative h-48\">\n                    <div className=\"absolute inset-0 bg-gradient-to-br from-emerald-50 to-emerald-100\" />\n                    <div className=\"absolute inset-0 p-6 flex flex-col justify-end\">\n                      <div className=\"absolute top-4 left-4 w-12 h-12 bg-white/90 rounded-full flex items-center justify-center shadow\">\n                        {typeof cat.icon === 'string' ? (\n                          <span className={`text-xl ${cat.color}`}>{cat.icon}</span>\n                        ) : (\n                          <div className={cat.color}>{cat.icon}</div>\n                        )}\n                      </div>\n                      <h3 className=\"text-xl font-bold text-gray-800\">{cat.name}</h3>\n                      <p className=\"text-sm text-gray-600\">{cat.desc}</p>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"hidden group-hover:flex absolute top-0 left-[100%] z-20 flex-col items-center justify-center space-y-3\" style={{ height: 212, width: 200, marginLeft: -110 }}>\n                  {[{name:'Product A', price:'₹299', eco:'Biodegradable'}, {name:'Product B', price:'₹899', eco:'Reusable'}, {name:'Product C', price:'₹549', eco:'Compostable'}].map((p, i) => (\n                    <div key={p.name} className=\"bubble-emerge bg-white border border-gray-100 rounded-lg p-3 shadow-lg w-full hover:shadow-xl transition-shadow\" style={{ animationDelay: `${i*80}ms` }}>\n                      <div className=\"space-y-1\">\n                        <h4 className=\"font-semibold text-sm text-gray-800 truncate\">{p.name}</h4>\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"font-semibold text-base text-emerald-700\">{p.price}</span>\n                          <span className={`text-xs px-1.5 py-0.5 rounded-full ${cat.badgeBg} ${cat.color} border border-current`}>{p.eco}</span>\n          </div>\n        </div>\n      </div>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </div>\n          <div className=\"text-center mt-12\">\n            <Link href=\"/explore\" className=\"inline-flex items-center justify-center px-8 py-3 rounded-full bg-emerald-600 hover:bg-emerald-700 text-white font-semibold shadow transition-colors\">View All Collections</Link>\n          </div>\n        </div>\n      </section>\n\n      {/* Hot Deals Section */}\n      <HotDealsSection />\n\n      {/* Best Sellers Section */}\n      <BestSellersSection />\n\n\n      {/* Product Recommendations - Showcasing Featured Eco Products */}\n      <div className=\"container mx-auto px-4 py-8 sm:py-16 space-y-8 sm:space-y-16\">\n        <ProductRecommendations \n          type=\"trending\" \n          limit={8}\n          title=\"🌿 Trending Eco Products\"\n          className=\"mb-8 sm:mb-16\"\n        />\n        \n        <ProductRecommendations \n          type=\"new-arrivals\" \n          limit={8}\n          title=\"🆕 New Sustainable Arrivals\"\n          className=\"mb-8 sm:mb-16\"\n        />\n        \n        <ProductRecommendations \n          type=\"top-rated\" \n          limit={8}\n          title=\"⭐ Top Rated Green Products\"\n          className=\"mb-8 sm:mb-16\"\n        />\n      </div>\n\n      {/* Footer is globally rendered in RootLayout */}\n      \n      {/* Honeycomb Grid Styles */}\n      <style jsx>{`\n        .honeycomb-grid {\n          position: relative;\n          width: 100%;\n          max-width: 820px;\n          margin: 0 auto;\n          padding: 20px 0;\n          height: 360px; /* Two rows layout */\n        }\n        \n        .hexagon-wrapper {\n          position: absolute;\n          width: 174px; /* 144px + 30px */\n          height: 282.4px; /* (121.2 + 20px) * 2 = doubled height */\n          animation: hexagonSlideIn 0.8s ease-out forwards;\n          opacity: 0;\n        }\n        \n        /* First row - 4 cards */\n        .hexagon-wrapper:nth-child(1) { top: 0; left: 0; }\n        .hexagon-wrapper:nth-child(2) { top: 0; left: 180px; }\n        .hexagon-wrapper:nth-child(3) { top: 0; left: 360px; }\n        .hexagon-wrapper:nth-child(4) { top: 0; left: 540px; }\n\n        /* Second row - 3 cards centered */\n        .hexagon-wrapper:nth-child(5) { top: 220px; left: 90px; }\n        .hexagon-wrapper:nth-child(6) { top: 220px; left: 270px; }\n        .hexagon-wrapper:nth-child(7) { top: 220px; left: 450px; }\n        \n        .hexagon-card {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.9) 100%);\n          backdrop-filter: blur(12px);\n          border: 2px solid rgba(16, 185, 129, 0.15);\n          clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);\n          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n          cursor: pointer;\n          overflow: hidden;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: space-between;\n          padding: 8px 12px 12px 12px;\n          box-shadow: 0 4px 12px rgba(0,0,0,0.08);\n        }\n        \n        .hexagon-card:hover {\n          transform: scale(1.08) translateY(-3px);\n          border-color: rgba(16, 185, 129, 0.3);\n          box-shadow: 0 12px 28px rgba(16, 185, 129, 0.2);\n        }\n        \n        .hexagon-image-container {\n          position: relative;\n          width: 70px;\n          height: 70px;\n          margin-bottom: 8px;\n          border-radius: 50%;\n          overflow: hidden;\n          background: white;\n          box-shadow: 0 2px 6px rgba(0,0,0,0.1);\n        }\n        \n        .hexagon-image {\n          width: 100%;\n          height: 100%;\n          object-fit: cover;\n          transition: transform 0.3s ease;\n        }\n        \n        .hexagon-card:hover .hexagon-image {\n          transform: scale(1.15);\n        }\n        \n        .hexagon-eco-badge {\n          position: absolute;\n          top: -4px;\n          right: -4px;\n          background: linear-gradient(135deg, #10b981, #059669);\n          color: white;\n          border-radius: 50%;\n          width: 20px;\n          height: 20px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 8px;\n          font-weight: bold;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n        }\n        \n        .hexagon-content {\n          text-align: center;\n          display: flex;\n          flex-direction: column;\n          justify-content: flex-end;\n          width: 100%;\n          flex: 1;\n        }\n        \n        .hexagon-title {\n          font-size: 11px;\n          font-weight: 600;\n          color: #1f2937;\n          margin: 0 0 4px 0;\n          line-height: 1.2;\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          -webkit-box-orient: vertical;\n          overflow: hidden;\n        }\n        \n        .hexagon-price {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 4px;\n          margin: 2px 0;\n        }\n        \n        .price-current {\n          font-size: 12px;\n          font-weight: 700;\n          color: #10b981;\n        }\n        \n        .price-original {\n          font-size: 8px;\n          color: #9ca3af;\n          text-decoration: line-through;\n        }\n        \n        .hexagon-badges {\n          display: flex;\n          justify-content: center;\n          flex-wrap: wrap;\n          gap: 2px;\n          margin-top: 2px;\n        }\n        \n        .hexagon-badge {\n          font-size: 6px;\n          padding: 2px 4px;\n          background: rgba(16, 185, 129, 0.1);\n          color: #059669;\n          border-radius: 4px;\n          font-weight: 500;\n        }\n        \n        .hexagon-overlay {\n          position: absolute;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background: rgba(16, 185, 129, 0.9);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          opacity: 0;\n          transition: opacity 0.3s ease;\n          clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);\n        }\n        \n        .hexagon-card:hover .hexagon-overlay {\n          opacity: 1;\n        }\n        \n        .hexagon-button {\n          background: white !important;\n          color: #10b981 !important;\n          border: none !important;\n          font-size: 10px !important;\n          padding: 4px 8px !important;\n          border-radius: 10px !important;\n          font-weight: 600 !important;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;\n        }\n        \n        .hexagon-button:hover {\n          background: #f0fdf4 !important;\n          transform: scale(1.05) !important;\n        }\n        \n        @keyframes hexagonSlideIn {\n          from {\n            opacity: 0;\n            transform: translateY(20px) scale(0.8);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0) scale(1);\n          }\n        }\n        \n        /* Responsive adjustments */\n        @media (max-width: 1024px) {\n          .honeycomb-grid {\n            max-width: 640px;\n            height: 320px;\n          }\n          .hexagon-wrapper {\n            width: 154px; /* 124px + 30px */\n            height: 247.8px; /* (103.9 + 20px) * 2 */\n          }\n          /* 4 + 3 layout */\n          .hexagon-wrapper:nth-child(1) { top: 0; left: 0; }\n          .hexagon-wrapper:nth-child(2) { top: 0; left: 160px; }\n          .hexagon-wrapper:nth-child(3) { top: 0; left: 320px; }\n          .hexagon-wrapper:nth-child(4) { top: 0; left: 480px; }\n          .hexagon-wrapper:nth-child(5) { top: 200px; left: 80px; }\n          .hexagon-wrapper:nth-child(6) { top: 200px; left: 240px; }\n          .hexagon-wrapper:nth-child(7) { top: 200px; left: 400px; }\n          .hexagon-image-container { width: 60px; height: 60px; }\n        }\n        \n        @media (max-width: 768px) {\n          .honeycomb-grid { max-width: 480px; height: 300px; }\n          \n          .hexagon-wrapper {\n            width: 134px; /* 104px + 30px */\n            height: 213.2px; /* (86.6 + 20px) * 2 = doubled height */\n          }\n          \n          /* 3 + 2 layout for small screens */\n          .hexagon-wrapper:nth-child(1) { top: 0; left: 0; }\n          .hexagon-wrapper:nth-child(2) { top: 0; left: 140px; }\n          .hexagon-wrapper:nth-child(3) { top: 0; left: 280px; }\n          .hexagon-wrapper:nth-child(4) { top: 170px; left: 70px; }\n          .hexagon-wrapper:nth-child(5) { top: 170px; left: 210px; }\n          \n          .hexagon-image-container {\n            width: 50px;\n            height: 50px;\n          }\n          \n          .hexagon-title {\n            font-size: 9px;\n          }\n          \n          .price-current {\n            font-size: 10px;\n          }\n          \n          .price-original {\n            font-size: 7px;\n          }\n        }\n        \n        @media (max-width: 640px) {\n          .honeycomb-grid { max-width: 360px; height: 280px; }\n          \n          .hexagon-wrapper {\n            width: 114px; /* 84px + 30px */\n            height: 178.6px; /* (69.3 + 20px) * 2 = doubled height */\n          }\n          \n          /* 2 + 2 layout for mobile */\n          .hexagon-wrapper:nth-child(1) { top: 0; left: 0; }\n          .hexagon-wrapper:nth-child(2) { top: 0; left: 120px; }\n          .hexagon-wrapper:nth-child(3) { top: 150px; left: 60px; }\n          .hexagon-wrapper:nth-child(4) { top: 150px; left: 180px; }\n          \n          .hexagon-image-container {\n            width: 40px;\n            height: 40px;\n          }\n          \n          .hexagon-title {\n            font-size: 8px;\n          }\n          \n          .price-current {\n            font-size: 9px;\n          }\n          \n          .price-original {\n            font-size: 6px;\n          }\n        }\n      `}</style>\n    </div>\n  );\n}\n","path":null,"size_bytes":42922,"size_tokens":null},"src/components/explore/ExploreFilters.jsx":{"content":"\"use client\";\n\nimport { useState } from \"react\";\n\nconst ChevronDownIcon = () => (\n  <svg width=\"9\" height=\"5\" viewBox=\"0 0 9 5\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M4.5 5L0 0H9L4.5 5Z\" fill=\"#666\"/>\n  </svg>\n);\n\nconst StarIcon = ({ filled = true }) => (\n  <svg width=\"13\" height=\"13\" viewBox=\"0 0 13 13\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path \n      d=\"M6.5 0L7.945 4.122L12.5 4.755L9.5 7.628L10.39 12.5L6.5 10.282L2.61 12.5L3.5 7.628L0.5 4.755L5.055 4.122L6.5 0Z\" \n      fill={filled ? \"#FFD700\" : \"#CCCCCC\"}\n    />\n  </svg>\n);\n\nconst CheckIcon = () => (\n  <svg width=\"10\" height=\"8\" viewBox=\"0 0 10 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M1 4L3.5 6.5L9 1\" stroke=\"white\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nexport default function ExploreFilters({ activeFilters, onFilterChange, categories = [], brands = [], loading = false }) {\n  const [openSections, setOpenSections] = useState({\n    categories: true,\n    brands: true,\n    price: true,\n    rating: true,\n    tags: true\n  });\n\n  const [priceRange, setPriceRange] = useState([\n    activeFilters.min_price || 0,\n    activeFilters.max_price || 10000\n  ]);\n\n  const ratingOptions = [\n    { id: \"5\", name: \"5.0\", value: 5 },\n    { id: \"4_and_up\", name: \"4.0 & up\", value: 4 },\n    { id: \"3_and_up\", name: \"3.0 & up\", value: 3 },\n    { id: \"2_and_up\", name: \"2.0 & up\", value: 2 },\n    { id: \"1_and_up\", name: \"1.0 & up\", value: 1 }\n  ];\n\n  const popularTags = [\n    \"Bamboo\", \"Jute\", \"Cotton\", \"Vegan\", \"Wood\", \"Decor\", \n    \"Violence Free\", \"Light\", \"Top\", \"Sale\", \"Fitness\", \"Organic\",\n    \"Eco-friendly\", \"Sustainable\", \"Natural\", \"Handmade\"\n  ];\n\n  const toggleSection = (section) => {\n    setOpenSections(prev => ({\n      ...prev,\n      [section]: !prev[section]\n    }));\n  };\n\n  const handleCategoryChange = (categoryId) => {\n    onFilterChange({\n      ...activeFilters,\n      category_id: categoryId === \"all\" ? null : categoryId\n    });\n  };\n\n  const handleBrandChange = (brandId) => {\n    onFilterChange({\n      ...activeFilters,\n      brand_id: brandId === \"all\" ? null : brandId\n    });\n  };\n\n  const handleRatingChange = (ratingId) => {\n    onFilterChange({\n      ...activeFilters,\n      rating: ratingId\n    });\n  };\n\n  const handleTagToggle = (tag) => {\n    const currentTags = activeFilters.tags || [];\n    const newTags = currentTags.includes(tag)\n      ? currentTags.filter(t => t !== tag)\n      : [...currentTags, tag];\n    \n    onFilterChange({\n      ...activeFilters,\n      tags: newTags\n    });\n  };\n\n  const handlePriceRangeChange = (newRange) => {\n    setPriceRange(newRange);\n    onFilterChange({\n      ...activeFilters,\n      min_price: newRange[0],\n      max_price: newRange[1]\n    });\n  };\n\n  return (\n    <div className=\"w-full bg-white p-4\"> {/* Reduced padding from p-6 to p-4 */}\n      \n      {/* All Categories Section */}\n      <div className=\"mb-6\">\n        <div \n          className=\"flex items-center justify-between py-3 cursor-pointer\"\n          onClick={() => toggleSection('categories')}\n        >\n          <h3 className=\"font-poppins font-medium text-[#1a1a1a] text-[14px]\">\n            All Categories\n          </h3>\n          <div className={`transform transition-transform ${openSections.categories ? 'rotate-180' : ''}`}>\n            <ChevronDownIcon />\n          </div>\n        </div>\n        \n        {openSections.categories && (\n          <div className=\"space-y-2\">\n            <label className=\"flex items-center gap-2 cursor-pointer py-1\">\n              <div className=\"relative\">\n                <input\n                  type=\"radio\"\n                  name=\"category\"\n                  value=\"all\"\n                  checked={!activeFilters.category_id}\n                  onChange={() => handleCategoryChange(\"all\")}\n                  className=\"sr-only\"\n                />\n                <div className={`w-3.5 h-3.5 rounded-full border ${\n                  !activeFilters.category_id \n                    ? 'border-black bg-white' \n                    : 'border-[#cccccc] bg-white'\n                } flex items-center justify-center`}>\n                  {!activeFilters.category_id && (\n                    <div className=\"w-2 h-2 rounded-full bg-black\"></div>\n                  )}\n                </div>\n              </div>\n              <span className=\"font-poppins text-[#1a1a1a] text-[10px] leading-[1.5]\">\n                All Categories\n              </span>\n            </label>\n            {loading ? (\n              <div className=\"text-gray-500 text-[10px] font-poppins\">Loading categories...</div>\n            ) : (\n              categories?.map((category) => (\n                <label key={category.id} className=\"flex items-center gap-2 cursor-pointer py-1\">\n                  <div className=\"relative\">\n                    <input\n                      type=\"radio\"\n                      name=\"category\"\n                      value={category.id}\n                      checked={activeFilters.category_id === category.id}\n                      onChange={() => handleCategoryChange(category.id)}\n                      className=\"sr-only\"\n                    />\n                    <div className={`w-3.5 h-3.5 rounded-full border ${\n                      activeFilters.category_id === category.id \n                        ? 'border-black bg-white' \n                        : 'border-[#cccccc] bg-white'\n                    } flex items-center justify-center`}>\n                      {activeFilters.category_id === category.id && (\n                        <div className=\"w-2 h-2 rounded-full bg-black\"></div>\n                      )}\n                    </div>\n                  </div>\n                  <span className=\"font-poppins text-[#1a1a1a] text-[10px] leading-[1.5]\">\n                    {category.name} {category.product_count && `(${category.product_count})`}\n                  </span>\n                </label>\n              ))\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Divider */}\n      <div className=\"h-px bg-[#e6e6e6] mb-6\"></div>\n\n      {/* Brands Section */}\n      <div className=\"mb-6\">\n        <div \n          className=\"flex items-center justify-between py-3 cursor-pointer\"\n          onClick={() => toggleSection('brands')}\n        >\n          <h3 className=\"font-poppins font-medium text-[#1a1a1a] text-[14px]\">\n            Brands\n          </h3>\n          <div className={`transform transition-transform ${openSections.brands ? 'rotate-180' : ''}`}>\n            <ChevronDownIcon />\n          </div>\n        </div>\n        \n        {openSections.brands && (\n          <div className=\"space-y-2\">\n            <label className=\"flex items-center gap-2 cursor-pointer py-1\">\n              <div className=\"relative\">\n                <input\n                  type=\"radio\"\n                  name=\"brand\"\n                  value=\"all\"\n                  checked={!activeFilters.brand_id}\n                  onChange={() => handleBrandChange(\"all\")}\n                  className=\"sr-only\"\n                />\n                <div className={`w-3.5 h-3.5 rounded-full border ${\n                  !activeFilters.brand_id \n                    ? 'border-black bg-white' \n                    : 'border-[#cccccc] bg-white'\n                } flex items-center justify-center`}>\n                  {!activeFilters.brand_id && (\n                    <div className=\"w-2 h-2 rounded-full bg-black\"></div>\n                  )}\n                </div>\n              </div>\n              <span className=\"font-poppins text-[#1a1a1a] text-[10px] leading-[1.5]\">\n                All Brands\n              </span>\n            </label>\n            {loading ? (\n              <div className=\"text-gray-500 text-[10px] font-poppins\">Loading brands...</div>\n            ) : (\n              brands?.map((brand) => (\n                <label key={brand.id} className=\"flex items-center gap-2 cursor-pointer py-1\">\n                  <div className=\"relative\">\n                    <input\n                      type=\"radio\"\n                      name=\"brand\"\n                      value={brand.id}\n                      checked={activeFilters.brand_id === brand.id}\n                      onChange={() => handleBrandChange(brand.id)}\n                      className=\"sr-only\"\n                    />\n                    <div className={`w-3.5 h-3.5 rounded-full border ${\n                      activeFilters.brand_id === brand.id \n                        ? 'border-black bg-white' \n                        : 'border-[#cccccc] bg-white'\n                    } flex items-center justify-center`}>\n                      {activeFilters.brand_id === brand.id && (\n                        <div className=\"w-2 h-2 rounded-full bg-black\"></div>\n                      )}\n                    </div>\n                  </div>\n                  <span className=\"font-poppins text-[#1a1a1a] text-[10px] leading-[1.5]\">\n                    {brand.name} {brand.product_count && `(${brand.product_count})`}\n                  </span>\n                </label>\n              ))\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Divider */}\n      <div className=\"h-px bg-[#e6e6e6] mb-6\"></div>\n\n      {/* Price Section */}\n      <div className=\"mb-6\">\n        <div \n          className=\"flex items-center justify-between py-3 cursor-pointer\"\n          onClick={() => toggleSection('price')}\n        >\n          <h3 className=\"font-poppins font-medium text-[#1a1a1a] text-[14px]\">\n            Price\n          </h3>\n          <div className={`transform transition-transform ${openSections.price ? 'rotate-180' : ''}`}>\n            <ChevronDownIcon />\n          </div>\n        </div>\n        \n        {openSections.price && (\n          <div className=\"space-y-3\">\n            {/* Price Range Inputs */}\n            <div className=\"flex gap-2\">\n              <div className=\"flex-1\">\n                <label className=\"block text-[10px] font-poppins text-gray-600 mb-1\">Min Price</label>\n                <input\n                  type=\"number\"\n                  min=\"0\"\n                  value={priceRange[0]}\n                  onChange={(e) => {\n                    const newRange = [parseInt(e.target.value) || 0, priceRange[1]];\n                    handlePriceRangeChange(newRange);\n                  }}\n                  className=\"w-full px-2 py-1 border border-gray-300 rounded text-[10px]\"\n                  placeholder=\"0\"\n                />\n              </div>\n              <div className=\"flex-1\">\n                <label className=\"block text-[10px] font-poppins text-gray-600 mb-1\">Max Price</label>\n                <input\n                  type=\"number\"\n                  min={priceRange[0]}\n                  value={priceRange[1]}\n                  onChange={(e) => {\n                    const newRange = [priceRange[0], parseInt(e.target.value) || 0];\n                    handlePriceRangeChange(newRange);\n                  }}\n                  className=\"w-full px-2 py-1 border border-gray-300 rounded text-[10px]\"\n                  placeholder=\"10000\"\n                />\n              </div>\n            </div>\n            \n            {/* Price Range Display */}\n            <div className=\"font-poppins text-[10px] text-[#1a1a1a]\">\n              <span className=\"text-[#4d4d4d]\">Price Range: </span>\n              <span className=\"font-medium\">₹{priceRange[0]} — ₹{priceRange[1]}</span>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Divider */}\n      <div className=\"h-px bg-[#e6e6e6] mb-6\"></div>\n\n      {/* Rating Section */}\n      <div className=\"mb-6\">\n        <div \n          className=\"flex items-center justify-between py-3 bg-[#e1e4e3] cursor-pointer\"\n          onClick={() => toggleSection('rating')}\n        >\n          <h3 className=\"font-poppins font-medium text-[#1a1a1a] text-[14px]\">\n            Rating\n          </h3>\n          <div className={`transform transition-transform ${openSections.rating ? 'rotate-180' : ''}`}>\n            <ChevronDownIcon />\n          </div>\n        </div>\n        \n        {openSections.rating && (\n          <div className=\"space-y-2 py-2\">\n            {ratingOptions.map((option) => (\n              <label key={option.id} className=\"flex items-center gap-2 cursor-pointer py-1\">\n                <div className=\"relative\">\n                  <input\n                    type=\"checkbox\"\n                    checked={activeFilters.rating === option.id}\n                    onChange={() => handleRatingChange(option.id)}\n                    className=\"sr-only\"\n                  />\n                  <div className={`w-3.5 h-3.5 rounded border ${\n                    activeFilters.rating === option.id \n                      ? 'border-black bg-black' \n                      : 'border-[#cccccc] bg-white'\n                  } flex items-center justify-center`}>\n                    {activeFilters.rating === option.id && (\n                      <CheckIcon />\n                    )}\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-1\">\n                  {/* Stars */}\n                  <div className=\"flex\">\n                    {[1, 2, 3, 4, 5].map((star) => (\n                      <StarIcon key={star} filled={star <= option.value} />\n                    ))}\n                  </div>\n                  <span className=\"font-poppins text-[#1a1a1a] text-[10px] ml-1\">\n                    {option.name}\n                  </span>\n                </div>\n              </label>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Divider */}\n      <div className=\"h-px bg-[#e6e6e6] mb-6\"></div>\n\n      {/* Popular Tags Section */}\n      <div className=\"mb-6\">\n        <div \n          className=\"flex items-center justify-between py-3 cursor-pointer\"\n          onClick={() => toggleSection('tags')}\n        >\n          <h3 className=\"font-poppins font-medium text-[#1a1a1a] text-[14px]\">\n            Popular Tag\n          </h3>\n          <div className={`transform transition-transform ${openSections.tags ? 'rotate-180' : ''}`}>\n            <ChevronDownIcon />\n          </div>\n        </div>\n        \n        {openSections.tags && (\n          <div className=\"flex flex-wrap gap-1.5 py-2\">\n            {popularTags.map((tag) => {\n              const isActive = activeFilters.tags?.includes(tag);\n              return (\n                <button\n                  key={tag}\n                  onClick={() => handleTagToggle(tag)}\n                  className={`px-3 py-1 rounded-full text-[10px] font-poppins transition-colors ${\n                    isActive \n                      ? 'bg-black text-white' \n                      : 'bg-[#f2f2f2] text-[#1a1a1a] hover:bg-gray-300'\n                  }`}\n                >\n                  {tag}\n                </button>\n              );\n            })}\n          </div>\n        )}\n      </div>\n\n      {/* Special Offer Banner */}\n      <div className=\"bg-gradient-to-br from-orange-100 to-orange-50 rounded-lg p-4 mb-6\">\n        <div className=\"text-center\">\n          <div className=\"text-2xl font-bold text-orange-600 mb-1\">69%</div>\n          <div className=\"text-xs text-gray-600 mb-2\">Discount</div>\n          <div className=\"text-xs text-gray-800 mb-3\">\n            on our top sustainable products\n          </div>\n          <button className=\"text-xs bg-orange-500 text-white px-3 py-1 rounded hover:bg-orange-600 transition-colors\">\n            Shop Now →\n          </button>\n        </div>\n      </div>\n\n      <style jsx>{`\n        .slider::-webkit-slider-thumb {\n          appearance: none;\n          height: 16px;\n          width: 16px;\n          border-radius: 50%;\n          background: #1a1a1a;\n          cursor: pointer;\n        }\n        .slider::-moz-range-thumb {\n          height: 16px;\n          width: 16px;\n          border-radius: 50%;\n          background: #1a1a1a;\n          cursor: pointer;\n          border: none;\n        }\n      `}</style>\n    </div>\n  );\n}\n","path":null,"size_bytes":16005,"size_tokens":null},"src/app/orders/page.jsx":{"content":"import { redirect } from \"next/navigation\";\n\nexport default function OrdersRedirect() {\n  redirect(\"/account/orders\");\n}\n\n\n","path":null,"size_bytes":123,"size_tokens":null},"src/components/forms/LoginForm.jsx":{"content":"\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { auth, tokens } from \"../../lib/api\";\nimport { useRouter } from \"next/navigation\";\nimport { countryCodes } from \"../../lib/countryCodes\";\nimport Button from \"../ui/Button\";\n\nexport default function LoginForm() {\n  const router = useRouter();\n  const [mode, setMode] = useState(\"email\"); // 'email' | 'phone'\n  const [formData, setFormData] = useState({ email: \"\", phone: \"\", password: \"\", remember: false });\n  const [dialCode, setDialCode] = useState(\"+91\");\n\n  const handleChange = (field, value) => setFormData((p) => ({ ...p, [field]: value }));\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const result =\n        mode === \"email\"\n          ? await auth.login(formData.email, formData.password)\n          : await auth.loginPhone(`${dialCode}${(formData.phone || '').replace(/\\s+/g, '')}`, formData.password);\n      \n      if (result?.tokens) {\n        tokens.set(result.tokens);\n        \n        // Fetch and log user profile details\n        try {\n          const profile = await auth.getProfile(result.tokens.access_token);\n          console.log(\"User Profile Details:\", {\n            userId: result.user?.id,\n            email: result.user?.email,\n            phone: result.user?.phone,\n            userMetadata: result.user?.user_metadata,\n            profile: profile\n          });\n          \n          // Redirect based on user type\n          const userType = result.user?.user_metadata?.user_type || profile?.user_type;\n          if (userType === 'supplier' || userType === 'seller') {\n            // Redirect to onboarding page which will check profile completion\n            // and redirect to dashboard if already complete\n            router.push(\"/vendor/onboarding\");\n          } else {\n            router.push(\"/\");\n          }\n        } catch (profileError) {\n          console.log(\"Failed to fetch profile:\", profileError.message);\n          // Still log basic user info from login response\n          console.log(\"Basic User Info:\", {\n            userId: result.user?.id,\n            email: result.user?.email,\n            phone: result.user?.phone,\n            userMetadata: result.user?.user_metadata\n          });\n          \n          // Fallback redirect based on user metadata\n          const userType = result.user?.user_metadata?.user_type;\n          if (userType === 'supplier' || userType === 'seller') {\n            // Redirect to onboarding page which will check profile completion\n            // and redirect to dashboard if already complete\n            router.push(\"/vendor/onboarding\");\n          } else {\n            router.push(\"/\");\n          }\n        }\n      }\n    } catch (err) {\n      alert(err.message || \"Login failed\");\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <main className=\"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        {/* Back Button */}\n        <div className=\"mb-8\">\n          <Link href=\"/signup\" className=\"flex items-center text-[#2c3a4b] hover:text-[#502c0a] font-semibold text-base\">\n            <div className=\"w-3 h-2 mr-2 rotate-90\">\n              <svg viewBox=\"0 0 7 4\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M3.5 4L0 0H7L3.5 4Z\" fill=\"currentColor\"/>\n              </svg>\n            </div>\n            Back\n          </Link>\n        </div>\n\n        {/* Page Title */}\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-5xl text-[#09101d] mb-4\">\n            <span className=\"font-['Beth_Ellen',cursive] font-normal\">Welcome </span>\n            <span className=\"font-normal\">back</span>\n          </h1>\n        </div>\n\n        <div className=\"max-w-md mx-auto\">\n          <h1 className=\"text-3xl font-black mb-6 text-[#09101d]\">Sign In</h1>\n          <div className=\"flex items-center gap-3 mb-4\">\n            <Button\n              type=\"button\"\n              onClick={() => setMode(\"email\")}\n              variant={mode === \"email\" ? \"primary\" : \"outline\"}\n              size=\"sm\"\n            >\n              Email login\n            </Button>\n            <Button\n              type=\"button\"\n              onClick={() => setMode(\"phone\")}\n              variant={mode === \"phone\" ? \"primary\" : \"outline\"}\n              size=\"sm\"\n            >\n              Phone login\n            </Button>\n          </div>\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            {mode === \"email\" ? (\n              <div>\n                <label className=\"block px-4 py-0 mb-2\">\n                  <span className=\"text-[#09101d] text-base font-semibold opacity-80\">Email</span>\n                  <span className=\"text-[#da1414] text-[13px] opacity-80\">*</span>\n                </label>\n                <input\n                  type=\"email\"\n                  value={formData.email}\n                  onChange={(e) => handleChange(\"email\", e.target.value)}\n                  className=\"w-full px-4 py-3 border border-[#858c94] rounded-lg text-[#09101d] text-base font-semibold focus:outline-none focus:border-[#502c0a] placeholder:opacity-50\"\n                  placeholder=\"you@example.com\"\n                  required\n                />\n              </div>\n            ) : (\n              <div>\n                <label className=\"block px-4 py-0 mb-2\">\n                  <span className=\"text-[#09101d] text-base font-semibold opacity-80\">Phone</span>\n                  <span className=\"text-[#da1414] text-[13px] opacity-80\">*</span>\n                </label>\n                <div className=\"flex gap-2\">\n                  <select\n                    value={dialCode}\n                    onChange={(e) => setDialCode(e.target.value)}\n                    className=\"px-3 py-3 border border-[#858c94] rounded-lg bg-white text-[#09101d] focus:outline-none focus:border-[#502c0a]\"\n                  >\n                    {countryCodes.map((c) => (\n                      <option key={c.dial_code} value={c.dial_code}>\n                        {c.flag} {c.dial_code} {c.name}\n                      </option>\n                    ))}\n                  </select>\n                  <input\n                    type=\"tel\"\n                    inputMode=\"numeric\"\n                    value={formData.phone}\n                    onChange={(e) => handleChange(\"phone\", (e.target.value || '').replace(/\\D/g, ''))}\n                    className=\"flex-1 px-4 py-3 border border-[#858c94] rounded-lg text-[#09101d] text-base font-semibold focus:outline-none focus:border-[#502c0a] placeholder:opacity-50\"\n                    placeholder=\"Enter phone number\"\n                    pattern=\"[0-9]{6,20}\"\n                    required\n                  />\n                </div>\n              </div>\n            )}\n            <div>\n              <label className=\"block px-4 py-0 mb-2\">\n                <span className=\"text-[#09101d] text-base font-semibold opacity-80\">Password</span>\n                <span className=\"text-[#da1414] text-[13px] opacity-80\">*</span>\n              </label>\n              <input\n                type=\"password\"\n                value={formData.password}\n                onChange={(e) => handleChange(\"password\", e.target.value)}\n                className=\"w-full px-4 py-3 border border-[#858c94] rounded-lg text-[#09101d] text-base font-semibold focus:outline-none focus:border-[#502c0a] placeholder:opacity-50\"\n                placeholder=\"Enter your password\"\n                required\n              />\n            </div>\n            <div className=\"flex items-center justify-between px-4\">\n              <label className=\"inline-flex items-center gap-2 text-sm text-[#09101d] opacity-60\">\n                <div className=\"relative\">\n                  <input\n                    type=\"checkbox\"\n                    checked={formData.remember}\n                    onChange={(e) => handleChange(\"remember\", e.target.checked)}\n                    className=\"sr-only\"\n                  />\n                  <div \n                    className={`w-4 h-4 rounded-sm border-2 flex items-center justify-center cursor-pointer ${\n                      formData.remember \n                        ? 'bg-[rgba(80,44,10,0.2)] border-[#502c0a]' \n                        : 'bg-white border-[#858c94]'\n                    }`}\n                    onClick={() => handleChange(\"remember\", !formData.remember)}\n                  >\n                    {formData.remember && (\n                      <svg className=\"w-3 h-3 text-[#502c0a]\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\"/>\n                      </svg>\n                    )}\n                  </div>\n                </div>\n                Remember me\n              </label>\n              <Link href=\"/forgot-password\" className=\"text-sm text-[#502c0a] hover:underline\">\n                Forgot password?\n              </Link>\n            </div>\n\n            {/* Submit Button */}\n            <div className=\"flex justify-center pt-4\">\n              <Button\n                type=\"submit\"\n                variant=\"secondary\"\n                size=\"lg\"\n                className=\"px-[54px]\"\n              >\n                Sign In\n              </Button>\n            </div>\n\n            {/* Sign Up Link */}\n            <div className=\"text-center\">\n              <p className=\"text-[#09101d] text-[13px] leading-[20px] opacity-60\">\n                Don&apos;t have an account?{\" \"}\n                <Link href=\"/signup\" className=\"font-bold text-[#502c0a]\">\n                  Sign up here\n                </Link>\n              </p>\n            </div>\n          </form>\n        </div>\n      </main>\n    </div>\n  );\n}\n","path":null,"size_bytes":9817,"size_tokens":null},"src/app/login/page.jsx":{"content":"import LoginForm from \"../../components/forms/LoginForm\";\n\nexport const metadata = { title: \"Login - Aveoearth\" };\n\nexport default function LoginPage() {\n  return <LoginForm />;\n}\n","path":null,"size_bytes":180,"size_tokens":null},"src/components/checkout/Checkout.jsx":{"content":"/**\n * Checkout Component\n * \n * Complete checkout flow with address management, payment integration,\n * and order creation.\n */\n\n\"use client\";\n\nimport React, { useState, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Image from 'next/image';\nimport { \n  MapPin, \n  CreditCard, \n  Truck, \n  Shield, \n  ArrowLeft,\n  Check,\n  AlertCircle\n} from 'lucide-react';\nimport { useCart } from '../../hooks/useCart';\nimport { useOrders } from '../../hooks/useOrders';\nimport { useAuth } from '../../hooks/useAuth';\nimport buyerOrdersService from '../../services/buyerOrdersService';\nimport AddressSelector from '../address/AddressSelector';\n\nconst Checkout = () => {\n  const router = useRouter();\n  const { isLoggedIn } = useAuth();\n  const { cart, cartTotals, clearCart } = useCart();\n  const { createOrder, loading: orderLoading } = useOrders();\n\n  const [step, setStep] = useState(1); // 1: Address, 2: Payment, 3: Review\n  const [billingAddress, setBillingAddress] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: '',\n    streetAddress: '',\n    addressLine2: '',\n    city: '',\n    state: '',\n    postalCode: '',\n    country: 'India'\n  });\n  const [shippingAddress, setShippingAddress] = useState({\n    firstName: '',\n    lastName: '',\n    email: '',\n    phone: '',\n    streetAddress: '',\n    addressLine2: '',\n    city: '',\n    state: '',\n    postalCode: '',\n    country: 'India'\n  });\n  const [sameAsBilling, setSameAsBilling] = useState(true);\n  const [paymentMethod, setPaymentMethod] = useState('card');\n  const [customerNotes, setCustomerNotes] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [useAddressSelector, setUseAddressSelector] = useState(true);\n  const [selectedBillingAddress, setSelectedBillingAddress] = useState(null);\n  const [selectedShippingAddress, setSelectedShippingAddress] = useState(null);\n  const [agreeToPolicies, setAgreeToPolicies] = useState(false);\n\n  const totals = cartTotals();\n\n  // Redirect if not logged in\n  useEffect(() => {\n    if (!isLoggedIn) {\n      router.push('/login?redirect=/checkout');\n    }\n  }, [isLoggedIn, router]);\n\n  // Redirect if cart is empty\n  useEffect(() => {\n    if (!cart?.items || cart.items.length === 0) {\n      router.push('/cart');\n    }\n  }, [cart, router]);\n\n  // Handle address input changes\n  const handleBillingChange = (field, value) => {\n    setBillingAddress(prev => ({ ...prev, [field]: value }));\n    if (sameAsBilling) {\n      setShippingAddress(prev => ({ ...prev, [field]: value }));\n    }\n  };\n\n  const handleShippingChange = (field, value) => {\n    setShippingAddress(prev => ({ ...prev, [field]: value }));\n  };\n\n  // Handle same as billing toggle\n  const handleSameAsBillingToggle = (checked) => {\n    setSameAsBilling(checked);\n    if (checked) {\n      setShippingAddress({ ...billingAddress });\n    }\n  };\n\n  // Handle billing address selection\n  const handleBillingAddressSelect = (address) => {\n    setSelectedBillingAddress(address);\n    if (address) {\n      const addressData = {\n        firstName: address.first_name,\n        lastName: address.last_name,\n        email: address.email,\n        phone: address.phone,\n        streetAddress: address.address_line_1,\n        addressLine2: address.address_line_2 || '',\n        city: address.city,\n        state: address.state,\n        postalCode: address.postal_code,\n        country: address.country\n      };\n      setBillingAddress(addressData);\n      if (sameAsBilling) {\n        setShippingAddress(addressData);\n      }\n    }\n  };\n\n  // Handle shipping address selection\n  const handleShippingAddressSelect = (address) => {\n    setSelectedShippingAddress(address);\n    if (address) {\n      const addressData = {\n        firstName: address.first_name,\n        lastName: address.last_name,\n        email: address.email,\n        phone: address.phone,\n        streetAddress: address.address_line_1,\n        addressLine2: address.address_line_2 || '',\n        city: address.city,\n        state: address.state,\n        postalCode: address.postal_code,\n        country: address.country\n      };\n      setShippingAddress(addressData);\n    }\n  };\n\n  // Toggle between address selector and manual form\n  const toggleAddressSelector = () => {\n    setUseAddressSelector(!useAddressSelector);\n    if (useAddressSelector) {\n      // Reset selected addresses when switching to manual\n      setSelectedBillingAddress(null);\n      setSelectedShippingAddress(null);\n    }\n  };\n\n  // Validate address\n  const validateAddress = (address) => {\n    const required = ['firstName', 'lastName', 'email', 'phone', 'streetAddress', 'city', 'state', 'postalCode'];\n    return required.every(field => address[field]?.trim());\n  };\n\n  // Handle step navigation\n  const handleNextStep = () => {\n    if (step === 1) {\n      if (!validateAddress(billingAddress) || (!sameAsBilling && !validateAddress(shippingAddress))) {\n        setError('Please fill in all required fields');\n        return;\n      }\n    }\n    \n    setError(null);\n    setStep(step + 1);\n  };\n\n  const handlePrevStep = () => {\n    setStep(step - 1);\n    setError(null);\n  };\n\n  // Handle order creation\n  const handleCreateOrder = async () => {\n    // Check if user has agreed to policies\n    if (!agreeToPolicies) {\n      setError('Please agree to the Terms & Conditions, Privacy Policy, and Refund Policy to proceed with the payment.');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n\n      const orderData = {\n        billingAddress,\n        shippingAddress: sameAsBilling ? billingAddress : shippingAddress,\n        paymentMethod,\n        customerNotes: customerNotes || null,\n        useDifferentShipping: !sameAsBilling\n      };\n\n      const order = await createOrder(orderData);\n\n      // Clear cart after successful order\n      await clearCart();\n\n      // Redirect to order confirmation\n      router.push(`/orders/${order.id}/confirmation`);\n\n    } catch (error) {\n      console.error('Failed to create order:', error);\n      setError(error.message || 'Failed to create order. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!isLoggedIn || !cart?.items || cart.items.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto px-4 py-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <button\n            onClick={() => router.back()}\n            className=\"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4\"\n          >\n            <ArrowLeft className=\"w-4 h-4\" />\n            Back\n          </button>\n          \n          <h1 className=\"text-3xl font-bold text-gray-900\">Checkout</h1>\n          \n          {/* Progress Steps */}\n          <div className=\"flex items-center gap-4 mt-6\">\n            {[\n              { num: 1, label: 'Shipping' },\n              { num: 2, label: 'Payment' },\n              { num: 3, label: 'Review' }\n            ].map((stepItem, index) => (\n              <div key={stepItem.num} className=\"flex items-center\">\n                <div className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${\n                  step >= stepItem.num \n                    ? 'bg-green-600 text-white' \n                    : 'bg-gray-200 text-gray-600'\n                }`}>\n                  {step > stepItem.num ? <Check className=\"w-4 h-4\" /> : stepItem.num}\n                </div>\n                <span className={`ml-2 text-sm ${\n                  step >= stepItem.num ? 'text-green-600' : 'text-gray-500'\n                }`}>\n                  {stepItem.label}\n                </span>\n                {index < 2 && <div className=\"w-8 h-px bg-gray-300 ml-4\" />}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n          {/* Main Content */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"bg-white rounded-lg shadow-sm p-6\">\n              {error && (\n                <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2\">\n                  <AlertCircle className=\"w-5 h-5 text-red-600\" />\n                  <span className=\"text-red-800\">{error}</span>\n                </div>\n              )}\n\n              {/* Step 1: Shipping Address */}\n              {step === 1 && (\n                <div>\n                  <h2 className=\"text-xl font-semibold mb-6 flex items-center gap-2\">\n                    <MapPin className=\"w-5 h-5\" />\n                    Shipping Information\n                  </h2>\n\n                  {/* Billing Address */}\n                  <div className=\"mb-8\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <h3 className=\"text-lg font-medium\">Billing Address</h3>\n                      <button\n                        type=\"button\"\n                        onClick={toggleAddressSelector}\n                        className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\n                      >\n                        {useAddressSelector ? 'Enter manually' : 'Use saved address'}\n                      </button>\n                    </div>\n\n                    {useAddressSelector ? (\n                      <AddressSelector\n                        title=\"Select Billing Address\"\n                        addressType=\"billing\"\n                        selectedAddress={selectedBillingAddress}\n                        onAddressSelect={handleBillingAddressSelect}\n                      />\n                    ) : (\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                        <input\n                          type=\"text\"\n                          placeholder=\"First Name *\"\n                          value={billingAddress.firstName}\n                          onChange={(e) => handleBillingChange('firstName', e.target.value)}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                        />\n                        <input\n                          type=\"text\"\n                          placeholder=\"Last Name *\"\n                          value={billingAddress.lastName}\n                          onChange={(e) => handleBillingChange('lastName', e.target.value)}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                        />\n                        <input\n                          type=\"email\"\n                          placeholder=\"Email *\"\n                          value={billingAddress.email}\n                          onChange={(e) => handleBillingChange('email', e.target.value)}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                        />\n                        <input\n                          type=\"tel\"\n                          placeholder=\"Phone *\"\n                          value={billingAddress.phone}\n                          onChange={(e) => handleBillingChange('phone', e.target.value)}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                        />\n                        <input\n                          type=\"text\"\n                          placeholder=\"Address Line 1 *\"\n                          value={billingAddress.streetAddress}\n                          onChange={(e) => handleBillingChange('streetAddress', e.target.value)}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent md:col-span-2\"\n                        />\n                        <input\n                          type=\"text\"\n                          placeholder=\"Address Line 2\"\n                          value={billingAddress.addressLine2}\n                          onChange={(e) => handleBillingChange('addressLine2', e.target.value)}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent md:col-span-2\"\n                        />\n                        <input\n                          type=\"text\"\n                          placeholder=\"City *\"\n                          value={billingAddress.city}\n                          onChange={(e) => handleBillingChange('city', e.target.value)}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                        />\n                        <input\n                          type=\"text\"\n                          placeholder=\"State *\"\n                          value={billingAddress.state}\n                          onChange={(e) => handleBillingChange('state', e.target.value)}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                        />\n                        <input\n                          type=\"text\"\n                          placeholder=\"Postal Code *\"\n                          value={billingAddress.postalCode}\n                          onChange={(e) => handleBillingChange('postalCode', e.target.value)}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                        />\n                        <input\n                          type=\"text\"\n                          placeholder=\"Country *\"\n                          value={billingAddress.country}\n                          onChange={(e) => handleBillingChange('country', e.target.value)}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                        />\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Shipping Address */}\n                  <div>\n                    <div className=\"flex items-center gap-3 mb-4\">\n                      <input\n                        type=\"checkbox\"\n                        id=\"sameAsBilling\"\n                        checked={sameAsBilling}\n                        onChange={(e) => handleSameAsBillingToggle(e.target.checked)}\n                        className=\"w-4 h-4 text-green-600 focus:ring-green-500 border-gray-300 rounded\"\n                      />\n                      <label htmlFor=\"sameAsBilling\" className=\"text-sm font-medium text-gray-700\">\n                        Shipping address is the same as billing address\n                      </label>\n                    </div>\n\n                    {!sameAsBilling && (\n                      <div>\n                        <div className=\"flex items-center justify-between mb-4\">\n                          <h3 className=\"text-lg font-medium\">Shipping Address</h3>\n                          <button\n                            type=\"button\"\n                            onClick={toggleAddressSelector}\n                            className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\n                          >\n                            {useAddressSelector ? 'Enter manually' : 'Use saved address'}\n                          </button>\n                        </div>\n\n                        {useAddressSelector ? (\n                          <AddressSelector\n                            title=\"Select Shipping Address\"\n                            addressType=\"shipping\"\n                            selectedAddress={selectedShippingAddress}\n                            onAddressSelect={handleShippingAddressSelect}\n                          />\n                        ) : (\n                          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                            <input\n                              type=\"text\"\n                              placeholder=\"First Name *\"\n                              value={shippingAddress.firstName}\n                              onChange={(e) => handleShippingChange('firstName', e.target.value)}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                            />\n                            <input\n                              type=\"text\"\n                              placeholder=\"Last Name *\"\n                              value={shippingAddress.lastName}\n                              onChange={(e) => handleShippingChange('lastName', e.target.value)}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                            />\n                            <input\n                              type=\"email\"\n                              placeholder=\"Email *\"\n                              value={shippingAddress.email}\n                              onChange={(e) => handleShippingChange('email', e.target.value)}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                            />\n                            <input\n                              type=\"tel\"\n                              placeholder=\"Phone *\"\n                              value={shippingAddress.phone}\n                              onChange={(e) => handleShippingChange('phone', e.target.value)}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                            />\n                            <input\n                              type=\"text\"\n                              placeholder=\"Address Line 1 *\"\n                              value={shippingAddress.streetAddress}\n                              onChange={(e) => handleShippingChange('streetAddress', e.target.value)}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent md:col-span-2\"\n                            />\n                            <input\n                              type=\"text\"\n                              placeholder=\"Address Line 2\"\n                              value={shippingAddress.addressLine2}\n                              onChange={(e) => handleShippingChange('addressLine2', e.target.value)}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent md:col-span-2\"\n                            />\n                            <input\n                              type=\"text\"\n                              placeholder=\"City *\"\n                              value={shippingAddress.city}\n                              onChange={(e) => handleShippingChange('city', e.target.value)}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                            />\n                            <input\n                              type=\"text\"\n                              placeholder=\"State *\"\n                              value={shippingAddress.state}\n                              onChange={(e) => handleShippingChange('state', e.target.value)}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                            />\n                            <input\n                              type=\"text\"\n                              placeholder=\"Postal Code *\"\n                              value={shippingAddress.postalCode}\n                              onChange={(e) => handleShippingChange('postalCode', e.target.value)}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                            />\n                            <input\n                              type=\"text\"\n                              placeholder=\"Country *\"\n                              value={shippingAddress.country}\n                              onChange={(e) => handleShippingChange('country', e.target.value)}\n                              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                            />\n                          </div>\n                        )}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              )}\n\n              {/* Step 2: Payment Method */}\n              {step === 2 && (\n                <div>\n                  <h2 className=\"text-xl font-semibold mb-6 flex items-center gap-2\">\n                    <CreditCard className=\"w-5 h-5\" />\n                    Payment Method\n                  </h2>\n\n                  <div className=\"space-y-4\">\n                    <div className=\"border border-gray-200 rounded-lg p-4\">\n                      <label className=\"flex items-center gap-3\">\n                        <input\n                          type=\"radio\"\n                          name=\"payment\"\n                          value=\"card\"\n                          checked={paymentMethod === 'card'}\n                          onChange={(e) => setPaymentMethod(e.target.value)}\n                          className=\"w-4 h-4 text-green-600 focus:ring-green-500\"\n                        />\n                        <div className=\"flex items-center gap-2\">\n                          <CreditCard className=\"w-5 h-5\" />\n                          <span className=\"font-medium\">Credit/Debit Card</span>\n                        </div>\n                      </label>\n                    </div>\n\n                    <div className=\"border border-gray-200 rounded-lg p-4\">\n                      <label className=\"flex items-center gap-3\">\n                        <input\n                          type=\"radio\"\n                          name=\"payment\"\n                          value=\"upi\"\n                          checked={paymentMethod === 'upi'}\n                          onChange={(e) => setPaymentMethod(e.target.value)}\n                          className=\"w-4 h-4 text-green-600 focus:ring-green-500\"\n                        />\n                        <div className=\"flex items-center gap-2\">\n                          <Shield className=\"w-5 h-5\" />\n                          <span className=\"font-medium\">UPI Payment</span>\n                        </div>\n                      </label>\n                    </div>\n\n                    <div className=\"border border-gray-200 rounded-lg p-4\">\n                      <label className=\"flex items-center gap-3\">\n                        <input\n                          type=\"radio\"\n                          name=\"payment\"\n                          value=\"cod\"\n                          checked={paymentMethod === 'cod'}\n                          onChange={(e) => setPaymentMethod(e.target.value)}\n                          className=\"w-4 h-4 text-green-600 focus:ring-green-500\"\n                        />\n                        <div className=\"flex items-center gap-2\">\n                          <Truck className=\"w-5 h-5\" />\n                          <span className=\"font-medium\">Cash on Delivery</span>\n                        </div>\n                      </label>\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Step 3: Review Order */}\n              {step === 3 && (\n                <div>\n                  <h2 className=\"text-xl font-semibold mb-6\">Review Your Order</h2>\n\n                  {/* Customer Notes */}\n                  <div className=\"mb-6\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Order Notes (Optional)\n                    </label>\n                    <textarea\n                      placeholder=\"Special instructions for your order...\"\n                      value={customerNotes}\n                      onChange={(e) => setCustomerNotes(e.target.value)}\n                      rows={3}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                    />\n                  </div>\n\n                  {/* Order Summary */}\n                  <div className=\"border border-gray-200 rounded-lg p-4\">\n                    <h3 className=\"font-medium mb-4\">Order Summary</h3>\n                    <div className=\"space-y-3\">\n                      {cart.items.map((item) => (\n                        <div key={item.id} className=\"flex justify-between\">\n                          <span>{item.product.name} × {item.quantity}</span>\n                          <span>{buyerOrdersService.formatCurrency(\n                            (item.variant?.price || item.product.price) * item.quantity\n                          )}</span>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                </div>\n              )}\n\n              {/* Policy Agreement */}\n              {step === 3 && (\n                <div className=\"mt-8 p-6 bg-blue-50 border border-blue-200 rounded-lg\">\n                  <div className=\"flex items-start space-x-3\">\n                    <input\n                      type=\"checkbox\"\n                      id=\"policy-agreement\"\n                      checked={agreeToPolicies}\n                      onChange={(e) => setAgreeToPolicies(e.target.checked)}\n                      className=\"mt-1 h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded\"\n                    />\n                    <div className=\"flex-1\">\n                      <label htmlFor=\"policy-agreement\" className=\"text-sm text-gray-700 cursor-pointer\">\n                        I have reviewed the{' '}\n                        <a\n                          href=\"/TermsandConditions\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"text-green-600 hover:text-green-800 underline\"\n                        >\n                          Terms & Conditions\n                        </a>\n                        ,{' '}\n                        <a\n                          href=\"/PrivacyPolicy\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"text-green-600 hover:text-green-800 underline\"\n                        >\n                          Privacy Policy\n                        </a>\n                        ,{' '}\n                        <a\n                          href=\"/RefundsandCancellation\"\n                          target=\"_blank\"\n                          rel=\"noopener noreferrer\"\n                          className=\"text-green-600 hover:text-green-800 underline\"\n                        >\n                          Shipping & Delivery and Refunds & Cancellation\n                        </a>{' '}\n                        policies and I agree to proceed with the payment.\n                      </label>\n                    </div>\n                  </div>\n                  {!agreeToPolicies && error && error.includes('Please agree') && (\n                    <p className=\"mt-2 text-sm text-red-600\">\n                      {error}\n                    </p>\n                  )}\n                </div>\n              )}\n\n              {/* Navigation Buttons */}\n              <div className=\"flex justify-between mt-8\">\n                {step > 1 && (\n                  <button\n                    onClick={handlePrevStep}\n                    className=\"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\"\n                  >\n                    Previous\n                  </button>\n                )}\n                \n                {step < 3 ? (\n                  <button\n                    onClick={handleNextStep}\n                    className=\"ml-auto px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700\"\n                  >\n                    Continue\n                  </button>\n                ) : (\n                  <button\n                    onClick={handleCreateOrder}\n                    disabled={loading || orderLoading || !agreeToPolicies}\n                    className=\"ml-auto px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50\"\n                  >\n                    {loading || orderLoading ? 'Creating Order...' : 'Place Order'}\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Order Summary Sidebar */}\n          <div className=\"lg:col-span-1\">\n            <div className=\"bg-white rounded-lg shadow-sm p-6 sticky top-4\">\n              <h3 className=\"text-lg font-semibold mb-4\">Order Summary</h3>\n              \n              {/* Items */}\n              <div className=\"space-y-3 mb-6\">\n                {cart?.items?.map((item) => (\n                  <div key={item.id} className=\"flex gap-3\">\n                    <div className=\"flex-shrink-0 w-12 h-12 bg-gray-100 rounded overflow-hidden\">\n                      <Image\n                        src={item.product.images?.[0]?.url || '/sample1.jpg'}\n                        alt={item.product.name}\n                        width={48}\n                        height={48}\n                        className=\"w-full h-full object-cover\"\n                      />\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-sm font-medium text-gray-900 truncate\">\n                        {item.product.name}\n                      </p>\n                      <p className=\"text-sm text-gray-500\">\n                        Qty: {item.quantity}\n                      </p>\n                    </div>\n                    <p className=\"text-sm font-medium\">\n                      {buyerOrdersService.formatCurrency(\n                        (item.variant?.price || item.product.price) * item.quantity\n                      )}\n                    </p>\n                  </div>\n                ))}\n              </div>\n\n              {/* Totals */}\n              <div className=\"border-t border-gray-200 pt-4 space-y-2\">\n                <div className=\"flex justify-between text-sm\">\n                  <span>Subtotal</span>\n                  <span>{buyerOrdersService.formatCurrency(totals.subtotal)}</span>\n                </div>\n                <div className=\"flex justify-between text-sm\">\n                  <span>Shipping</span>\n                  <span>Free</span>\n                </div>\n                <div className=\"flex justify-between text-lg font-semibold border-t border-gray-200 pt-2\">\n                  <span>Total</span>\n                  <span>{buyerOrdersService.formatCurrency(totals.total)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Checkout;\n","path":null,"size_bytes":31648,"size_tokens":null},"src/components/address/AddressManager.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport AddressCard from \"./AddressCard\";\nimport AddressForm from \"./AddressForm\";\nimport addressService from \"../../services/addressService\";\n\nconst AddressManager = ({ showTitle = true, addressType = null, onAddressSelect = null }) => {\n  const [addresses, setAddresses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [showForm, setShowForm] = useState(false);\n  const [editingAddress, setEditingAddress] = useState(null);\n\n  useEffect(() => {\n    loadAddresses();\n  }, [addressType]);\n\n  const loadAddresses = async () => {\n    try {\n      setLoading(true);\n      const addressData = addressType \n        ? await addressService.getAddressesByType(addressType)\n        : await addressService.getAddresses();\n      // Ensure addresses is always an array\n      const addressesArray = Array.isArray(addressData) ? addressData : (addressData?.addresses || []);\n      setAddresses(addressesArray);\n    } catch (err) {\n      console.error('Error loading addresses:', err);\n      setError('Failed to load addresses');\n      setAddresses([]); // Set to empty array on error\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddAddress = () => {\n    setEditingAddress(null);\n    setShowForm(true);\n  };\n\n  const handleEditAddress = (address) => {\n    setEditingAddress(address);\n    setShowForm(true);\n  };\n\n  const handleSaveAddress = async (savedAddress) => {\n    await loadAddresses(); // Reload addresses\n    setShowForm(false);\n    setEditingAddress(null);\n    setError('');\n  };\n\n  const handleDeleteAddress = async (addressId) => {\n    try {\n      await addressService.deleteAddress(addressId);\n      await loadAddresses(); // Reload addresses\n    } catch (err) {\n      console.error('Error deleting address:', err);\n      setError('Failed to delete address');\n    }\n  };\n\n  const handleSetDefault = async (addressId) => {\n    try {\n      await addressService.setDefaultAddress(addressId);\n      await loadAddresses(); // Reload addresses\n    } catch (err) {\n      console.error('Error setting default address:', err);\n      setError('Failed to set default address');\n    }\n  };\n\n  const handleCancel = () => {\n    setShowForm(false);\n    setEditingAddress(null);\n  };\n\n  const handleSelectAddress = (address) => {\n    if (onAddressSelect) {\n      onAddressSelect(address);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center py-8\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {showTitle && (\n        <div className=\"flex items-center justify-between\">\n          <h3 className=\"text-lg font-medium text-gray-900\">\n            {addressType ? `${addressType.charAt(0).toUpperCase() + addressType.slice(1)} Addresses` : 'My Addresses'}\n          </h3>\n          {!showForm && (\n            <button\n              onClick={handleAddAddress}\n              className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              Add New Address\n            </button>\n          )}\n        </div>\n      )}\n\n      {error && (\n        <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\n          {error}\n        </div>\n      )}\n\n      {showForm && (\n        <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-6\">\n          <h4 className=\"text-lg font-medium text-gray-900 mb-4\">\n            {editingAddress ? 'Edit Address' : 'Add New Address'}\n          </h4>\n          <AddressForm\n            address={editingAddress}\n            onSave={handleSaveAddress}\n            onCancel={handleCancel}\n          />\n        </div>\n      )}\n\n      {addresses.length === 0 && !showForm ? (\n        <div className=\"text-center py-8\">\n          <p className=\"text-gray-500 mb-4\">No addresses found.</p>\n          <button\n            onClick={handleAddAddress}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            Add Your First Address\n          </button>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          {addresses.map(address => (\n            <div key={address.id} className=\"relative\">\n              <AddressCard\n                address={address}\n                onEdit={handleEditAddress}\n                onDelete={handleDeleteAddress}\n                onSetDefault={handleSetDefault}\n              />\n              {onAddressSelect && (\n                <button\n                  onClick={() => handleSelectAddress(address)}\n                  className=\"absolute top-2 right-2 bg-blue-100 text-blue-700 px-2 py-1 rounded text-xs hover:bg-blue-200\"\n                >\n                  Select\n                </button>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AddressManager;\n","path":null,"size_bytes":5119,"size_tokens":null},"src/components/vendor/onboarding/StepHeader.jsx":{"content":"import React from 'react';\n\nexport default function StepHeader({ currentStep }) {\n  const getStepInfo = () => {\n    switch (currentStep) {\n      case 1:\n        return {\n          title: \"Welcome to AveoEarth\",\n          description: \"Lets start by setting up your supplier account. Join our community of sustainable businesses\"\n        };\n      case 2:\n        return {\n          title: \"Business and Sustainability Profile\",\n          description: \"Tell us about your business structure and sustainability practices\"\n        };\n      case 3:\n      case 4:\n      case 5:\n        return {\n          title: \"Product information Wizard\",\n          description: \"Add your product to get started on AevoEarth Marketplace\"\n        };\n      default:\n        return {\n          title: \"\",\n          description: \"\"\n        };\n    }\n  };\n\n  const { title, description } = getStepInfo();\n\n  return (\n    <div className=\"mb-8\">\n      <div className=\"flex items-center gap-3 mb-2\">\n        <div className=\"w-6 h-6\">\n          <svg viewBox=\"0 0 24 24\" className=\"w-full h-full text-[#1a4032]\">\n            <path fill=\"currentColor\" d=\"M12,7V3H2V21H22V7H12M6,19H4V17H6V19M6,15H4V13H6V15M6,11H4V9H6V11M6,7H4V5H6V7M10,19H8V17H10V19M10,15H8V13H10V15M10,11H8V9H10V11M10,7H8V5H10V7M20,19H12V17H20V19M20,15H12V13H20V15M20,11H12V9H20V11Z\"/>\n          </svg>\n        </div>\n        <h3 className=\"font-reem font-medium text-[16px] text-[#1a4032]\">\n          {title}\n        </h3>\n      </div>\n      <p className=\"font-poppins text-[12px] text-[#272727]\">\n        {description}\n      </p>\n    </div>\n  );\n}\n","path":null,"size_bytes":1585,"size_tokens":null},"src/components/explore/NewsletterSubscription.jsx":{"content":"\"use client\";\n\nimport { useState } from \"react\";\n\nconst EmailIcon = () => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path\n      d=\"M18.3334 5.00001C18.3334 4.08334 17.5834 3.33334 16.6667 3.33334H3.33341C2.41675 3.33334 1.66675 4.08334 1.66675 5.00001M18.3334 5.00001V15C18.3334 15.9167 17.5834 16.6667 16.6667 16.6667H3.33341C2.41675 16.6667 1.66675 15.9167 1.66675 15V5.00001M18.3334 5.00001L10.0001 10.8333L1.66675 5.00001\"\n      stroke=\"#666666\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n);\n\nconst ArrowRightIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path\n      d=\"M3.33334 8H12.6667M12.6667 8L8.00001 3.33333M12.6667 8L8.00001 12.6667\"\n      stroke=\"white\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n);\n\nexport default function NewsletterSubscription() {\n  const [email, setEmail] = useState(\"\");\n  const [isSubscribed, setIsSubscribed] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!email.trim()) return;\n\n    setIsLoading(true);\n    \n    // Simulate API call\n    setTimeout(() => {\n      setIsSubscribed(true);\n      setIsLoading(false);\n      setEmail(\"\");\n    }, 1000);\n  };\n\n  if (isSubscribed) {\n    return (\n      <div className=\"bg-[#eaeaea] px-6 py-12 lg:px-12\">\n        <div className=\"max-w-4xl mx-auto text-center\">\n          <div className=\"mb-6\">\n            <div className=\"w-16 h-16 mx-auto mb-4 bg-green-500 rounded-full flex items-center justify-center\">\n              <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                  d=\"M20 6L9 17L4 12\"\n                  stroke=\"white\"\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n              </svg>\n            </div>\n            <h2 className=\"font-poppins font-bold text-[24px] lg:text-[32px] text-[#272727] mb-3\">\n              Thank You for Subscribing!\n            </h2>\n            <p className=\"font-poppins text-[16px] text-[#4d4d4d] max-w-2xl mx-auto\">\n              You'll be the first to know about our latest eco-friendly products and exclusive offers.\n            </p>\n          </div>\n          <button\n            onClick={() => setIsSubscribed(false)}\n            className=\"font-poppins text-[14px] text-[#4d4d4d] hover:text-[#272727] underline transition-colors\"\n          >\n            Subscribe with different email\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-[#eaeaea] px-6 py-12 lg:px-12\">\n      <div className=\"max-w-4xl mx-auto\">\n        <div className=\"text-center mb-8\">\n          <h2 className=\"font-poppins font-bold text-[24px] lg:text-[32px] text-[#272727] mb-3\">\n            Stay Updated with Eco-Friendly Products\n          </h2>\n          <p className=\"font-poppins text-[16px] text-[#4d4d4d] max-w-2xl mx-auto\">\n            Subscribe to our newsletter and be the first to discover sustainable products, \n            exclusive discounts, and eco-living tips delivered straight to your inbox.\n          </p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"max-w-lg mx-auto\">\n          <div className=\"relative\">\n            <div className=\"absolute left-4 top-1/2 transform -translate-y-1/2\">\n              <EmailIcon />\n            </div>\n            <input\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              placeholder=\"Enter your email address\"\n              className=\"w-full bg-neutral-300 border border-[#272727] text-[#272727] placeholder-[#666666] pl-12 pr-24 py-4 rounded-full font-poppins text-[14px] focus:outline-none focus:ring-2 focus:ring-[#1a4032] focus:border-transparent\"\n              required\n              disabled={isLoading}\n            />\n            <button\n              type=\"submit\"\n              disabled={isLoading || !email.trim()}\n              className=\"absolute right-2 top-1/2 transform -translate-y-1/2 bg-[#1a4032] hover:bg-[#0f2a1d] disabled:bg-[#404040] disabled:cursor-not-allowed text-white px-6 py-2.5 rounded-full font-poppins font-semibold text-[14px] flex items-center gap-2 transition-colors\"\n            >\n              {isLoading ? (\n                <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n              ) : (\n                <>\n                  <span>Subscribe</span>\n                  <ArrowRightIcon />\n                </>\n              )}\n            </button>\n          </div>\n        </form>\n\n        <div className=\"text-center mt-6\">\n          <p className=\"font-poppins text-[12px] text-[#999999]\">\n            By subscribing, you agree to receive marketing emails from AveoEarth. \n            You can unsubscribe at any time.{\" \"}\n            <a href=\"/privacy\" className=\"text-[#e6e6e6] hover:text-white underline\">\n              Privacy Policy\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":5296,"size_tokens":null},"src/components/cart/MiniCart.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from 'next/navigation';\nimport { useCart } from \"../../hooks/useCart\";\n\n// Cart icon\nconst CartIcon = ({ color = \"black\" }) => (\n  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path \n      d=\"M3 3H5L5.4 5M7 13H17L21 5H5.4M7 13L5.4 5M7 13L4.7 15.3C4.3 15.7 4.6 16.5 5.1 16.5H17M17 13V16.5M9 19.5C9.8 19.5 10.5 20.2 10.5 21S9.8 22.5 9 22.5 7.5 21.8 7.5 21 8.2 19.5 9 19.5ZM20 19.5C20.8 19.5 21.5 20.2 21.5 21S20.8 22.5 20 22.5 18.5 21.8 18.5 21 19.2 19.5 20 19.5Z\" \n      stroke={color} \n      strokeWidth=\"2\" \n      strokeLinecap=\"round\" \n      strokeLinejoin=\"round\"\n    />\n  </svg>\n);\n\nexport default function MiniCart() {\n  const { cart, cartCount, removeFromCart } = useCart();\n  const [isOpen, setIsOpen] = useState(false);\n  const router = useRouter();\n\n  const actualCartCount = cartCount || cart?.items?.reduce((total, item) => total + item.quantity, 0) || 0;\n\n  const handleProceedToCart = () => {\n    setIsOpen(false);\n    router.push('/cart');\n  };\n\n  return (\n    <div className=\"relative\">\n      <button \n        onClick={() => setIsOpen(!isOpen)}\n        className=\"relative focus:outline-none\"\n      >\n        <CartIcon />\n        {actualCartCount > 0 && (\n          <div className=\"absolute -top-2 -right-2 bg-[#502c0a] text-white rounded-full w-[16px] h-[16px] flex items-center justify-center text-[10px] font-medium\">\n            {actualCartCount}\n          </div>\n        )}\n      </button>\n\n      {/* Mini cart dropdown */}\n      {isOpen && (\n        <>\n          {/* Backdrop */}\n          <div \n            className=\"fixed inset-0 z-40\" \n            onClick={() => setIsOpen(false)}\n          />\n          \n          {/* Dropdown */}\n          <div className=\"absolute right-0 top-full mt-2 w-80 sm:w-96 max-w-[calc(100vw-2rem)] bg-gradient-to-br from-[#f8fdf8] to-[#e8f5e8] border border-[#4a7c28] rounded-lg shadow-lg z-50\">\n            <div className=\"p-3 sm:p-4 border-b border-[#4a7c28]\">\n              <h3 className=\"font-poppins font-semibold text-[#1a3d0a] text-sm sm:text-base\">\n                Shopping Cart ({actualCartCount})\n              </h3>\n            </div>\n            \n            {cart?.items?.length > 0 ? (\n              <>\n                <div className=\"max-h-60 overflow-y-auto\">\n                  {cart.items.map((item) => (\n                    <div key={item.id} className=\"p-2 sm:p-3 border-b border-[#d4e6c7] flex items-center gap-2 sm:gap-3 hover:bg-[#f0f8f0] transition-colors\">\n                      <img \n                        src={item.product?.image || item.product?.images?.[0]?.url || item.image || '/placeholder-product.jpg'} \n                        alt={item.product?.name || item.product_name || 'Product'}\n                        className=\"w-10 h-10 sm:w-12 sm:h-12 object-cover rounded border border-[#4a7c28]\"\n                      />\n                      <div className=\"flex-1 min-w-0\">\n                        <h4 className=\"text-xs sm:text-sm font-medium text-[#1a3d0a] truncate\">{item.product?.name || item.product_name || 'Product'}</h4>\n                        <p className=\"text-xs text-[#4a7c28]\">₹{(item.unit_price || 0).toFixed(2)} × {item.quantity || 1}</p>\n                      </div>\n                      <button\n                        onClick={() => removeFromCart(item.id)}\n                        className=\"text-[#8b4513] hover:text-[#a0522d] text-sm sm:text-xs p-1 rounded-full hover:bg-[#f0f8f0] transition-colors\"\n                      >\n                        ×\n                      </button>\n                    </div>\n                  ))}\n                </div>\n                <div className=\"p-3 sm:p-4\">\n                  <div className=\"flex justify-between items-center mb-3\">\n                    <span className=\"font-semibold text-sm sm:text-base text-[#1a3d0a]\">\n                      Total: ₹{(cart.total_amount || cart.total || cart.items?.reduce((sum, item) => sum + (item.unit_price * item.quantity), 0) || 0).toFixed(2)}\n                    </span>\n                  </div>\n                  <button\n                    onClick={handleProceedToCart}\n                    className=\"w-full bg-gradient-to-r from-[#4a7c28] to-[#2d5016] text-white py-2 px-4 rounded-md text-sm font-medium hover:from-[#3d6b1f] hover:to-[#1a3d0a] transition-all duration-200 shadow-md hover:shadow-lg\"\n                  >\n                    View Cart\n                  </button>\n                </div>\n              </>\n            ) : (\n              <div className=\"p-4 sm:p-6 text-center\">\n                <p className=\"text-[#4a7c28] text-sm mb-3\">Your cart is empty</p>\n                <button\n                  onClick={() => {\n                    setIsOpen(false);\n                    router.push('/explore');\n                  }}\n                  className=\"text-[#2d5016] hover:text-[#1a3d0a] text-sm font-medium bg-[#f0f8f0] hover:bg-[#e8f5e8] px-4 py-2 rounded-md transition-colors\"\n                >\n                  Continue Shopping\n                </button>\n              </div>\n            )}\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":5234,"size_tokens":null},"src/components/ai/FloatingChatBot.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { usePathname } from \"next/navigation\";\nimport DraggableChatModal from \"./DraggableChatModal\";\nimport { auth, tokens } from \"../../lib/api\";\n\nconst FloatingChatBot = () => {\n  const [isChatOpen, setIsChatOpen] = useState(false);\n  const [userType, setUserType] = useState(\"buyer\");\n  const [isClient, setIsClient] = useState(false);\n  const [videoError, setVideoError] = useState(false);\n  const pathname = usePathname();\n\n  const isVendorDashboard = pathname?.startsWith('/vendor');\n\n  const calculateModalPosition = () => {\n    if (typeof window === 'undefined') return { x: 50, y: 50 };\n    \n    const modalWidth = 400;\n    const modalHeight = 500;\n    const buttonSize = 160;\n    const margin = 24;\n    \n    const x = window.innerWidth - modalWidth - margin;\n    const y = window.innerHeight - modalHeight - buttonSize - margin - 24;\n    \n    return {\n      x: Math.max(margin, x),\n      y: Math.max(margin, y)\n    };\n  };\n\n  useEffect(() => {\n    setIsClient(true);\n    const userTokens = tokens.get();\n    const loggedIn = !!userTokens?.access_token;\n    \n    if (loggedIn && userTokens?.access_token) {\n      auth.getProfile(userTokens.access_token)\n        .then(profile => {\n          if (profile?.user_type === 'supplier') {\n            setUserType('supplier');\n          } else {\n            setUserType('buyer');\n          }\n        })\n        .catch(error => {\n          console.error('Failed to fetch user profile:', error);\n          setUserType('buyer');\n        });\n    }\n  }, []);\n\n  if (!isClient) return null;\n\n  return (\n    <>\n      <div\n        onClick={() => setIsChatOpen(!isChatOpen)}\n        className=\"fixed bottom-6 right-6 z-50 w-40 h-40 flex items-center justify-center group cursor-pointer\"\n        title=\"AI Assistant\"\n        style={{ \n          border: 'none', \n          padding: 0, \n          background: 'transparent',\n          backgroundColor: 'transparent',\n          outline: 'none',\n          boxShadow: 'none'\n        }}\n      >\n        {!videoError ? (\n          <video\n            src=\"/AveoBuddy.mp4\"\n            width={160}\n            height={160}\n            autoPlay\n            loop\n            muted\n            playsInline\n            onError={() => {\n              console.error('Failed to load AveoBuddy.mp4');\n              setVideoError(true);\n            }}\n            className=\"w-full h-full object-contain\"\n            style={{ \n              border: 'none', \n              background: 'transparent',\n              backgroundColor: 'transparent',\n              outline: 'none',\n              display: 'block'\n            }}\n          />\n        ) : (\n          <div className=\"w-40 h-40 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg hover:shadow-xl transition-shadow\">\n            <svg\n              className=\"w-20 h-20 text-white\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\"\n              />\n            </svg>\n          </div>\n        )}\n        <div className=\"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full opacity-80 animate-pulse\"></div>\n      </div>\n\n      <DraggableChatModal \n        isOpen={isChatOpen} \n        onClose={() => setIsChatOpen(false)}\n        userType={isVendorDashboard ? \"supplier\" : userType}\n        initialPosition={calculateModalPosition()}\n      />\n    </>\n  );\n};\n\nexport default FloatingChatBot;\n","path":null,"size_bytes":3798,"size_tokens":null},"src/app/checkout/page.jsx":{"content":"\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from 'next/navigation';\nimport Navbar from \"../../components/layout/Navbar\";\nimport Footer from \"../../components/layout/Footer\";\nimport Checkout from \"../../components/checkout/Checkout\";\nimport OrderConfirmation from \"../../components/OrderConfirmation\";\nimport { useOrders } from \"../../hooks/useOrders\";\n\n// Back arrow icon\nconst ArrowLeftIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path \n      d=\"M4.20996 4.412L9.79796 9.999L4.20996 15.587\" \n      stroke=\"#858C94\" \n      strokeWidth=\"1.6\" \n      strokeLinecap=\"round\" \n      strokeLinejoin=\"round\"\n      transform=\"rotate(180 8 8)\"\n    />\n  </svg>\n);\n\nexport default function CheckoutPage() {\n  const router = useRouter();\n  const { createOrder } = useOrders();\n  const [isOrderConfirmed, setIsOrderConfirmed] = useState(false);\n  const [orderData, setOrderData] = useState(null);\n\n  const handleGoBack = () => {\n    if (isOrderConfirmed) {\n      setIsOrderConfirmed(false);\n      setOrderData(null);\n    } else {\n      router.push('/cart');\n    }\n  };\n\n  const handlePlaceOrder = async (orderDetails) => {\n    try {\n      const result = await createOrder(orderDetails);\n      setOrderData(result);\n      setIsOrderConfirmed(true);\n    } catch (error) {\n      console.error('Error placing order:', error);\n      // Handle error (show toast, etc.)\n    }\n  };\n\n  const handleContinueShopping = () => {\n    router.push('/explore');\n  };\n\n  const handleOrderDetails = () => {\n    if (orderData?.order_id) {\n      router.push(`/account/orders/${orderData.order_id}`);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen\">\n      {/* Navigation */}\n      <Navbar />\n      \n      {/* Main Content */}\n      <div className=\"px-4 sm:px-6 lg:px-16 pb-8\">\n        {/* Go Back Button */}\n        <div className=\"mb-4 pt-4\">\n          <button \n            onClick={handleGoBack}\n            className=\"bg-white border border-[#b8b8b8] rounded-[4.8px] px-4 py-2 flex items-center gap-2 hover:bg-gray-50 transition-colors text-sm\"\n          >\n            <ArrowLeftIcon />\n            <span className=\"font-poppins font-medium text-[#484848]\">Go back</span>\n          </button>\n        </div>\n\n        {/* Page Title */}\n        <div className=\"text-center mb-6\">\n          <h1 className=\"font-poppins font-semibold text-[#1a1a1a] text-2xl leading-[1.2]\">\n            {isOrderConfirmed ? \"Order Confirmation\" : \"Checkout\"}\n          </h1>\n        </div>\n\n        {/* Content */}\n        {isOrderConfirmed ? (\n          <OrderConfirmation \n            orderData={orderData}\n            onContinueShopping={handleContinueShopping}\n            onGoBack={handleGoBack}\n            onOrderDetails={handleOrderDetails}\n          />\n        ) : (\n          <Checkout \n            onGoBack={handleGoBack}\n            onPlaceOrder={handlePlaceOrder}\n          />\n        )}\n      </div>\n\n      {/* Footer - Only show when not in confirmation */}\n      {!isOrderConfirmed && <Footer />}\n    </div>\n  );\n}\n","path":null,"size_bytes":3084,"size_tokens":null},"src/hooks/useOrders.js":{"content":"/**\n * useOrders Hook\n * \n * React hook for managing order operations including order creation,\n * tracking, payments, and returns.\n */\n\"use client\"\nimport { useState, useEffect, useCallback, useContext, createContext } from 'react';\nimport buyerOrdersService from '../services/buyerOrdersService';\nimport { useAuth } from './useAuth';\n\n// Orders Context\nconst OrdersContext = createContext();\n\n// Orders Provider Component\nexport const OrdersProvider = ({ children }) => {\n  const [orders, setOrders] = useState([]);\n  const [pagination, setPagination] = useState({ total: 0, pages: 1, currentPage: 1, limit: 20 });\n  const [currentOrder, setCurrentOrder] = useState(null);\n  const [payments, setPayments] = useState([]);\n  const [returns, setReturns] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const { isLoggedIn } = useAuth();\n\n  // Load user orders\n  const loadOrders = useCallback(async (page = 1, limit = 20, status = null) => {\n    if (!isLoggedIn) return;\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      console.log('useOrders: Calling buyerOrdersService.getUserOrders...');\n      const ordersData = await buyerOrdersService.getUserOrders(page, limit, status);\n      console.log('useOrders: Raw orders data:', ordersData);\n      \n      // Handle paginated response format\n      const ordersList = ordersData?.items || ordersData || [];\n      console.log('useOrders: Setting orders to:', ordersList);\n      \n      setOrders(ordersList);\n      \n      // Store pagination information\n      if (ordersData && typeof ordersData === 'object') {\n        setPagination({\n          total: ordersData.total || ordersData.total_count || ordersList.length,\n          pages: ordersData.pages || ordersData.total_pages || Math.ceil((ordersData.total || ordersData.total_count || ordersList.length) / limit),\n          currentPage: page,\n          limit: limit\n        });\n      }\n    } catch (error) {\n      console.error('useOrders: Failed to load orders:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [isLoggedIn]);\n\n  // Load order details\n  const loadOrderDetails = useCallback(async (orderId) => {\n    if (!isLoggedIn) return null;\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const orderDetails = await buyerOrdersService.getOrderDetails(orderId);\n      setCurrentOrder(orderDetails);\n      return orderDetails;\n    } catch (error) {\n      console.error('Failed to load order details:', error);\n      setError(error.message);\n      return null;\n    } finally {\n      setLoading(false);\n    }\n  }, [isLoggedIn]);\n\n  // Create new order\n  const createOrder = useCallback(async (orderData) => {\n    if (!isLoggedIn) {\n      throw new Error('User must be logged in to create orders');\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const order = await buyerOrdersService.createOrder(orderData);\n      \n      // Reload orders to include the new one\n      await loadOrders();\n      \n      return order;\n    } catch (error) {\n      console.error('Failed to create order:', error);\n      setError(error.message);\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  }, [isLoggedIn, loadOrders]);\n\n  // Cancel order\n  const cancelOrder = useCallback(async (orderId, cancelReason) => {\n    if (!isLoggedIn) return false;\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      await buyerOrdersService.cancelOrder(orderId, cancelReason);\n      \n      // Reload orders and current order details if needed\n      await loadOrders();\n      if (currentOrder?.id === orderId) {\n        await loadOrderDetails(orderId);\n      }\n      \n      return true;\n    } catch (error) {\n      console.error('Failed to cancel order:', error);\n      setError(error.message);\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  }, [isLoggedIn, loadOrders, currentOrder, loadOrderDetails]);\n\n  // Track order\n  const trackOrder = useCallback(async (orderId) => {\n    if (!isLoggedIn) return null;\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const tracking = await buyerOrdersService.trackOrder(orderId);\n      return tracking;\n    } catch (error) {\n      console.error('Failed to track order:', error);\n      setError(error.message);\n      return null;\n    } finally {\n      setLoading(false);\n    }\n  }, [isLoggedIn]);\n\n  // Load payments\n  const loadPayments = useCallback(async (page = 1, limit = 20) => {\n    if (!isLoggedIn) return;\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const paymentsData = await buyerOrdersService.getUserPayments(page, limit);\n      setPayments(paymentsData);\n    } catch (error) {\n      console.error('Failed to load payments:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [isLoggedIn]);\n\n  // Load order payments\n  const loadOrderPayments = useCallback(async (orderId) => {\n    if (!isLoggedIn) return null;\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const orderPayments = await buyerOrdersService.getOrderPayments(orderId);\n      return orderPayments;\n    } catch (error) {\n      console.error('Failed to load order payments:', error);\n      setError(error.message);\n      return null;\n    } finally {\n      setLoading(false);\n    }\n  }, [isLoggedIn]);\n\n  // Load returns\n  const loadReturns = useCallback(async (page = 1, limit = 20) => {\n    if (!isLoggedIn) return;\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const returnsData = await buyerOrdersService.getUserReturns(page, limit);\n      setReturns(returnsData);\n    } catch (error) {\n      console.error('Failed to load returns:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [isLoggedIn]);\n\n  // Create return request\n  const createReturn = useCallback(async (orderItemId, reason, description, quantity, images = []) => {\n    if (!isLoggedIn) return false;\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      await buyerOrdersService.createReturn(orderItemId, reason, description, quantity, images);\n      \n      // Reload returns to include the new one\n      await loadReturns();\n      \n      return true;\n    } catch (error) {\n      console.error('Failed to create return:', error);\n      setError(error.message);\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  }, [isLoggedIn, loadReturns]);\n\n  // Load return details\n  const loadReturnDetails = useCallback(async (returnId) => {\n    if (!isLoggedIn) return null;\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const returnDetails = await buyerOrdersService.getReturnDetails(returnId);\n      return returnDetails;\n    } catch (error) {\n      console.error('Failed to load return details:', error);\n      setError(error.message);\n      return null;\n    } finally {\n      setLoading(false);\n    }\n  }, [isLoggedIn]);\n\n  // Utility functions\n  const getOrderStatusText = useCallback((status) => {\n    return buyerOrdersService.getOrderStatusText(status);\n  }, []);\n\n  const getPaymentStatusText = useCallback((status) => {\n    return buyerOrdersService.getPaymentStatusText(status);\n  }, []);\n\n  const formatCurrency = useCallback((amount, currency = 'INR') => {\n    return buyerOrdersService.formatCurrency(amount, currency);\n  }, []);\n\n  // Load initial data when user logs in\n  useEffect(() => {\n    if (isLoggedIn) {\n      loadOrders();\n    } else {\n      // Clear data when user logs out\n      setOrders([]);\n      setCurrentOrder(null);\n      setPayments([]);\n      setReturns([]);\n    }\n  }, [isLoggedIn, loadOrders]);\n\n  const value = {\n    orders,\n    pagination,\n    currentOrder,\n    payments,\n    returns,\n    loading,\n    error,\n    loadOrders,\n    loadOrderDetails,\n    createOrder,\n    cancelOrder,\n    trackOrder,\n    loadPayments,\n    loadOrderPayments,\n    loadReturns,\n    createReturn,\n    loadReturnDetails,\n    getOrderStatusText,\n    getPaymentStatusText,\n    formatCurrency,\n    setCurrentOrder\n  };\n\n  return (\n    <OrdersContext.Provider value={value}>\n      {children}\n    </OrdersContext.Provider>\n  );\n};\n\n// useOrders hook\nexport const useOrders = () => {\n  const context = useContext(OrdersContext);\n  if (!context) {\n    throw new Error('useOrders must be used within an OrdersProvider');\n  }\n  return context;\n};\n\n// Individual hooks for specific order operations\nexport const useOrderOperations = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const createOrder = useCallback(async (orderData) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const order = await buyerOrdersService.createOrder(orderData);\n      return order;\n    } catch (error) {\n      console.error('Failed to create order:', error);\n      setError(error.message);\n      throw error;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const trackOrder = useCallback(async (orderId) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const tracking = await buyerOrdersService.trackOrder(orderId);\n      return tracking;\n    } catch (error) {\n      console.error('Failed to track order:', error);\n      setError(error.message);\n      return null;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const cancelOrder = useCallback(async (orderId, cancelReason) => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      await buyerOrdersService.cancelOrder(orderId, cancelReason);\n      return true;\n    } catch (error) {\n      console.error('Failed to cancel order:', error);\n      setError(error.message);\n      return false;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  return {\n    createOrder,\n    trackOrder,\n    cancelOrder,\n    loading,\n    error\n  };\n};\n\nexport default useOrders;\n","path":null,"size_bytes":9949,"size_tokens":null},"src/app/explore/page.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect, Suspense } from \"react\";\nimport { useSearchParams } from \"next/navigation\";\nimport Navbar from \"../../components/layout/Navbar\";\nimport Footer from \"../../components/layout/Footer\";\nimport ExploreFilters from \"../../components/explore/ExploreFilters\";\nimport ExploreHeader from \"../../components/explore/ExploreHeader\";\nimport ExploreProductGrid from \"../../components/explore/ExploreProductGrid\";\nimport SearchBar from \"../../components/search/SearchBar\";\nimport ProductRecommendations from \"../../components/search/ProductRecommendations\";\nimport NewsletterSubscription from \"../../components/explore/NewsletterSubscription\";\nimport ProductQuickView from \"../../components/ui/ProductQuickView\";\nimport { productsBuyer, productSearch } from \"../../lib/api\";\n\n// Loading component for Suspense fallback\nfunction ExplorePageFallback() {\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <Navbar />\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600\"></div>\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\n// Component that uses useSearchParams\nfunction ExplorePageContent() {\n  const searchParams = useSearchParams();\n  const [activeFilters, setActiveFilters] = useState({\n    category_id: null,\n    brand_id: null,\n    min_price: 0,\n    max_price: 10000,\n    search: \"\", // Local search (within page)\n    urlSearch: \"\", // URL search (from navbar, uses API)\n    tags: []\n  });\n\n  const [sortBy, setSortBy] = useState(\"created_at\");\n  const [sortOrder, setSortOrder] = useState(\"desc\");\n  const [showFilters, setShowFilters] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  \n  // API data state\n  const [allProducts, setAllProducts] = useState([]); // All products from API\n  const [products, setProducts] = useState([]); // Displayed products (filtered)\n  const [categories, setCategories] = useState([]);\n  const [brands, setBrands] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [totalResults, setTotalResults] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [limit] = useState(20);\n\n  // Category mapping for URL parameters\n  const categoryMapping = {\n    \"home-living\": \"Home & Living\",\n    \"fashion\": \"Fashion\", \n    \"food-beverage\": \"Food & Beverage\",\n    \"beauty-personal-care\": \"Beauty & Personal Care\",\n    \"pets\": \"Pets\",\n    \"fitness\": \"Fitness\"\n  };\n\n  // Fetch categories and brands on component mount\n  useEffect(() => {\n    const fetchInitialData = async () => {\n      try {\n        const [categoriesData, brandsData] = await Promise.all([\n          productsBuyer.getCategoriesTree(),\n          productsBuyer.getActiveBrands()\n        ]);\n        \n        setCategories(categoriesData || []);\n        setBrands(brandsData || []);\n      } catch (error) {\n        console.error('Error fetching initial data:', error);\n      }\n    };\n\n    fetchInitialData();\n  }, []);\n\n  // Handle URL parameters on component mount and when searchParams change\n  useEffect(() => {\n    const categoryParam = searchParams.get('category');\n    const searchParam = searchParams.get('search');\n    \n    if (categoryParam && categoryMapping[categoryParam]) {\n      // Find the category ID by name\n      const categoryName = categoryMapping[categoryParam];\n      const category = categories.find(cat => cat.name === categoryName);\n      if (category) {\n        setActiveFilters(prev => ({\n          ...prev,\n          category_id: category.id,\n          search: \"\", // Clear local search when URL params change\n          urlSearch: searchParam || \"\" // Store URL search separately\n        }));\n      }\n    } else if (searchParam) {\n      // If only search parameter is provided (from navbar search)\n      setActiveFilters(prev => ({\n        ...prev,\n        search: \"\", // Clear local search\n        urlSearch: searchParam, // Store URL search for API call\n        category_id: null\n      }));\n    }\n  }, [searchParams, categories]);\n\n  // Fetch products from API when non-search filters change\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        setLoading(true);\n        \n        // Build API parameters (exclude local search)\n        const params = {\n          page: currentPage,\n          limit: limit,\n          sort_by: sortBy,\n          sort_order: sortOrder\n        };\n\n        // Add URL search if present (from navbar)\n        if (activeFilters.urlSearch && activeFilters.urlSearch.trim()) {\n          params.search = activeFilters.urlSearch.trim();\n        }\n\n        // Add active filters to params (only if they have values)\n        if (activeFilters.category_id) {\n          params.category_id = activeFilters.category_id;\n        }\n        if (activeFilters.brand_id) {\n          params.brand_id = activeFilters.brand_id;\n        }\n        if (activeFilters.min_price > 0) {\n          params.min_price = activeFilters.min_price;\n        }\n        if (activeFilters.max_price < 10000) {\n          params.max_price = activeFilters.max_price;\n        }\n\n        console.log('Making products API request with params:', params);\n\n        const response = await productsBuyer.listProducts(params);\n        \n        console.log('Products API response:', response);\n        \n        // Store all products from API\n        setAllProducts(response.items || []);\n        setTotalResults(response.total || 0);\n        \n      } catch (error) {\n        console.error('Error fetching products:', error);\n        setAllProducts([]);\n        setTotalResults(0);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProducts();\n  }, [activeFilters.category_id, activeFilters.brand_id, activeFilters.min_price, activeFilters.max_price, activeFilters.urlSearch, sortBy, sortOrder, currentPage, limit]);\n\n  // Apply local search filtering to products\n  useEffect(() => {\n    if (!activeFilters.search || !activeFilters.search.trim()) {\n      // No local search, show all products\n      setProducts(allProducts);\n    } else {\n      // Apply local search filter\n      const searchTerm = activeFilters.search.toLowerCase().trim();\n      const filteredProducts = allProducts.filter(product => {\n        return (\n          product.name?.toLowerCase().includes(searchTerm) ||\n          product.description?.toLowerCase().includes(searchTerm) ||\n          product.category?.name?.toLowerCase().includes(searchTerm) ||\n          product.brand?.name?.toLowerCase().includes(searchTerm) ||\n          product.tags?.some(tag => tag.toLowerCase().includes(searchTerm))\n        );\n      });\n      setProducts(filteredProducts);\n    }\n  }, [allProducts, activeFilters.search]);\n\n  const handleProductClick = (product) => {\n    setSelectedProduct(product);\n    setIsModalOpen(true);\n  };\n\n  const closeModal = () => {\n    setSelectedProduct(null);\n    setIsModalOpen(false);\n  };\n\n  const handleFilterChange = (newFilters) => {\n    setActiveFilters(prev => ({\n      ...prev,\n      ...newFilters,\n      // Preserve search states unless explicitly overridden\n      search: newFilters.search !== undefined ? newFilters.search : prev.search,\n      urlSearch: newFilters.urlSearch !== undefined ? newFilters.urlSearch : prev.urlSearch\n    }));\n    setCurrentPage(1); // Reset to first page when filters change\n  };\n\n  const handleSearch = (searchQuery) => {\n    // For explore page, we search only among currently displayed products (local search)\n    setActiveFilters(prev => ({\n      ...prev,\n      search: searchQuery, // Local search within current products\n      urlSearch: \"\" // Clear URL search when doing local search\n    }));\n    setCurrentPage(1); // Reset to first page when searching\n  };\n\n  const handleSuggestionSelect = (suggestion) => {\n    // Handle different types of suggestions\n    if (typeof suggestion === 'object' && suggestion.type) {\n      switch (suggestion.type) {\n        case 'category':\n          setActiveFilters(prev => ({\n            ...prev,\n            category_id: suggestion.id,\n            search: '',\n            urlSearch: ''\n          }));\n          break;\n        case 'brand':\n          setActiveFilters(prev => ({\n            ...prev,\n            brand_id: suggestion.id,\n            search: '',\n            urlSearch: ''\n          }));\n          break;\n        default:\n          handleSearch(suggestion.text || suggestion);\n      }\n    } else {\n      handleSearch(suggestion.text || suggestion);\n    }\n  };\n\n  const handleSortChange = (newSort) => {\n    // Extract sort_by and sort_order from the sort value\n    if (newSort === \"latest\") {\n      setSortBy(\"created_at\");\n      setSortOrder(\"desc\");\n    } else if (newSort === \"price_low\") {\n      setSortBy(\"price\");\n      setSortOrder(\"asc\");\n    } else if (newSort === \"price_high\") {\n      setSortBy(\"price\");\n      setSortOrder(\"desc\");\n    } else if (newSort === \"name\") {\n      setSortBy(\"name\");\n      setSortOrder(\"asc\");\n    } else {\n      setSortBy(\"created_at\");\n      setSortOrder(\"desc\");\n    }\n    setCurrentPage(1); // Reset to first page when sort changes\n  };\n\n  return (\n    <div className=\"min-h-screen\">\n      {/* Navigation */}\n      <Navbar />\n      \n      {/* Main Content Wrapper */}\n      <div className=\"relative\">\n        {/* Fixed Sidebar Filters - Only visible until footer starts */}\n        <div className=\"hidden lg:block fixed left-0 top-[76px] w-80 bg-white border-r border-gray-200 z-10 overflow-hidden\" \n             style={{ height: 'calc(100vh - 76px)' }}>\n          <div className=\"h-full overflow-y-auto scrollbar-hide pb-4\">\n            <ExploreFilters \n              activeFilters={activeFilters}\n              onFilterChange={handleFilterChange}\n              categories={categories}\n              brands={brands}\n              loading={loading}\n            />\n          </div>\n          <style jsx global>{`\n            .scrollbar-hide {\n              -ms-overflow-style: none;\n              scrollbar-width: none;\n            }\n            .scrollbar-hide::-webkit-scrollbar {\n              display: none;\n            }\n          `}</style>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"lg:ml-80 relative z-0\">\n          <div className=\"pt-[12px]\"> \n            {/* Header Section with Filter Button and Sort */}\n            <ExploreHeader \n              sortBy={`${sortBy}_${sortOrder}`}\n              onSortChange={handleSortChange}\n              onToggleFilters={() => setShowFilters(!showFilters)}\n              resultsCount={totalResults}\n              loading={loading}\n            />\n\n            {/* Search Bar Section */}\n            <div className=\"px-4 pb-6\">\n              <SearchBar\n                placeholder=\"Search for sustainable products...\"\n                onSearch={handleSearch}\n                onSuggestionSelect={handleSuggestionSelect}\n                value={activeFilters.search}\n                className=\"max-w-2xl mx-auto\"\n              />\n            </div>\n\n            {/* Product Grid */}\n            <div className=\"px-4 pt-0 pb-4\">\n              {loading ? (\n                <div className=\"flex justify-center items-center py-12\">\n                  <div className=\"text-gray-500\">Loading products...</div>\n                </div>\n              ) : products.length > 0 ? (\n                <>\n                  <ExploreProductGrid \n                    products={products} \n                    loading={loading}\n                    onProductClick={handleProductClick}\n                  />\n                  \n                  {/* Show additional recommendations when browsing (not searching) */}\n                  {!activeFilters.search && (\n                    <div className=\"mt-16 mb-12\">\n                      <ProductRecommendations \n                        type=\"trending\" \n                        limit={8}\n                        title=\"Trending Products\"\n                        className=\"mb-12\"\n                      />\n                      <ProductRecommendations \n                        type=\"new-arrivals\" \n                        limit={8}\n                        title=\"New Arrivals\"\n                        className=\"mb-12\"\n                      />\n                    </div>\n                  )}\n                </>\n              ) : (\n                <div className=\"py-12\">\n                  <div className=\"text-center mb-12\">\n                    <div className=\"text-gray-500 mb-4\">\n                      <svg className=\"w-16 h-16 mx-auto mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                      </svg>\n                    </div>\n                    <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">No products found</h3>\n                    <p className=\"text-gray-600 mb-6\">\n                      {activeFilters.search \n                        ? `No results for \"${activeFilters.search}\". Try adjusting your search or filters.`\n                        : \"Try adjusting your filters to find what you're looking for.\"\n                      }\n                    </p>\n                    {activeFilters.search && (\n                      <button\n                        onClick={() => handleSearch('')}\n                        className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n                      >\n                        Clear search\n                      </button>\n                    )}\n                  </div>\n                  \n                  {/* Show recommendations when no products found */}\n                  <ProductRecommendations \n                    type=\"trending\" \n                    limit={8}\n                    title=\"You might like these trending products\"\n                    className=\"mb-12\"\n                  />\n                </div>\n              )}\n            </div>\n\n            {/* Newsletter Subscription */}\n            <NewsletterSubscription />\n            \n            {/* Footer */}\n            <Footer />\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile Filter Overlay */}\n      {showFilters && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 lg:hidden\">\n          <div className=\"fixed left-0 top-0 h-full w-80 bg-white overflow-y-auto\">\n            <div className=\"flex justify-between items-center p-4 border-b\">\n              <h2 className=\"text-lg font-medium\">Filters</h2>\n              <button \n                onClick={() => setShowFilters(false)}\n                className=\"text-gray-500 hover:text-gray-700\"\n              >\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            <ExploreFilters \n              activeFilters={activeFilters}\n              onFilterChange={handleFilterChange}\n              categories={categories}\n              brands={brands}\n              loading={loading}\n            />\n          </div>\n        </div>\n      )}\n\n      {/* Product Quick View Modal */}\n      {isModalOpen && selectedProduct && (\n        <ProductQuickView \n          product={selectedProduct}\n          onClose={closeModal}\n        />\n      )}\n    </div>\n  );\n}\n\n// Main component with Suspense wrapper\nexport default function ExplorePage() {\n  return (\n    <Suspense fallback={<ExplorePageFallback />}>\n      <ExplorePageContent />\n    </Suspense>\n  );\n}\n","path":null,"size_bytes":15851,"size_tokens":null},"src/components/vendor/AnalyticsContent.jsx":{"content":"import Card, { CardContent, CardHeader } from \"../ui/Card\";\n\nexport default function AnalyticsContent() {\n  return (\n    <div className=\"p-4 sm:p-6\">\n      <div className=\"bg-white rounded-lg border border-gray-200 p-4 sm:p-6\">\n        <h2 className=\"text-lg sm:text-xl font-bold mb-4\">Analytics & Reports</h2>\n        <p className=\"text-sm sm:text-base text-gray-600\">View your sales analytics and reports here.</p>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":448,"size_tokens":null},"src/lib/onboardingService.js":{"content":"import api, { uploadRequest } from './api';\n\nclass OnboardingService {\n  constructor() {\n    this.cache = new Map();\n    this.cacheTimeout = 10 * 60 * 1000; // 10 minutes\n  }\n\n  // Cache management\n  setCache(key, data) {\n    this.cache.set(key, {\n      data,\n      timestamp: Date.now()\n    });\n  }\n\n  getCache(key) {\n    const cached = this.cache.get(key);\n    if (cached && (Date.now() - cached.timestamp) < this.cacheTimeout) {\n      return cached.data;\n    }\n    this.cache.delete(key);\n    return null;\n  }\n\n  // Get onboarding status\n  async getOnboardingStatus() {\n    try {\n      const response = await api.supplierOnboarding.getStatus();\n      return response.data;\n    } catch (error) {\n      console.error('Error fetching onboarding status:', error);\n      throw error;\n    }\n  }\n\n  // Submit basic information (Step 1)\n  async submitBasicInfo(data) {\n    try {\n      const response = await api.supplierOnboarding.createBusiness(data);\n      \n      // Clear status cache\n      this.clearStatusCache();\n      \n      return response;\n    } catch (error) {\n      console.error('Error submitting basic info:', error);\n      throw error;\n    }\n  }\n\n  // Submit business profile (Step 2)\n  async submitBusinessProfile(data) {\n    try {\n      const response = await api.supplierOnboarding.updateBusiness(data);\n      \n      // Clear status cache\n      this.clearStatusCache();\n      \n      return response;\n    } catch (error) {\n      console.error('Error submitting business profile:', error);\n      throw error;\n    }\n  }\n\n  // Submit product information (Step 3)\n  async submitProductInfo(data) {\n    try {\n      const response = await api.supplierOnboarding.completeOnboarding(data);\n      \n      // Clear status cache\n      this.clearStatusCache();\n      \n      return response;\n    } catch (error) {\n      console.error('Error submitting product info:', error);\n      throw error;\n    }\n  }\n\n  // Submit inventory details (Step 4)\n  async submitInventoryDetails(data) {\n    try {\n      const response = await api.supplierOnboarding.completeOnboarding(data);\n      \n      // Clear status cache\n      this.clearStatusCache();\n      \n      return response;\n    } catch (error) {\n      console.error('Error submitting inventory details:', error);\n      throw error;\n    }\n  }\n\n  // Submit sustainability info (Step 5)\n  async submitSustainabilityInfo(data) {\n    try {\n      const response = await api.supplierOnboarding.completeOnboarding(data);\n      \n      // Clear status cache\n      this.clearStatusCache();\n      \n      return response;\n    } catch (error) {\n      console.error('Error submitting sustainability info:', error);\n      throw error;\n    }\n  }\n\n  // Complete onboarding\n  async completeOnboarding() {\n    try {\n      const response = await api.supplierOnboarding.completeOnboarding({});\n      \n      // Clear all caches\n      this.clearCache();\n      \n      return response;\n    } catch (error) {\n      console.error('Error completing onboarding:', error);\n      throw error;\n    }\n  }\n\n  // Get business information for pre-filling forms\n  async getBusinessInfo() {\n    try {\n      const cacheKey = 'business_info';\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const response = await api.supplierOnboarding.getBusiness();\n      const businessInfo = response.data;\n      \n      this.setCache(cacheKey, businessInfo);\n      return businessInfo;\n    } catch (error) {\n      console.error('Error fetching business info:', error);\n      return null;\n    }\n  }\n\n  // Upload file for onboarding\n  async uploadFile(file, type) {\n    try {\n      const formData = new FormData();\n      formData.append('file', file);\n      formData.append('type', type);\n\n      const response = await uploadRequest('/files/upload', { formData });\n      return response.data;\n    } catch (error) {\n      console.error('Error uploading file:', error);\n      throw error;\n    }\n  }\n\n  // Upload logo\n  async uploadLogo(file) {\n    return this.uploadFile(file, 'company_logo');\n  }\n\n  // Upload banner\n  async uploadBanner(file) {\n    return this.uploadFile(file, 'company_banner');\n  }\n\n  // Upload business document\n  async uploadBusinessDocument(file) {\n    return this.uploadFile(file, 'business_document');\n  }\n\n  // Clear status-related caches\n  clearStatusCache() {\n    this.cache.delete('onboarding_status');\n    this.cache.delete('business_info');\n  }\n\n  // Clear all caches\n  clearCache() {\n    this.cache.clear();\n  }\n}\n\n// Create and export singleton instance\nexport const onboardingService = new OnboardingService();\n","path":null,"size_bytes":4567,"size_tokens":null},"src/app/contactus/page.jsx":{"content":"import React from 'react';\n\nexport const metadata = {\n  title: 'Contact Us - AveoEarth',\n  description: 'Get in touch with AveoEarth Impact Private Limited. Find our contact information, support details, and grievance redressal information.',\n};\n\nexport default function ContactUsPage() {\n  return (\n    <div className=\"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-4xl mx-auto\">\n        {/* Header */}\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">Contact Us</h1>\n          <p className=\"text-lg text-gray-600\">\n            We're here to help you with any questions or concerns about our sustainable products.\n          </p>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8 mb-8\">\n          {/* Business Information */}\n          <div className=\"mb-8\">\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-6\">Business Information</h2>\n            <div className=\"space-y-4\">\n              <div>\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Business Name</h3>\n                <p className=\"text-gray-700\">AveoEarth Impact Private Limited</p>\n              </div>\n\n              <div>\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Registered & Operational Address</h3>\n                <p className=\"text-gray-700\">C-129, Sector 26, Noida, Uttar Pradesh, 201301</p>\n              </div>\n            </div>\n          </div>\n\n          {/* Contact Information */}\n          <div className=\"mb-8\">\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-6\">Contact Information</h2>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Phone</h3>\n                <p className=\"text-gray-700\">+91-99100 77670</p>\n              </div>\n\n              <div>\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Support Email</h3>\n                <p className=\"text-gray-700\">support@aveoearth.com</p>\n              </div>\n\n              <div className=\"md:col-span-2\">\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Support Hours</h3>\n                <p className=\"text-gray-700\">Mon–Sat, 10:00–18:00 IST (excluding public holidays)</p>\n              </div>\n            </div>\n          </div>\n\n          {/* Grievance Redressal */}\n          <div className=\"mb-8\">\n            <h2 className=\"text-2xl font-semibold text-gray-900 mb-6\">\n              Grievance Redressal (Consumer Protection (E-Commerce) Rules, 2020)\n            </h2>\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-6\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Grievance Officer</h3>\n                  <p className=\"text-gray-700 mb-4\">Anand B</p>\n\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Email</h3>\n                  <p className=\"text-gray-700 mb-4\">grievance@aveoearth.com</p>\n\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Phone</h3>\n                  <p className=\"text-gray-700\">+91-99100 77670</p>\n                </div>\n\n                <div>\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Response Timeline</h3>\n                  <div className=\"space-y-2\">\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-700\">Acknowledgement:</span>\n                      <span className=\"text-gray-700 font-medium\">within 48 hours</span>\n                    </div>\n                    <div className=\"flex justify-between\">\n                      <span className=\"text-gray-700\">Resolution:</span>\n                      <span className=\"text-gray-700 font-medium\">within 1 month</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Last Updated */}\n          <div className=\"text-center text-sm text-gray-500 border-t pt-6\">\n            Last updated: 11-09-2025\n          </div>\n        </div>\n\n        {/* Additional Help Section */}\n        <div className=\"bg-white rounded-lg shadow-lg p-8\">\n          <h2 className=\"text-2xl font-semibold text-gray-900 mb-4\">Need Help?</h2>\n          <p className=\"text-gray-600 mb-6\">\n            If you have any questions about our products, orders, or need assistance with anything else,\n            please don't hesitate to reach out to us using the contact information above.\n          </p>\n          <div className=\"text-center\">\n            <p className=\"text-sm text-gray-500\">\n              We're committed to providing excellent customer service and ensuring your satisfaction\n              with our sustainable products.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":5079,"size_tokens":null},"src/app/account/dashboard/page.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from 'next/navigation';\nimport Navbar from \"../../../components/layout/Navbar\";\nimport Footer from \"../../../components/layout/Footer\";\nimport NewsletterSubscription from \"../../../components/explore/NewsletterSubscription\";\nimport { useAuth } from \"../../../hooks/useAuth\";\nimport { useOrders } from \"../../../hooks/useOrders\";\nimport { useCart } from \"../../../hooks/useCart\";\n\n// Order status badge component\nconst StatusBadge = ({ status }) => {\n  const getStatusStyles = () => {\n    switch (status?.toLowerCase()) {\n      case 'pending':\n        return 'bg-[#cecece] text-black';\n      case 'confirmed':\n        return 'bg-black text-white';\n      case 'shipped':\n        return 'bg-[#f1f1f1] text-black';\n      case 'delivered':\n        return 'bg-green-100 text-green-800';\n      case 'cancelled':\n        return 'bg-red-100 text-red-800';\n      default:\n        return 'bg-gray-200 text-gray-800';\n    }\n  };\n\n  return (\n    <div className={`px-2 py-1 rounded text-[10px] font-poppins font-medium ${getStatusStyles()}`}>\n      {status || 'Unknown'}\n    </div>\n  );\n};\n\n// Order item component\nconst OrderItem = ({ order, onViewDetails }) => {\n  // Format order data to handle different API response structures\n  const formatOrderData = (order) => {\n    console.log('OrderItem formatOrderData: Processing order:', order);\n    const formatted = {\n      id: order.order_number || order.id || order.order_id || 'N/A',\n      vendor: order.supplier_name || order.vendor_name || 'Unknown Vendor',\n      products: order.items ? \n        order.items.map(item => item.product_name || item.name).join(', ') :\n        `${order.items_count || 1} item${order.items_count !== 1 ? 's' : ''}`,\n      status: order.status || 'pending',\n      date: order.created_at ? \n        new Date(order.created_at).toLocaleDateString('en-GB', {\n          day: 'numeric',\n          month: 'long', \n          year: 'numeric'\n        }) : \n        'Unknown date',\n      amount: order.total_amount || order.total || 0,\n      image: order.items?.[0]?.image || '/spoons.png'\n    };\n    console.log('OrderItem formatOrderData: Formatted order:', formatted);\n    return formatted;\n  };\n\n  const formattedOrder = formatOrderData(order);\n\n  return (\n    <div className=\"bg-white border border-[#989898] rounded-[14px] p-4 mb-4\">\n      <div className=\"flex items-center justify-between\">\n        {/* Product Image */}\n        <div className=\"w-[58px] h-[58px] bg-gray-200 rounded-[4px] overflow-hidden mr-4\">\n          <img \n            src={formattedOrder.image} \n            alt={formattedOrder.products}\n            className=\"w-full h-full object-cover\"\n            onError={(e) => {\n              e.target.src = '/spoons.png'; // Fallback image\n            }}\n          />\n        </div>\n\n        {/* Order Details */}\n        <div className=\"flex-1 space-y-2\">\n          <div className=\"flex items-center gap-4\">\n            <span className=\"font-poppins font-medium text-black text-[14px]\">\n              #{formattedOrder.id}\n            </span>\n            <StatusBadge status={formattedOrder.status} />\n          </div>\n\n          <div className=\"text-[#8b8b8b] font-poppins font-medium text-[12px]\">\n            {formattedOrder.vendor}\n          </div>\n\n          <div className=\"text-black font-poppins font-medium text-[12px]\">\n            {formattedOrder.products}\n          </div>\n        </div>\n\n        {/* Date and Amount */}\n        <div className=\"text-right space-y-2\">\n          <div className=\"text-[#8b8b8b] font-poppins font-medium text-[12px]\">\n            {formattedOrder.date}\n          </div>\n          <div className=\"text-black font-poppins font-medium text-[14px]\">\n            ₹{formattedOrder.amount}\n          </div>\n        </div>\n\n        {/* View Detail Button */}\n        <div className=\"ml-4\">\n          <button \n            onClick={() => onViewDetails(formattedOrder)}\n            className=\"bg-white border border-[#666666] rounded-[5px] px-3 py-2 text-black font-poppins font-regular text-[12px] hover:bg-gray-50 transition-colors\"\n          >\n            View Detail\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Pagination component\nconst Pagination = ({ totalPages = 1, currentPage = 1, onPageChange }) => {\n  const getVisiblePages = () => {\n    const pages = [];\n    if (currentPage > 1) pages.push(currentPage - 1);\n    pages.push(currentPage);\n    if (currentPage < totalPages) pages.push(currentPage + 1);\n    return pages;\n  };\n\n  if (totalPages <= 1) return null;\n\n  return (\n    <div className=\"flex items-center justify-center gap-3 mt-8\">\n      {/* Previous Button */}\n      <button \n        className=\"bg-[#f2f2f2] p-2 rounded-full\"\n        onClick={() => onPageChange && onPageChange(Math.max(1, currentPage - 1))}\n        disabled={currentPage === 1}\n      >\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" className=\"rotate-90\">\n          <path d=\"M7.5 5L12.5 10L7.5 15\" stroke=\"#666\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n        </svg>\n      </button>\n\n      {/* Page Numbers */}\n      <div className=\"flex items-center gap-1\">\n        {getVisiblePages().map((page) => (\n          <button\n            key={page}\n            onClick={() => onPageChange && onPageChange(page)}\n            className={`w-9 h-9 rounded-full text-[16px] font-poppins font-medium transition-colors ${\n              page === currentPage \n                ? 'bg-black text-white' \n                : 'bg-[#e9eceb] text-[#666666] hover:bg-gray-300'\n            }`}\n          >\n            {page}\n          </button>\n        ))}\n        \n        {currentPage < totalPages - 2 && (\n          <>\n            <span className=\"bg-[#e9eceb] w-9 h-9 rounded-full flex items-center justify-center text-[#666666] font-poppins\">\n              ...\n            </span>\n            <button\n              onClick={() => onPageChange && onPageChange(totalPages)}\n              className=\"bg-[#e9eceb] text-[#666666] hover:bg-gray-300 w-9 h-9 rounded-full text-[16px] font-poppins font-regular transition-colors\"\n            >\n              {totalPages}\n            </button>\n          </>\n        )}\n      </div>\n\n      {/* Next Button */}\n      <button \n        className=\"bg-[#e9eceb] border border-[#e6e6e6] p-2 rounded-full\"\n        onClick={() => onPageChange && onPageChange(Math.min(totalPages, currentPage + 1))}\n        disabled={currentPage === totalPages}\n      >\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" className=\"-rotate-90\">\n          <path d=\"M7.5 5L12.5 10L7.5 15\" stroke=\"#666\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n        </svg>\n      </button>\n    </div>\n  );\n};\n\nexport default function BuyerDashboard() {\n  const router = useRouter();\n  const { userProfile, isLoggedIn, isLoading, getUserName } = useAuth();\n  const { orders, pagination, loading: ordersLoading, loadOrders } = useOrders();\n  const { cart, cartCount, loading: cartLoading, loadCart } = useCart();\n  \n  const [selectedMonth, setSelectedMonth] = useState(\"October\");\n  const [recentOrders, setRecentOrders] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  // Redirect to login if not authenticated\n  useEffect(() => {\n    if (!isLoading && !isLoggedIn) {\n      router.push('/login');\n    }\n  }, [isLoading, isLoggedIn, router]);\n\n  // Load user orders when component mounts or page changes\n  useEffect(() => {\n    if (isLoggedIn && userProfile) {\n      console.log('Dashboard: Loading user orders and cart...');\n      loadUserOrders(currentPage);\n      loadCart();\n    }\n  }, [isLoggedIn, userProfile, currentPage]);\n\n  const loadUserOrders = async (page = 1) => {\n    try {\n      console.log('Dashboard: Calling loadOrders with page:', page);\n      await loadOrders(page);\n      console.log('Dashboard: Orders loaded:', orders);\n    } catch (error) {\n      console.error('Dashboard: Failed to load orders:', error);\n    }\n  };\n\n  // Filter and prepare recent orders (last 5)\n  useEffect(() => {\n    console.log('Dashboard: Processing orders for display:', orders);\n    if (orders && orders.length > 0) {\n      const sortedOrders = [...orders].sort((a, b) => \n        new Date(b.created_at) - new Date(a.created_at)\n      );\n      const recent = sortedOrders.slice(0, 5);\n      console.log('Dashboard: Recent orders:', recent);\n      setRecentOrders(recent);\n    } else {\n      console.log('Dashboard: No orders to display');\n      setRecentOrders([]);\n    }\n  }, [orders]);\n\n  // Get user data from auth\n  const userData = {\n    name: getUserName(),\n    role: userProfile?.user_type === 'supplier' ? 'Vendor' : 'Customer',\n    email: userProfile?.email || 'N/A',\n    phone: userProfile?.phone || userProfile?.mobile || 'N/A',\n    address: userProfile?.address || 'Address not provided',\n    avatar: userProfile?.avatar || userProfile?.profile_image || \"/sample1.jpg\"\n  };\n\n  const handlePageChange = (page) => {\n    setCurrentPage(page);\n  };\n\n  const handleViewDetails = (order) => {\n    console.log('handleViewDetails: Processing order:', order);\n    // Navigate to order details page using the order ID\n    const orderId = order.id || order.order_id;\n    if (orderId) {\n      router.push(`/account/orders/${orderId}`);\n    } else {\n      console.error('No order ID found for navigation');\n    }\n  };\n\n  // Show loading state\n  if (isLoading || ordersLoading || cartLoading) {\n    return (\n      <div className=\"min-h-screen\">\n        <Navbar />\n        <div className=\"flex justify-center items-center py-12\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900\"></div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  // Show login redirect if not authenticated\n  if (!isLoggedIn) {\n    return null;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[#e1e4e3]\">\n      <Navbar />\n      \n      {/* Main Content */}\n      <div className=\"px-4 sm:px-6 lg:px-16 xl:px-[62px] pb-8\">\n        <div className=\"max-w-[1440px] mx-auto\">\n          \n          {/* Profile Section */}\n          <div className=\"flex flex-col lg:flex-row gap-6 mb-8\">\n            {/* Left Column - Profile Card */}\n            <div className=\"bg-white border border-[#e6e6e6] rounded-[8px] p-8 flex-1\">\n              <div className=\"flex flex-col sm:flex-row items-center gap-6\">\n                {/* Profile Image */}\n                <div className=\"w-[120px] h-[120px] rounded-full overflow-hidden flex-shrink-0\">\n                  <img \n                    src={userData.avatar} \n                    alt={userData.name}\n                    className=\"w-full h-full object-cover\"\n                  />\n                </div>\n\n                {/* Profile Info */}\n                <div className=\"flex-1 text-center sm:text-left\">\n                  <h1 className=\"font-poppins font-medium text-[#1a1a1a] text-[20px] leading-[1.5] mb-1\">\n                    {userData.name}\n                  </h1>\n                  <p className=\"font-poppins font-regular text-[14px] text-gray-500 mb-4\">\n                    {userData.role}\n                  </p>\n                  \n                  <div className=\"space-y-2 text-left\">\n                    <p className=\"font-poppins font-regular text-[#666666] text-[14px]\">\n                      {userData.address}\n                    </p>\n                    <p className=\"font-poppins font-regular text-[#1a1a1a] text-[16px]\">\n                      {userData.email}\n                    </p>\n                    <p className=\"font-poppins font-regular text-[#1a1a1a] text-[16px]\">\n                      {userData.phone}\n                    </p>\n                  </div>\n\n                  <button className=\"mt-4 bg-[#272727] hover:bg-[#1a1a1a] text-white font-poppins font-semibold text-[12.8px] px-8 py-[12.8px] rounded-[34.4px] transition-colors\">\n                    Edit Profile\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {/* Right Column - Quick Stats */}\n            <div className=\"flex flex-col gap-4 lg:w-[291px]\">\n              {/* Shopping Cart */}\n              <div className=\"bg-white border border-[#e6e6e6] rounded-[8px] p-4 min-h-[200px] flex flex-col\">\n                <div className=\"flex items-center justify-between mb-3\">\n                  <h3 className=\"font-nunito font-semibold text-[#272727] text-[14px] tracking-[0.3px]\">\n                    Shopping Cart ({cartCount || 0})\n                  </h3>\n                  <button \n                    onClick={() => router.push('/cart')}\n                    className=\"text-[#666666] hover:text-black text-sm font-medium\"\n                  >\n                    View All\n                  </button>\n                </div>\n                \n                {cartLoading ? (\n                  <div className=\"flex justify-center py-8 flex-1\">\n                    <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900\"></div>\n                  </div>\n                ) : cart?.items && cart.items.length > 0 ? (\n                  <div className=\"space-y-3 flex-1\">\n                    {cart.items.slice(0, 3).map((item, index) => (\n                      <div key={item.id || index} className=\"flex items-center gap-3\">\n                        <div className=\"w-8 h-8 bg-gray-200 rounded flex-shrink-0 overflow-hidden\">\n                          <img \n                            src={item.product?.image || item.product?.images?.[0]?.url || item.image || '/spoons.png'} \n                            alt={item.product?.name || item.product_name || 'Product'}\n                            className=\"w-full h-full object-cover\"\n                            onError={(e) => {\n                              e.target.src = '/spoons.png';\n                            }}\n                          />\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <p className=\"text-xs font-medium text-gray-900 truncate\">\n                            {item.product?.name || item.product_name || 'Product'}\n                          </p>\n                          <p className=\"text-xs text-gray-500\">\n                            Qty: {item.quantity}\n                          </p>\n                        </div>\n                        <div className=\"text-xs font-medium text-gray-900\">\n                          ₹{item.total_price || (item.unit_price * item.quantity) || 0}\n                        </div>\n                      </div>\n                    ))}\n                    {cart.items.length > 3 && (\n                      <p className=\"text-xs text-gray-500 text-center\">\n                        +{cart.items.length - 3} more items\n                      </p>\n                    )}\n                  </div>\n                ) : (\n                  <div className=\"text-center py-8 flex-1 flex flex-col justify-center\">\n                    <p className=\"text-sm text-gray-500 mb-2\">Your cart is empty</p>\n                    <button\n                      onClick={() => router.push('/explore')}\n                      className=\"text-xs bg-black text-white px-3 py-1 rounded hover:bg-gray-800 transition-colors\"\n                    >\n                      Start Shopping\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Orders Section */}\n          <div className=\"bg-white border border-[#c6c6c6] rounded-[14px] p-6\">\n            {/* Section Header */}\n            <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4\">\n              <div>\n                <h2 className=\"font-inter font-semibold text-black text-[16px] mb-2\">\n                  Recent Orders\n                </h2>\n                <p className=\"font-inter font-medium text-[#909090] text-[15px]\">\n                  Your Latest Customer Orders\n                </p>\n              </div>\n\n              {/* Month Selector */}\n              <div className=\"relative\">\n                <select \n                  value={selectedMonth}\n                  onChange={(e) => setSelectedMonth(e.target.value)}\n                  className=\"bg-[#fcfdfd] border border-[#818181] rounded-[4px] px-3 py-2 text-[12px] text-[rgba(0,0,0,0.4)] font-reem appearance-none pr-8\"\n                >\n                  <option value=\"October\">October</option>\n                  <option value=\"September\">September</option>\n                  <option value=\"August\">August</option>\n                </select>\n                <div className=\"absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none\">\n                  <svg width=\"12\" height=\"8\" viewBox=\"0 0 12 8\" fill=\"none\">\n                    <path d=\"M1 1L6 6L11 1\" stroke=\"#666\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                  </svg>\n                </div>\n              </div>\n            </div>\n\n            {/* Orders List */}\n            <div className=\"space-y-4\">\n              {console.log('Dashboard render: recentOrders:', recentOrders)}\n              {recentOrders.length > 0 ? (\n                recentOrders.map((order, index) => (\n                  <OrderItem key={order.id || index} order={order} onViewDetails={handleViewDetails} />\n                ))\n              ) : (\n                <div className=\"text-center py-8\">\n                  <p className=\"text-gray-500 text-sm mb-4\">No recent orders found</p>\n                  <button\n                    onClick={() => router.push('/explore')}\n                    className=\"bg-black text-white px-6 py-2 rounded-md text-sm font-medium hover:bg-gray-800 transition-colors\"\n                  >\n                    Start Shopping\n                  </button>\n                </div>\n              )}\n            </div>\n\n            {/* Pagination - only show if there are orders */}\n            {recentOrders.length > 0 && (\n              <Pagination \n                totalPages={pagination.pages || 1} \n                currentPage={currentPage} \n                onPageChange={handlePageChange} \n              />\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Newsletter Subscription */}\n      <NewsletterSubscription />\n\n      {/* Footer */}\n      <Footer />\n    </div>\n  );\n}\n","path":null,"size_bytes":18405,"size_tokens":null},"src/components/vendor/onboarding/OnboardingComplete.jsx":{"content":"import React from 'react';\nimport { useRouter } from \"next/navigation\";\n\n// Asset constants from Figma\nconst imgLogo3 = \"http://localhost:3845/assets/cc2c57284e93c0a5a705fddbf8410e50b1a53fce.png\";\nconst img = \"http://localhost:3845/assets/ecdcafc622789eb388f22eedef9c5c05e7a8a155.svg\";\nconst imgMaterialIconThemeParcel = \"http://localhost:3845/assets/5ad6dc85177310e9a2fcaa59ad4f13a9e103d058.svg\";\nconst imgAntDesignRiseOutlined = \"http://localhost:3845/assets/ab9f0193c0be826dee9569e7e5cc7e0c8eafc3a6.svg\";\nconst imgIconoirCommunity = \"http://localhost:3845/assets/d5b8d91b498071b0d1a2b5c5a4bd3327c1e79cd3.svg\";\nconst imgMaterialSymbolsRateReviewOutline = \"http://localhost:3845/assets/3aef9e432994211738cc75eb6a0f2efda7e60d55.svg\";\nconst imgEllipse4 = \"http://localhost:3845/assets/71f06434a1fe1fa08c77e66af9cdd3c93c797e66.svg\";\n\nexport default function OnboardingComplete() {\n  const router = useRouter();\n\n  const handleGoToDashboard = () => {\n    router.push(\"/vendor/dashboard\");\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white overflow-hidden\">\n      {/* Header with Logo */}\n      <div className=\"flex justify-center items-center pt-16 pb-6\">\n        <div className=\"flex items-center gap-3\">\n          <div \n            className=\"w-11 h-[42px] bg-contain bg-no-repeat bg-center\"\n            style={{ backgroundImage: `url('${imgLogo3}')` }}\n          />\n          <h1 className=\"font-reem text-[48px] text-black\">\n            AveoEarth\n          </h1>\n        </div>\n        {/* AveoEarth Buddy */}\n        <div className=\"absolute right-[179px] top-16\">\n          <div className=\"relative w-[90px] h-[90px]\">\n            <img \n              src={imgEllipse4} \n              alt=\"Aveo Buddy\" \n              className=\"w-full h-full object-contain\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Welcome Message */}\n      <div className=\"text-center mb-8 px-4\">\n        <h2 className=\"font-poppins text-[20px] md:text-[24px] text-black max-w-[924px] mx-auto leading-relaxed\">\n          Your all set !, Welcome to the AevoEarth sustainable marketplace community\n        </h2>\n      </div>\n\n      {/* Progress Bar - 100% Complete */}\n      <div className=\"max-w-[890px] mx-auto mb-12 px-4\">\n        <div className=\"flex justify-between items-center mb-3\">\n          <span className=\"font-poppins font-medium text-[14px] text-black\">\n            Account Setup\n          </span>\n          <span className=\"font-poppins font-medium text-[14px] text-black\">\n            100% Complete\n          </span>\n        </div>\n        <div className=\"w-full h-3 bg-[#d9f2e2] rounded-[20px]\">\n          <div className=\"h-full bg-[#217a54] rounded-[20px] w-full\" />\n        </div>\n      </div>\n\n      {/* Two Cards Section */}\n      <div className=\"max-w-[1167px] mx-auto px-4 flex flex-col lg:flex-row gap-6 lg:gap-8 justify-center items-stretch\">\n        {/* Onboarding Complete Card */}\n        <div className=\"bg-[#f8f8f8] rounded-[20px] border border-[#666666] p-6 lg:p-8 w-full lg:w-[515px] min-h-[371px] flex flex-col\">\n          <div className=\"mb-6\">\n            <h3 className=\"font-reem font-medium text-[18px] lg:text-[20px] text-black mb-3\">\n              Onboarding Complete\n            </h3>\n            <p className=\"font-poppins text-[12px] lg:text-[14px] text-[#717182]\">\n              Here's what you have accomplished\n            </p>\n          </div>\n\n          <div className=\"space-y-4 flex-1\">\n            {/* Account Setup */}\n            <div className=\"flex items-start gap-3\">\n              <div \n                className=\"w-6 h-6 lg:w-7 lg:h-7 bg-[#1b6145] flex-shrink-0 mt-0.5\"\n                style={{\n                  maskImage: `url('${img}')`,\n                  maskSize: '18px 18px',\n                  maskPosition: '2px 2px',\n                  maskRepeat: 'no-repeat'\n                }}\n              />\n              <div className=\"flex-1 min-w-0\">\n                <h4 className=\"font-poppins font-medium text-[12px] lg:text-[14px] text-black\">\n                  Account Setup\n                </h4>\n                <p className=\"font-poppins text-[10px] lg:text-[12px] text-[#666666] mt-1 leading-relaxed\">\n                  Basic Business Information\n                </p>\n              </div>\n            </div>\n\n            {/* Business Profile */}\n            <div className=\"flex items-start gap-3\">\n              <div \n                className=\"w-6 h-6 lg:w-7 lg:h-7 bg-[#1b6145] flex-shrink-0 mt-0.5\"\n                style={{\n                  maskImage: `url('${img}')`,\n                  maskSize: '18px 18px',\n                  maskPosition: '2px 2px',\n                  maskRepeat: 'no-repeat'\n                }}\n              />\n              <div className=\"flex-1 min-w-0\">\n                <h4 className=\"font-poppins font-medium text-[12px] lg:text-[14px] text-black\">\n                  Business Profile\n                </h4>\n                <p className=\"font-poppins text-[10px] lg:text-[12px] text-[#666666] mt-1 leading-relaxed\">\n                  Sustainability details and certifications\n                </p>\n              </div>\n            </div>\n\n            {/* First Product */}\n            <div className=\"flex items-start gap-3\">\n              <div \n                className=\"w-6 h-6 lg:w-7 lg:h-7 bg-[#1b6145] flex-shrink-0 mt-0.5\"\n                style={{\n                  maskImage: `url('${img}')`,\n                  maskSize: '18px 18px',\n                  maskPosition: '2px 2px',\n                  maskRepeat: 'no-repeat'\n                }}\n              />\n              <div className=\"flex-1 min-w-0\">\n                <h4 className=\"font-poppins font-medium text-[12px] lg:text-[14px] text-black\">\n                  First Product\n                </h4>\n                <p className=\"font-poppins text-[10px] lg:text-[12px] text-[#666666] mt-1 leading-relaxed\">\n                  Product Information and Eco-story\n                </p>\n              </div>\n            </div>\n\n            {/* Ready to Sell */}\n            <div className=\"flex items-start gap-3\">\n              <div \n                className=\"w-6 h-6 lg:w-7 lg:h-7 bg-[#1b6145] flex-shrink-0 mt-0.5\"\n                style={{\n                  maskImage: `url('${img}')`,\n                  maskSize: '18px 18px',\n                  maskPosition: '2px 2px',\n                  maskRepeat: 'no-repeat'\n                }}\n              />\n              <div className=\"flex-1 min-w-0\">\n                <h4 className=\"font-poppins font-medium text-[12px] lg:text-[14px] text-black\">\n                  Ready to Sell !\n                </h4>\n                <p className=\"font-poppins text-[10px] lg:text-[12px] text-[#666666] mt-1 leading-relaxed\">\n                  You are now a part of Evo Earth Community\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* What's Next Card */}\n        <div className=\"bg-[#f8f8f8] rounded-[20px] border border-[#666666] p-6 lg:p-8 w-full lg:w-[515px] min-h-[371px] flex flex-col\">\n          <div className=\"mb-6\">\n            <h3 className=\"font-reem font-medium text-[18px] lg:text-[20px] text-black mb-3\">\n              What's Next\n            </h3>\n            <p className=\"font-poppins text-[12px] lg:text-[14px] text-[#717182]\">\n              Here's what you can do from your Dashboard\n            </p>\n          </div>\n\n          <div className=\"space-y-4 flex-1\">\n            {/* Manage Products */}\n            <div className=\"flex items-start gap-3\">\n              <div className=\"w-6 h-6 lg:w-7 lg:h-7 flex-shrink-0 mt-0.5\">\n                <img \n                  src={imgMaterialIconThemeParcel} \n                  alt=\"Manage Products\" \n                  className=\"w-full h-full object-contain\"\n                />\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <h4 className=\"font-poppins font-medium text-[12px] lg:text-[14px] text-black\">\n                  Manage Products\n                </h4>\n                <p className=\"font-poppins text-[10px] lg:text-[12px] text-[#666666] mt-1 leading-relaxed\">\n                  Add more Products, Update existing listings\n                </p>\n              </div>\n            </div>\n\n            {/* Track Performance */}\n            <div className=\"flex items-start gap-3\">\n              <div className=\"w-6 h-6 lg:w-7 lg:h-7 flex-shrink-0 mt-0.5\">\n                <img \n                  src={imgAntDesignRiseOutlined} \n                  alt=\"Track Performance\" \n                  className=\"w-full h-full object-contain\"\n                />\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <h4 className=\"font-poppins font-medium text-[12px] lg:text-[14px] text-black\">\n                  Track Performance\n                </h4>\n                <p className=\"font-poppins text-[10px] lg:text-[12px] text-[#666666] mt-1 leading-relaxed\">\n                  Monitor sales, analyze trends\n                </p>\n              </div>\n            </div>\n\n            {/* Connect with Community */}\n            <div className=\"flex items-start gap-3\">\n              <div className=\"w-6 h-6 lg:w-7 lg:h-7 flex-shrink-0 mt-0.5\">\n                <img \n                  src={imgIconoirCommunity} \n                  alt=\"Connect with Community\" \n                  className=\"w-full h-full object-contain\"\n                />\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <h4 className=\"font-poppins font-medium text-[12px] lg:text-[14px] text-black\">\n                  Connect with Community\n                </h4>\n                <p className=\"font-poppins text-[10px] lg:text-[12px] text-[#666666] mt-1 leading-relaxed\">\n                  Engage with other sustainable suppliers\n                </p>\n              </div>\n            </div>\n\n            {/* Application Under Review */}\n            <div className=\"flex items-start gap-3\">\n              <div className=\"w-6 h-6 lg:w-7 lg:h-7 flex-shrink-0 mt-0.5\">\n                <img \n                  src={imgMaterialSymbolsRateReviewOutline} \n                  alt=\"Application Under Review\" \n                  className=\"w-full h-full object-contain\"\n                />\n              </div>\n              <div className=\"flex-1 min-w-0\">\n                <h4 className=\"font-poppins font-medium text-[12px] lg:text-[14px] text-black\">\n                  Application Under Review\n                </h4>\n                <p className=\"font-poppins text-[10px] lg:text-[12px] text-[#666666] mt-1 leading-relaxed\">\n                  Your application is under review. Check your profile.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Dashboard Awaits Section */}\n      <div className=\"max-w-[1082px] mx-auto mt-8 lg:mt-12 px-4 pb-8\">\n        <div className=\"bg-[#f1f5ff] rounded-[20px] border-[0.5px] border-black p-6 lg:p-9 text-center\">\n          <h3 className=\"font-poppins font-medium text-[16px] lg:text-[18px] text-black mb-4 lg:mb-6\">\n            Your Dashboard Awaits\n          </h3>\n          <p className=\"font-poppins text-[14px] lg:text-[18px] text-black mb-6 lg:mb-8 leading-relaxed\">\n            Everything you need to manage your Sustainable Business at one place!\n          </p>\n          <button\n            onClick={handleGoToDashboard}\n            className=\"bg-gradient-to-r from-[#1f4d6e] to-[#35b481] text-white \n                     px-6 lg:px-8 py-3 lg:py-4 rounded-[6px] \n                     min-h-[48px] lg:h-[53px] min-w-[260px] w-auto\n                     font-poppins font-medium text-[14px] lg:text-[16px] \n                     hover:shadow-lg transition-all duration-200\n                     focus:outline-none focus:ring-2 focus:ring-[#1a4032] focus:ring-opacity-50\n                     inline-flex items-center justify-center whitespace-nowrap\"\n          >\n            Go To Dashboard\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":12013,"size_tokens":null},"src/services/supplierOrdersService.js":{"content":"// Supplier Orders service layer - handles business logic for order management\nimport { tokens } from '../lib/api';\n\n// API Base URL\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:8000\";\n\n// Generic request handler\nasync function request(path, { method = \"GET\", body, token } = {}) {\n  const headers = { \"Content-Type\": \"application/json\" };\n  if (token) {\n    headers[\"Authorization\"] = `Bearer ${token}`;\n  }\n\n  const res = await fetch(`${API_BASE}${path}`, {\n    method,\n    headers,\n    body: body ? JSON.stringify(body) : undefined,\n  });\n\n  let data = null;\n  try {\n    data = await res.json();\n  } catch {\n    // non-JSON response\n  }\n\n  if (!res.ok) {\n    let message = `Request failed (${res.status})`;\n    if (data) {\n      if (typeof data.detail === \"string\") message = data.detail;\n      else if (Array.isArray(data.detail)) {\n        message = data.detail\n          .map((d) => (d?.msg ? `${d.msg}${d?.loc ? ` at ${d.loc.join('.')}` : ''}` : JSON.stringify(d)))\n          .join(\"; \");\n      } else if (data.message) message = data.message;\n    }\n    const error = new Error(message);\n    error.status = res.status;\n    error.data = data;\n    throw error;\n  }\n\n  return data;\n}\n\nclass SupplierOrdersService {\n  constructor() {\n    this.cache = new Map();\n    this.cacheTimestamps = new Map();\n    this.CACHE_DURATION = 2 * 60 * 1000; // 2 minutes for orders (more frequent updates)\n  }\n\n  // Get current auth token\n  getToken() {\n    const userTokens = tokens.get();\n    return userTokens?.access_token;\n  }\n\n  // Check if cache is valid\n  isCacheValid(key) {\n    const timestamp = this.cacheTimestamps.get(key);\n    return timestamp && (Date.now() - timestamp) < this.CACHE_DURATION;\n  }\n\n  // Set cache with timestamp\n  setCache(key, data) {\n    this.cache.set(key, data);\n    this.cacheTimestamps.set(key, Date.now());\n  }\n\n  // Get cache if valid\n  getCache(key) {\n    if (this.isCacheValid(key)) {\n      return this.cache.get(key);\n    }\n    return null;\n  }\n\n  // Get supplier orders with pagination and filtering\n  async getOrders(params = {}) {\n    try {\n      const cacheKey = `supplier_orders_${JSON.stringify(params)}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const queryParams = new URLSearchParams();\n      if (params.page) queryParams.append('page', params.page);\n      if (params.page_size) queryParams.append('page_size', params.page_size);\n      if (params.status) queryParams.append('status', params.status);\n\n      const path = `/supplier/orders${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const result = await request(path, { token });\n      \n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get supplier orders:', error);\n      throw error;\n    }\n  }\n\n  // Get single order item details\n  async getOrderItem(orderItemId) {\n    try {\n      const cacheKey = `order_item_${orderItemId}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await request(`/supplier/orders/${orderItemId}`, { token });\n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get order item:', error);\n      throw error;\n    }\n  }\n\n  // Update order item fulfillment status\n  async updateOrderFulfillment(orderItemId, fulfillmentData) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await request(`/supplier/orders/${orderItemId}/fulfillment`, {\n        method: 'PUT',\n        body: fulfillmentData,\n        token\n      });\n\n      // Invalidate caches\n      this.cache.delete(`order_item_${orderItemId}`);\n      this.cache.delete('supplier_orders');\n      this.cacheTimestamps.delete(`order_item_${orderItemId}`);\n      this.cacheTimestamps.delete('supplier_orders');\n\n      return result;\n    } catch (error) {\n      console.error('Failed to update order fulfillment:', error);\n      throw error;\n    }\n  }\n\n  // Get order analytics\n  async getOrderAnalytics(days = 30) {\n    try {\n      const cacheKey = `order_analytics_${days}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await request(`/supplier/orders/analytics/orders?days=${days}`, { token });\n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get order analytics:', error);\n      throw error;\n    }\n  }\n\n  // Get shipments\n  async getShipments(params = {}) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const queryParams = new URLSearchParams();\n      if (params.page) queryParams.append('page', params.page);\n      if (params.page_size) queryParams.append('page_size', params.page_size);\n\n      const path = `/supplier/orders/shipments${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const result = await request(path, { token });\n      return result;\n    } catch (error) {\n      console.error('Failed to get shipments:', error);\n      throw error;\n    }\n  }\n\n  // Get returns\n  async getReturns(params = {}) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const queryParams = new URLSearchParams();\n      if (params.page) queryParams.append('page', params.page);\n      if (params.page_size) queryParams.append('page_size', params.page_size);\n\n      const path = `/supplier/orders/returns${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const result = await request(path, { token });\n      return result;\n    } catch (error) {\n      console.error('Failed to get returns:', error);\n      throw error;\n    }\n  }\n}\n\n// Create a singleton instance\nconst supplierOrdersService = new SupplierOrdersService();\nexport default supplierOrdersService;\n","path":null,"size_bytes":6267,"size_tokens":null},"src/components/vendor/onboarding/OnboardingHeader.jsx":{"content":"import React from 'react';\n\nexport default function OnboardingHeader() {\n  return (\n    <>\n      {/* Header with Logo */}\n      <div className=\"flex justify-center items-center pt-16 pb-6\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-11 h-[42px] bg-contain bg-no-repeat bg-center\">\n            <img \n              src=\"/logo.png\" \n              alt=\"AveoEarth Logo\" \n              className=\"w-full h-full object-contain\"\n            />\n          </div>\n          <h1 className=\"font-reem text-[48px] text-black\">\n            AveoEarth\n          </h1>\n        </div>\n      </div>\n\n      {/* Tagline */}\n      <div className=\"text-center mb-12\">\n        <h2 className=\"font-poppins text-[24px] text-black\">\n          Conscious commerce, frictionless for you\n        </h2>\n      </div>\n    </>\n  );\n}\n","path":null,"size_bytes":833,"size_tokens":null},"src/components/vendor/onboarding/OnboardingActions.jsx":{"content":"import React from 'react';\nimport Link from \"next/link\";\n\nexport default function OnboardingActions({ currentStep, handleSubmit, handleGoBack, hideActions = false, isBusinessStep = false }) {\n  // Don't render actions if hideActions is true (e.g., for Step 1 signup)\n  if (hideActions) {\n    return null;\n  }\n\n  const getButtonText = () => {\n    if (currentStep === 5) return 'Complete Setup';\n    if (isBusinessStep) return 'Save Business Info';\n    return 'Continue';\n  };\n\n  return (\n    <>\n      {/* Action Buttons */}\n      <div className=\"flex justify-between items-center mt-12 px-4\">\n        {/* Go Back Button */}\n        {currentStep > 1 && (\n          <button\n            onClick={handleGoBack}\n            className=\"bg-white border border-[#b8b8b8] hover:bg-gray-50 text-[#484848] \n                     px-8 py-4 rounded-[6px] h-[62px] w-[178px]\n                     flex items-center justify-center gap-3\n                     font-poppins font-medium text-[18px] transition-all duration-200\"\n          >\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 19l-7-7 7-7\" />\n            </svg>\n            Go back\n          </button>\n        )}\n\n        {/* Next/Submit Button */}\n        <button\n          onClick={handleSubmit}\n          className={`bg-[#174e38] hover:bg-[#0f2419] active:bg-[#083318] text-white \n                   px-[54px] py-4 rounded-[6px] h-[62px] ${currentStep > 1 ? 'w-[244px]' : 'w-[426px]'}\n                   flex items-center justify-center gap-3 overflow-hidden\n                   font-poppins font-medium text-[18px] leading-[0] transition-all duration-200\n                   focus:outline-none focus:ring-2 focus:ring-[#1a4032] focus:ring-opacity-50\n                   ${currentStep === 1 ? 'mx-auto' : 'ml-auto'}`}\n        >\n          <span className=\"font-poppins font-medium text-[18px] text-white whitespace-pre\">\n            {getButtonText()}\n          </span>\n          {currentStep > 1 && (\n            <svg className=\"w-7 h-7\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5l7 7-7 7\" />\n            </svg>\n          )}\n        </button>\n      </div>\n\n      {/* Sign In Link */}\n      <div className=\"text-center mt-8 pb-[72px]\">\n        <p className=\"text-[13px] text-[#09101d] opacity-60\">\n          Already have an account?{\" \"}\n          <Link \n            href=\"/vendor\" \n            className=\"font-bold text-[rgba(26,64,50,0.9)] hover:text-[#1a4032]\"\n          >\n            Sign In Here\n          </Link>\n        </p>\n      </div>\n    </>\n  );\n}\n","path":null,"size_bytes":2730,"size_tokens":null},"src/app/product/[productId]/page.jsx":{"content":"import { redirect } from \"next/navigation\";\n\nexport default function ProductByIdPage({ params }) {\n  const { productId } = params || {};\n  // Forward to existing dynamic product route if available\n  if (productId) {\n    redirect(`/products/${encodeURIComponent(productId)}`);\n  }\n  redirect(\"/explore\");\n}\n\n\n","path":null,"size_bytes":308,"size_tokens":null},"src/components/vendor/orders/OrderTableHeader.jsx":{"content":"export default function OrderTableHeader() {\n  return (\n    <div className=\"hidden sm:flex items-center py-4 px-7 border-b border-[#989898] bg-white\">\n      <div className=\"w-[120px] text-center\">\n        <span className=\"font-reem font-medium text-[16px] text-black\">Order ID</span>\n      </div>\n      <div className=\"w-[180px] text-center\">\n        <span className=\"font-reem font-medium text-[16px] text-black\">Product</span>\n      </div>\n      <div className=\"w-[120px] text-center\">\n        <span className=\"font-reem font-medium text-[16px] text-black\">Items</span>\n      </div>\n      <div className=\"w-[120px] text-center\">\n        <span className=\"font-reem font-medium text-[16px] text-black\">Total</span>\n      </div>\n      <div className=\"w-[120px] text-center\">\n        <span className=\"font-reem font-medium text-[16px] text-black\">Date</span>\n      </div>\n      <div className=\"w-[120px] text-center\">\n        <span className=\"font-reem font-medium text-[16px] text-black\">Status</span>\n      </div>\n      <div className=\"w-[120px] text-center\">\n        <span className=\"font-reem font-medium text-[16px] text-black\">Action</span>\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":1176,"size_tokens":null},"src/app/signup/page.jsx":{"content":"\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { auth, tokens } from \"../../lib/api\";\nimport { countryCodes } from \"../../lib/countryCodes\";\nimport Image from \"next/image\";\nimport TermsModal from \"../../components/ui/TermsModal\";\nimport Button from \"../../components/ui/Button\";\n\nexport default function SignUpPage() {\n  const router = useRouter();\n  const [formData, setFormData] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    phoneNumber: \"\",\n    email: \"\",\n    password: \"\",\n    referralCode: \"\",\n    agreeToTerms: false\n  });\n  const [dialCode, setDialCode] = useState(\"+91\");\n  const [error, setError] = useState(\"\");\n  const [isTermsModalOpen, setIsTermsModalOpen] = useState(false);\n\n  const handleInputChange = (field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n    if (!formData.agreeToTerms) {\n      return setError('Please agree to the Terms to continue.');\n    }\n    const phone = `${dialCode}${formData.phoneNumber?.replace(/\\s+/g, '')}`;\n    const email = formData.email?.trim();\n    const first_name = formData.firstName?.trim();\n    const last_name = formData.lastName?.trim();\n    const password = formData.password;\n    const user_type = 'buyer'; // Default to buyer registration\n    const referral_code = (formData.referralCode || \"\").trim() || null;\n\n    // Ensure phone includes international code '+' as required by backend\n    if (!phone?.startsWith('+')) {\n      return setError('Please include country code in phone number, e.g., +91XXXXXXXXXX');\n    }\n    if (!password || password.length < 8) {\n      return setError('Password must be at least 8 characters.');\n    }\n    if (!email || !first_name || !last_name) {\n      return setError('Please fill in all required fields.');\n    }\n    if (!/\\S+@\\S+\\.\\S+/.test(email)) {\n      return setError('Please enter a valid email address.');\n    }\n\n    try {\n      // Prepare payload and log a masked version for debugging\n      const payload = { email, password, phone, first_name, last_name, user_type, referral_code };\n      const payloadMasked = { ...payload, password: payload.password ? `***(${payload.password.length})` : undefined };\n      console.debug(\"[Signup] POST /auth/signup payload:\", payloadMasked);\n\n      const result = await auth.signup(payload);\n      console.debug(\"[Signup] response keys:\", Object.keys(result || {}));\n      if (result?.tokens) tokens.set(result.tokens);\n      \n      // TODO: Temporarily skip OTP verification\n      console.debug(\"[Signup] OTP verification temporarily disabled\");\n      \n      // Redirect based on user type\n      if (user_type === 'supplier') {\n        router.push('/vendor/dashboard');\n      } else {\n        router.push('/explore'); // For buyers, redirect to explore page\n      }\n      \n      // COMMENTED OUT: OTP verification flow\n      // console.debug(\"[Signup] sending OTP to:\", phone);\n      // await auth.sendOtp(phone);\n      // router.push(`/verify-otp?phone=${encodeURIComponent(phone)}`);\n    } catch (err) {\n      console.error(\"[Signup] error:\", { \n        error: err,\n        status: err?.status || 'unknown', \n        message: err?.message || 'Unknown error', \n        data: err?.data || null,\n        stack: err?.stack\n      });\n      \n      // More specific error messages\n      let errorMessage = 'Signup failed';\n      \n      if (err?.status === 400) {\n        errorMessage = err?.message || 'Invalid input. Please check your details.';\n      } else if (err?.status === 409) {\n        errorMessage = 'An account with this email or phone number already exists.';\n      } else if (err?.status === 422) {\n        errorMessage = 'Validation error. Please check all required fields.';\n      } else if (err?.status >= 500) {\n        errorMessage = 'Server error. Please try again later.';\n      } else if (err?.message) {\n        errorMessage = err.message;\n      }\n      \n      setError(errorMessage);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      {/* Main Content */}\n      <main className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        {/* Back Button */}\n        <div className=\"mb-8\">\n          <button className=\"flex items-center text-[#2c3a4b] hover:text-[#502c0a] font-semibold text-base\">\n            <div className=\"w-3 h-2 mr-2 rotate-90\">\n              <svg viewBox=\"0 0 7 4\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M3.5 4L0 0H7L3.5 4Z\" fill=\"currentColor\"/>\n              </svg>\n            </div>\n            Back\n          </button>\n        </div>\n\n        {/* Page Title */}\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-5xl text-[#09101d] mb-4\">\n            <span className=\"font-['Beth_Ellen',cursive] font-normal\">Join </span>\n            <span className=\"font-normal\">AveoEarth</span>\n          </h1>\n          <p className=\"text-lg text-[#666666] mt-4\">\n            Start your sustainable shopping journey\n          </p>\n        </div>\n\n        {/* Signup Form */}\n        <div className=\"max-w-2xl mx-auto\">\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n              {error && (\n                <div className=\"p-3 rounded-md bg-red-50 border border-red-200 text-red-600 text-sm\">\n                  {error}\n                </div>\n              )}\n\n              {/* First Name and Last Name Row */}\n              <div className=\"flex gap-6\">\n                <div className=\"flex-1\">\n                  <label className=\"block px-4 py-0 mb-2\">\n                    <span className=\"text-[#09101d] text-base font-semibold opacity-80\">First Name</span>\n                    <span className=\"text-[#da1414] text-[13px] opacity-80\">*</span>\n                  </label>\n                  <div className=\"relative\">\n                    <input\n                      type=\"text\"\n                      value={formData.firstName}\n                      onChange={(e) => handleInputChange('firstName', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-[#858c94] rounded-lg text-[#09101d] text-base font-semibold focus:outline-none focus:border-[#502c0a] placeholder:opacity-50\"\n                      placeholder=\"Input\"\n                      required\n                    />\n                  </div>\n                </div>\n\n                <div className=\"flex-1\">\n                  <label className=\"block px-4 py-0 mb-2\">\n                    <span className=\"text-[#09101d] text-base font-semibold opacity-80\">Last Name</span>\n                    <span className=\"text-[#da1414] text-[13px] opacity-80\">*</span>\n                  </label>\n                  <div className=\"relative\">\n                    <input\n                      type=\"text\"\n                      value={formData.lastName}\n                      onChange={(e) => handleInputChange('lastName', e.target.value)}\n                      className=\"w-full px-4 py-3 border border-[#858c94] rounded-lg text-[#09101d] text-base font-semibold focus:outline-none focus:border-[#502c0a] placeholder:opacity-50\"\n                      placeholder=\"Input\"\n                      required\n                    />\n                  </div>\n                </div>\n              </div>\n\n              {/* Phone Number */}\n              <div>\n                <label className=\"block px-4 py-0 mb-2\">\n                  <span className=\"text-[#09101d] text-base font-semibold opacity-80\">Phone Number</span>\n                  <span className=\"text-[#da1414] text-[13px] opacity-80\">*</span>\n                </label>\n                <div className=\"flex gap-2\">\n                  <select\n                    value={dialCode}\n                    onChange={(e) => setDialCode(e.target.value)}\n                    className=\"px-3 py-3 border border-[#858c94] rounded-lg bg-white text-[#09101d] focus:outline-none focus:border-[#502c0a]\"\n                  >\n                    {countryCodes.map((c) => (\n                      <option key={c.dial_code} value={c.dial_code}>\n                        {c.flag} {c.dial_code} {c.name}\n                      </option>\n                    ))}\n                  </select>\n                  <input\n                    type=\"tel\"\n                    inputMode=\"numeric\"\n                    value={formData.phoneNumber}\n                    onChange={(e) => handleInputChange('phoneNumber', (e.target.value || '').replace(/\\D/g, ''))}\n                    className=\"flex-1 px-4 py-3 border border-[#858c94] rounded-lg text-[#09101d] text-base font-semibold focus:outline-none focus:border-[#502c0a] placeholder:opacity-50\"\n                    placeholder=\"Input\"\n                    pattern=\"[0-9]{6,20}\"\n                    required\n                  />\n                </div>\n              </div>\n\n              {/* Email */}\n              <div>\n                <label className=\"block px-4 py-0 mb-2\">\n                  <span className=\"text-[#09101d] text-base font-semibold opacity-80\">Email Address</span>\n                  <span className=\"text-[#da1414] text-[13px] opacity-80\">*</span>\n                </label>\n                <input\n                  type=\"email\"\n                  value={formData.email}\n                  onChange={(e) => handleInputChange('email', e.target.value)}\n                  className=\"w-full px-4 py-3 border border-[#858c94] rounded-lg text-[#09101d] text-base font-semibold focus:outline-none focus:border-[#502c0a] placeholder:opacity-50\"\n                  placeholder=\"Input\"\n                  required\n                />\n              </div>\n\n              {/* Password */}\n              <div>\n                <label className=\"block px-4 py-0 mb-2\">\n                  <span className=\"text-[#09101d] text-base font-semibold opacity-80\">Password</span>\n                  <span className=\"text-[#da1414] text-[13px] opacity-80\">*</span>\n                </label>\n                <input\n                  type=\"password\"\n                  value={formData.password}\n                  onChange={(e) => handleInputChange('password', e.target.value)}\n                  className=\"w-full px-4 py-3 border border-[#858c94] rounded-lg text-[#09101d] text-base font-semibold focus:outline-none focus:border-[#502c0a] placeholder:opacity-50\"\n                  placeholder=\"Input\"\n                  minLength={8}\n                  required\n                />\n                <p className=\"px-4 py-0 mt-2 text-[#09101d] text-[13px] leading-[20px] opacity-60\">\n                  Password must be at least 8 characters with uppercase, lowercase, number, and special character.\n                </p>\n              </div>\n\n              {/* Terms Agreement */}\n              <div className=\"flex items-start gap-3 px-4\">\n                <div className=\"relative\">\n                  <input\n                    type=\"checkbox\"\n                    id=\"agreeToTerms\"\n                    checked={formData.agreeToTerms}\n                    onChange={(e) => handleInputChange('agreeToTerms', e.target.checked)}\n                    className=\"sr-only\"\n                    required\n                  />\n                  <div \n                    className={`w-4 h-4 rounded-sm border-2 flex items-center justify-center cursor-pointer ${\n                      formData.agreeToTerms \n                        ? 'bg-[rgba(80,44,10,0.2)] border-[#502c0a]' \n                        : 'bg-white border-[#858c94]'\n                    }`}\n                    onClick={() => handleInputChange('agreeToTerms', !formData.agreeToTerms)}\n                  >\n                    {formData.agreeToTerms && (\n                      <svg className=\"w-3 h-3 text-[#502c0a]\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\" clipRule=\"evenodd\"/>\n                      </svg>\n                    )}\n                  </div>\n                </div>\n                <label htmlFor=\"agreeToTerms\" className=\"text-[#09101d] text-[13px] leading-[20px] cursor-pointer\">\n                  I agree to AveoEarth's{\" \"}\n                  <button\n                    type=\"button\"\n                    onClick={() => setIsTermsModalOpen(true)}\n                    className=\"text-[#502c0a] underline hover:text-[#502c0a]/80 font-semibold\"\n                  >\n                    Terms of Service and Privacy Policy\n                  </button>\n                  . I also consent to receiving marketing communications about sustainable products and ESG insights.\n                </label>\n              </div>\n\n              {/* Submit Button */}\n              <div className=\"flex justify-center pt-4\">\n                <Button\n                  type=\"submit\"\n                  disabled={!formData.agreeToTerms}\n                  variant=\"secondary\"\n                  size=\"lg\"\n                  className=\"px-[54px]\"\n                >\n                  Create Account\n                </Button>\n              </div>\n            </form>\n\n            {/* Sign In Link */}\n            <div className=\"text-center mt-8\">\n              <p className=\"text-[#09101d] text-[13px] leading-[20px] opacity-60\">\n                Already have an account?{\" \"}\n                <a href=\"/login\" className=\"font-bold text-[#502c0a]\">\n                  Sign In Here\n                </a>\n              </p>\n            </div>\n          </div>\n      </main>\n\n      {/* Terms Modal */}\n      <TermsModal \n        isOpen={isTermsModalOpen} \n        onClose={() => setIsTermsModalOpen(false)} \n      />\n    </div>\n  );\n}\n","path":null,"size_bytes":13698,"size_tokens":null},"src/app/vendor/products/page.jsx":{"content":"","path":null,"size_bytes":0,"size_tokens":null},"src/hooks/useAuth.js":{"content":"// Authentication hook for managing user state across the app\n\"use client\";\n\nimport { useState, useEffect, useContext, createContext } from 'react';\nimport { auth, tokens } from '../lib/api';\n\nconst AuthContext = createContext(null);\n\nexport const AuthProvider = ({ children }) => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userProfile, setUserProfile] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isClient, setIsClient] = useState(false);\n\n  // Initialize auth state\n  useEffect(() => {\n    setIsClient(true);\n    checkAuthState();\n\n    // Listen for token changes\n    const handleTokenChange = (event) => {\n      const newTokens = event.detail || tokens.get();\n      if (newTokens?.access_token) {\n        fetchUserProfile(newTokens.access_token);\n      } else {\n        setIsLoggedIn(false);\n        setUserProfile(null);\n        setIsLoading(false);\n      }\n    };\n\n    if (typeof window !== 'undefined') {\n      window.addEventListener('ae_tokens_changed', handleTokenChange);\n    }\n    \n    return () => {\n      if (typeof window !== 'undefined') {\n        window.removeEventListener('ae_tokens_changed', handleTokenChange);\n      }\n    };\n  }, []);\n\n  const checkAuthState = async () => {\n    try {\n      const userTokens = tokens.get();\n      if (userTokens?.access_token) {\n        await fetchUserProfile(userTokens.access_token);\n      } else {\n        setIsLoggedIn(false);\n        setUserProfile(null);\n      }\n    } catch (error) {\n      console.error('Auth check failed:', error);\n      setIsLoggedIn(false);\n      setUserProfile(null);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const fetchUserProfile = async (token) => {\n    try {\n      const profile = await auth.getProfile(token);\n      setUserProfile(profile);\n      setIsLoggedIn(true);\n    } catch (error) {\n      console.error('Failed to fetch user profile:', error);\n      // If profile fetch fails, token might be invalid\n      tokens.clear();\n      setIsLoggedIn(false);\n      setUserProfile(null);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const login = async (credentials) => {\n    try {\n      setIsLoading(true);\n      const result = await auth.login(credentials.email, credentials.password);\n      if (result?.tokens) {\n        tokens.set(result.tokens);\n        await fetchUserProfile(result.tokens.access_token);\n        return result;\n      }\n    } catch (error) {\n      setIsLoading(false);\n      throw error;\n    }\n  };\n\n  const logout = () => {\n    tokens.clear();\n    setIsLoggedIn(false);\n    setUserProfile(null);\n  };\n\n  const isVendor = userProfile?.user_metadata?.user_type === 'supplier' || \n                   userProfile?.user_metadata?.user_type === 'seller' ||\n                   userProfile?.user_type === 'supplier' ||\n                   userProfile?.user_type === 'seller';\n\n  const isBuyer = !isVendor && isLoggedIn;\n\n  const getUserName = () => {\n    return userProfile?.name || \n           userProfile?.first_name || \n           userProfile?.email?.split('@')[0] || \n           'User';\n  };\n\n  const value = {\n    isLoggedIn,\n    userProfile,\n    isLoading,\n    isClient,\n    isVendor,\n    isBuyer,\n    login,\n    logout,\n    getUserName,\n    refreshProfile: () => {\n      const userTokens = tokens.get();\n      if (userTokens?.access_token) {\n        fetchUserProfile(userTokens.access_token);\n      }\n    }\n  };\n\n  return (\n    <AuthContext.Provider value={value}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n};\n\n// Custom hook for getting auth token\nexport const useAuthToken = () => {\n  const [token, setToken] = useState(null);\n  \n  useEffect(() => {\n    const updateToken = () => {\n      const userTokens = tokens.get();\n      setToken(userTokens?.access_token || null);\n    };\n    \n    updateToken();\n    if (typeof window !== 'undefined') {\n      window.addEventListener('ae_tokens_changed', updateToken);\n    }\n    \n    return () => {\n      if (typeof window !== 'undefined') {\n        window.removeEventListener('ae_tokens_changed', updateToken);\n      }\n    };\n  }, []);\n  \n  return token;\n};\n","path":null,"size_bytes":4285,"size_tokens":null},"src/components/ui/Button.jsx":{"content":"\"use client\";\n\nimport { forwardRef } from \"react\";\n\nconst Button = forwardRef(({ \n  children, \n  variant = \"primary\", \n  size = \"md\", \n  className = \"\", \n  disabled = false,\n  type = \"button\",\n  as: Component = \"button\",\n  ...props \n}, ref) => {\n  const baseClasses = \"inline-flex items-center justify-center font-poppins font-semibold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\";\n  \n  const variants = {\n    primary: \"bg-emerald-600 text-white hover:bg-emerald-700 shadow-lg hover:shadow-xl border-2 border-emerald-600 hover:border-emerald-700\",\n    secondary: \"bg-white text-emerald-700 hover:bg-emerald-50 border-2 border-emerald-200 hover:border-emerald-300 shadow-md hover:shadow-lg\",\n    outline: \"border-2 border-emerald-600 text-emerald-600 hover:bg-emerald-600 hover:text-white\",\n    ghost: \"text-emerald-700 hover:bg-emerald-100\",\n    danger: \"bg-red-600 text-white hover:bg-red-700 shadow-lg\",\n    success: \"bg-emerald-600 text-white hover:bg-emerald-700 shadow-lg\"\n  };\n  \n  const sizes = {\n    sm: \"px-4 py-2 text-sm rounded-lg\",\n    md: \"px-6 py-3 text-base rounded-xl\",\n    lg: \"px-8 py-4 text-lg rounded-2xl\",\n    xl: \"px-10 py-5 text-xl rounded-3xl\"\n  };\n  \n  const variantClasses = variants[variant] || variants.primary;\n  const sizeClasses = sizes[size] || sizes.md;\n  \n  return (\n    <Component\n      ref={ref}\n      type={Component === \"button\" ? type : undefined}\n      disabled={disabled}\n      className={`${baseClasses} ${variantClasses} ${sizeClasses} ${className}`}\n      {...props}\n    >\n      {children}\n    </Component>\n  );\n});\n\nButton.displayName = \"Button\";\n\nexport default Button;","path":null,"size_bytes":1699,"size_tokens":null},"src/components/forms/ResetPasswordForm.jsx":{"content":"\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { auth, tokens } from \"../../lib/api\";\n\nexport default function ResetPasswordForm() {\n  const router = useRouter();\n  const [form, setForm] = useState({ password: \"\", confirm: \"\" });\n  const [isLoading, setIsLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleChange = (field, value) => setForm((p) => ({ ...p, [field]: value }));\n  const valid = form.password.length >= 8 && form.password === form.confirm;\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!valid) return;\n    \n    setIsLoading(true);\n    setError(\"\");\n    setMessage(\"\");\n    \n    try {\n      const userTokens = tokens.get();\n      if (!userTokens?.access_token) {\n        setError(\"You must be logged in to reset your password\");\n        return;\n      }\n      \n      const result = await auth.resetPassword(form.password, userTokens.access_token);\n      setMessage(result?.message || \"Password updated successfully\");\n      \n      // Redirect after a short delay\n      setTimeout(() => {\n        router.push(\"/\");\n      }, 2000);\n      \n    } catch (err) {\n      setError(err.message || \"Failed to update password\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-white\">\n      <main className=\"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        {/* Back Button */}\n        <div className=\"mb-8\">\n          <button className=\"flex items-center text-[#2c3a4b] hover:text-[#502c0a] font-semibold text-base\">\n            <div className=\"w-3 h-2 mr-2 rotate-90\">\n              <svg viewBox=\"0 0 7 4\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M3.5 4L0 0H7L3.5 4Z\" fill=\"currentColor\"/>\n              </svg>\n            </div>\n            Back\n          </button>\n        </div>\n\n        {/* Page Title */}\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-5xl text-[#09101d] mb-4\">\n            <span className=\"font-['Beth_Ellen',cursive] font-normal\">Reset </span>\n            <span className=\"font-normal\">password</span>\n          </h1>\n          <p className=\"text-[#09101d] opacity-60 text-base\">Set a new password for your account.</p>\n        </div>\n\n        <div className=\"max-w-md mx-auto\">\n          \n          {message && (\n            <div className=\"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg\">\n              <p className=\"text-green-800 text-sm\">{message}</p>\n            </div>\n          )}\n          \n          {error && (\n            <div className=\"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg\">\n              <p className=\"text-red-800 text-sm\">{error}</p>\n            </div>\n          )}\n          \n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <label className=\"block px-4 py-0 mb-2\">\n                <span className=\"text-[#09101d] text-base font-semibold opacity-80\">New password</span>\n                <span className=\"text-[#da1414] text-[13px] opacity-80\">*</span>\n              </label>\n              <input\n                type=\"password\"\n                value={form.password}\n                onChange={(e) => handleChange(\"password\", e.target.value)}\n                disabled={isLoading}\n                className=\"w-full px-4 py-3 border border-[#858c94] rounded-lg text-[#09101d] text-base font-semibold focus:outline-none focus:border-[#502c0a] placeholder:opacity-50 disabled:opacity-50\"\n                placeholder=\"At least 8 characters\"\n                required\n              />\n            </div>\n            <div>\n              <label className=\"block px-4 py-0 mb-2\">\n                <span className=\"text-[#09101d] text-base font-semibold opacity-80\">Confirm password</span>\n                <span className=\"text-[#da1414] text-[13px] opacity-80\">*</span>\n              </label>\n              <input\n                type=\"password\"\n                value={form.confirm}\n                onChange={(e) => handleChange(\"confirm\", e.target.value)}\n                disabled={isLoading}\n                className=\"w-full px-4 py-3 border border-[#858c94] rounded-lg text-[#09101d] text-base font-semibold focus:outline-none focus:border-[#502c0a] placeholder:opacity-50 disabled:opacity-50\"\n                placeholder=\"Re-enter your password\"\n                required\n              />\n              {form.confirm && form.password !== form.confirm && (\n                <p className=\"px-4 py-0 mt-2 text-[#da1414] text-[13px] leading-[20px]\">Passwords do not match.</p>\n              )}\n            </div>\n            \n            {/* Submit Button */}\n            <div className=\"flex justify-center pt-4\">\n              <button\n                type=\"submit\" \n                className=\"bg-[#502c0a] text-white px-[54px] py-4 rounded-[62px] text-base font-medium hover:bg-opacity-90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                disabled={!valid || isLoading}\n              >\n                {isLoading ? \"Updating...\" : \"Update password\"}\n              </button>\n            </div>\n            \n            {/* Back to Login Link */}\n            <div className=\"text-center\">\n              <p className=\"text-[#09101d] text-[13px] leading-[20px] opacity-60\">\n                Changed your mind?{\" \"}\n                <Link href=\"/login\" className=\"font-bold text-[#502c0a]\">\n                  Back to login\n                </Link>\n              </p>\n            </div>\n          </form>\n        </div>\n      </main>\n    </div>\n  );\n}\n","path":null,"size_bytes":5683,"size_tokens":null},"src/components/vendor/onboarding/OnboardingProgress.jsx":{"content":"import React from 'react';\n\nexport default function OnboardingProgress({ currentStep, totalSteps = 5 }) {\n  return (\n    <div className=\"max-w-[890px] mx-auto mb-8 px-4\">\n      <div className=\"flex justify-between items-center mb-3\">\n        <span className=\"font-poppins font-medium text-[14px] text-black\">\n          Account Setup\n        </span>\n        <span className=\"font-poppins font-medium text-[14px] text-black\">\n          Step {currentStep} of {totalSteps}\n        </span>\n      </div>\n      <div className=\"w-full h-3 bg-[#d9f2e2] rounded-[20px]\">\n        <div \n          className=\"h-full bg-[#217a54] rounded-[20px] transition-all duration-300\"\n          style={{ width: `${(currentStep / totalSteps) * 100}%` }}\n        />\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":770,"size_tokens":null},"src/components/ui/Icon.jsx":{"content":"/**\n * Icon Component - Consistent icon system for Aveoearth\n * \n * Features:\n * - Consistent sizing\n * - Accessible by default\n * - Support for custom SVGs and external icon libraries\n */\n\nimport Image from \"next/image\";\n\nexport default function Icon({ \n  name, \n  size = 16, \n  className = \"\",\n  alt,\n  ...props \n}) {\n  // If alt text isn't provided, create descriptive text from the icon name\n  const altText = alt || `${name.replace(/-/g, ' ')} icon`;\n\n  return (\n    <Image\n      src={`/${name}.svg`}\n      alt={altText}\n      width={size}\n      height={size}\n      className={`inline-block ${className}`}\n      {...props}\n    />\n  );\n}\n\n// Alternative inline SVG component for custom icons\nexport function InlineSVG({ \n  children, \n  size = 16, \n  className = \"\",\n  viewBox = \"0 0 24 24\",\n  ...props \n}) {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox={viewBox}\n      fill=\"currentColor\"\n      className={`inline-block ${className}`}\n      {...props}\n    >\n      {children}\n    </svg>\n  );\n}\n","path":null,"size_bytes":1025,"size_tokens":null},"src/components/admin/ChartCard.jsx":{"content":"\"use client\";\n\nimport { ChevronDownIcon } from \"@heroicons/react/24/outline\";\n\nexport default function ChartCard({ title, children, hasDropdown = false, dropdownValue = \"This Month\" }) {\n  return (\n    <div className=\"bg-white rounded-xl border border-gray-200 p-6 shadow-sm\">\n      <div className=\"flex items-center justify-between mb-6\">\n        <h3 className=\"text-sm font-semibold text-gray-900\">{title}</h3>\n        {hasDropdown && (\n          <div className=\"bg-gray-100 rounded-md px-3 py-1 flex items-center gap-2\">\n            <span className=\"text-xs font-bold text-gray-700\">{dropdownValue}</span>\n            <ChevronDownIcon className=\"h-3 w-3 text-gray-700\" />\n          </div>\n        )}\n      </div>\n      {children}\n    </div>\n  );\n}\n","path":null,"size_bytes":751,"size_tokens":null},"src/components/layout/VendorLayout.jsx":{"content":"import Link from \"next/link\";\n\nexport default function VendorLayout({ children }) {\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Navigation Header */}\n      <nav className=\"bg-white border-b border-gray-200 px-6 py-4 sticky top-0 z-50\">\n        <div className=\"flex items-center justify-between max-w-7xl mx-auto\">\n          {/* Logo */}\n          <Link href=\"/\" className=\"flex items-center gap-2\">\n            <div className=\"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center\">\n              <span className=\"text-white font-bold text-sm\">A</span>\n            </div>\n            <span className=\"font-bold text-lg text-gray-900\">AveoEarth</span>\n            <span className=\"text-sm text-gray-500 ml-2\">Vendor Portal</span>\n          </Link>\n\n          {/* User Menu */}\n          <div className=\"flex items-center gap-4\">\n            <Link href=\"/vendor/notifications\" className=\"relative p-2 text-gray-600 hover:text-gray-900\">\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\n              </svg>\n              <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center\">3</span>\n            </Link>\n            \n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center\">\n                <span className=\"text-amber-800 font-semibold text-sm\">V</span>\n              </div>\n              <div className=\"hidden md:block\">\n                <p className=\"text-sm font-medium text-gray-700\">Vendor Account</p>\n                <p className=\"text-xs text-gray-500\">Active</p>\n              </div>\n            </div>\n\n            <div className=\"relative group\">\n              <button className=\"p-1 text-gray-600 hover:text-gray-900\">\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n                </svg>\n              </button>\n              \n              {/* Dropdown Menu */}\n              <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50\">\n                <div className=\"py-2\">\n                  <Link href=\"/vendor/profile\" className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\">\n                    Profile Settings\n                  </Link>\n                  <Link href=\"/vendor/billing\" className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\">\n                    Billing & Payments\n                  </Link>\n                  <Link href=\"/vendor/help\" className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\">\n                    Help & Support\n                  </Link>\n                  <hr className=\"my-2 border-gray-200\" />\n                  <button className=\"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50\">\n                    Sign Out\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      {/* Main Content */}\n      <main className=\"max-w-7xl mx-auto px-6 py-8\">\n        {children}\n      </main>\n\n      {/* Footer */}\n      <footer className=\"bg-white border-t border-gray-200 mt-12\">\n        <div className=\"max-w-7xl mx-auto px-6 py-8\">\n          <div className=\"flex flex-col md:flex-row items-center justify-between\">\n            <div className=\"flex items-center gap-2 mb-4 md:mb-0\">\n              <div className=\"w-6 h-6 bg-green-600 rounded-full flex items-center justify-center\">\n                <span className=\"text-white font-bold text-xs\">A</span>\n              </div>\n              <span className=\"text-gray-600\">© 2025 AveoEarth Vendor Portal</span>\n            </div>\n            \n            <div className=\"flex items-center gap-6 text-sm text-gray-600\">\n              <Link href=\"/vendor/terms\" className=\"hover:text-gray-900\">Terms of Service</Link>\n              <Link href=\"/vendor/privacy\" className=\"hover:text-gray-900\">Privacy Policy</Link>\n              <Link href=\"/vendor/support\" className=\"hover:text-gray-900\">Support</Link>\n            </div>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}\n","path":null,"size_bytes":4734,"size_tokens":null},"src/app/verify-otp/page.jsx":{"content":"\"use client\";\nimport { Suspense } from \"react\";\nimport OTPVerification from \"../../components/forms/OTPVerification\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { auth } from \"../../lib/api\";\n\nfunction VerifyOTPContent() {\n  const router = useRouter();\n  const params = useSearchParams();\n  const phone = params.get(\"phone\") || \"\";\n  \n  return (\n    <div>\n      <OTPVerification\n        onVerify={async (code) => {\n          try {\n            if (!phone) throw new Error(\"Missing phone number\");\n            await auth.verifyOtp(phone, code);\n            router.push(\"/login\");\n          } catch (err) {\n            alert(err.message || \"Invalid or expired OTP\");\n          }\n        }}\n      />\n      <div className=\"max-w-md mx-auto px-4\">\n        <div className=\"bg-white rounded-b-xl border border-[#858c94] p-4 text-center\">\n          <p className=\"text-sm text-[#09101d] opacity-60 mb-3\">Didn't get the code for {phone || \"your phone\"}?</p>\n          <button\n            className=\"bg-white text-[#502c0a] border border-[#502c0a] px-6 py-2 rounded-[62px] text-sm font-medium hover:bg-[rgba(80,44,10,0.1)] transition-colors\"\n            onClick={async () => {\n              try {\n                if (!phone) throw new Error(\"Missing phone number\");\n                await auth.sendOtp(phone);\n                alert(\"OTP resent via WhatsApp\");\n              } catch (err) {\n                alert(err.message || \"Failed to resend OTP\");\n              }\n            }}\n          >\n            Resend OTP\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function VerifyOTPPage() {\n  return (\n    <Suspense fallback={<div className=\"flex items-center justify-center min-h-screen\">Loading...</div>}>\n      <VerifyOTPContent />\n    </Suspense>\n  );\n}\n","path":null,"size_bytes":1807,"size_tokens":null},"DESIGN_GUIDE.md":{"content":"# Aveoearth Design System Guide\n\n## Project Overview\n**Aveoearth** is a sustainable ecommerce marketplace featuring:\n- **User Types**: Buyers, Suppliers, and Admins\n- **Core Features**: ESG traceability, AI concierge (Aveomind), marketplace functionality\n- **Tech Stack**: Next.js 15.5.0, React 19.1.0, Tailwind CSS v4\n\n---\n\n## Design System Structure\n\n### 1. Design Tokens\n\n#### Current Token Implementation\nLocated in: `src/app/globals.css`\n\n```css\n:root {\n  --background: #ffffff;\n  --foreground: #171717;\n}\n\n@theme inline {\n  --color-background: var(--background);\n  --color-foreground: var(--foreground);\n  --font-sans: var(--font-geist-sans);\n  --font-mono: var(--font-geist-mono);\n}\n\n@media (prefers-color-scheme: dark) {\n  :root {\n    --background: #0a0a0a;\n    --foreground: #ededed;\n  }\n}\n```\n\n#### Expanded Token System\n\n**Colors**\n```css\n:root {\n  /* Brand Colors - Sustainable Theme */\n  --color-green-primary: #2d5d31;      /* Deep forest green */\n  --color-green-secondary: #4a7c59;     /* Medium green */\n  --color-green-accent: #6b9080;        /* Sage green */\n  --color-green-light: #a4c3b2;         /* Light sage */\n  --color-green-subtle: #eaf4f4;        /* Very light green */\n\n  /* Neutral Colors */\n  --color-neutral-900: #0a0a0a;         /* Almost black */\n  --color-neutral-800: #171717;         /* Dark gray */\n  --color-neutral-700: #404040;         /* Medium dark */\n  --color-neutral-500: #737373;         /* Medium gray */\n  --color-neutral-400: #a3a3a3;         /* Light gray */\n  --color-neutral-200: #e5e5e5;         /* Very light */\n  --color-neutral-100: #f5f5f5;         /* Off white */\n  --color-neutral-50: #fafafa;          /* Near white */\n\n  /* Semantic Colors */\n  --color-success: #16a34a;             /* Green success */\n  --color-warning: #ca8a04;             /* Amber warning */\n  --color-error: #dc2626;               /* Red error */\n  --color-info: #2563eb;                /* Blue info */\n\n  /* Background & Surface */\n  --color-background: #ffffff;\n  --color-surface: #f9fafb;\n  --color-surface-elevated: #ffffff;\n\n  /* Text */\n  --color-text-primary: #171717;\n  --color-text-secondary: #525252;\n  --color-text-tertiary: #a3a3a3;\n}\n```\n\n**Typography Scale**\n```css\n:root {\n  /* Font Families */\n  --font-sans: var(--font-geist-sans), -apple-system, BlinkMacSystemFont, sans-serif;\n  --font-mono: var(--font-geist-mono), 'SF Mono', Consolas, monospace;\n\n  /* Font Sizes */\n  --text-xs: 0.75rem;      /* 12px */\n  --text-sm: 0.875rem;     /* 14px */\n  --text-base: 1rem;       /* 16px */\n  --text-lg: 1.125rem;     /* 18px */\n  --text-xl: 1.25rem;      /* 20px */\n  --text-2xl: 1.5rem;      /* 24px */\n  --text-3xl: 1.875rem;    /* 30px */\n  --text-4xl: 2.25rem;     /* 36px */\n  --text-5xl: 3rem;        /* 48px */\n  --text-6xl: 3.75rem;     /* 60px */\n\n  /* Line Heights */\n  --leading-none: 1;\n  --leading-tight: 1.25;\n  --leading-snug: 1.375;\n  --leading-normal: 1.5;\n  --leading-relaxed: 1.625;\n  --leading-loose: 2;\n}\n```\n\n**Spacing Scale**\n```css\n:root {\n  /* Spacing tokens following 8px grid */\n  --spacing-0: 0;\n  --spacing-1: 0.25rem;    /* 4px */\n  --spacing-2: 0.5rem;     /* 8px */\n  --spacing-3: 0.75rem;    /* 12px */\n  --spacing-4: 1rem;       /* 16px */\n  --spacing-5: 1.25rem;    /* 20px */\n  --spacing-6: 1.5rem;     /* 24px */\n  --spacing-8: 2rem;       /* 32px */\n  --spacing-10: 2.5rem;    /* 40px */\n  --spacing-12: 3rem;      /* 48px */\n  --spacing-16: 4rem;      /* 64px */\n  --spacing-20: 5rem;      /* 80px */\n  --spacing-24: 6rem;      /* 96px */\n}\n```\n\n### 2. Component Architecture\n\n#### Directory Structure\n```\nsrc/\n├── components/\n│   ├── ui/           # Basic UI components\n│   ├── forms/        # Form-specific components\n│   ├── layout/       # Layout components\n│   ├── esg/          # ESG-specific components\n│   └── ai/           # AI concierge components\n├── styles/\n│   ├── globals.css   # Global styles & tokens\n│   └── components/   # Component-specific styles\n└── assets/\n    ├── icons/        # SVG icons\n    └── images/       # Static images\n```\n\n#### Component Categories\n\n**1. Foundation Components**\n- Button variations (primary, secondary, ghost, danger)\n- Input fields (text, email, password, textarea)\n- Form controls (checkbox, radio, select)\n- Typography components (heading, paragraph, caption)\n\n**2. Layout Components**\n- Header/Navigation (Buyer, Supplier, Admin variants)\n- Footer\n- Sidebar\n- Grid system\n- Container/Section wrappers\n\n**3. Business Components**\n- Product cards\n- ESG certification badges\n- Order status indicators\n- AI chat widget\n- User dashboards\n- Analytics charts\n\n### 3. Styling Approach\n\n**Current**: Tailwind CSS v4 with CSS custom properties\n**Benefits**: \n- Utility-first approach\n- Custom design tokens integration\n- Dark mode support via CSS variables\n- Excellent performance with Tailwind v4\n\n#### Implementation Patterns\n\n**Component Pattern**:\n```jsx\n// Button component example\nexport function Button({ variant = 'primary', size = 'md', children, ...props }) {\n  const baseClasses = \"inline-flex items-center justify-center font-medium transition-colors rounded-lg\";\n  const variants = {\n    primary: \"bg-green-primary text-white hover:bg-green-secondary\",\n    secondary: \"bg-green-light text-green-primary hover:bg-green-accent\",\n    ghost: \"text-green-primary hover:bg-green-subtle\"\n  };\n  const sizes = {\n    sm: \"px-3 py-2 text-sm\",\n    md: \"px-4 py-2.5 text-base\",\n    lg: \"px-6 py-3 text-lg\"\n  };\n\n  return (\n    <button \n      className={`${baseClasses} ${variants[variant]} ${sizes[size]}`}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n}\n```\n\n### 4. Asset Management\n\n#### Current Assets (in `/public/`)\n- `next.svg` - Next.js logo\n- `vercel.svg` - Vercel logo  \n- `file.svg`, `globe.svg`, `window.svg` - UI icons\n\n#### Recommended Icon System\n```\npublic/\n├── icons/\n│   ├── ui/           # Interface icons (menu, close, search)\n│   ├── actions/      # Action icons (edit, delete, save)\n│   ├── status/       # Status icons (success, warning, error)\n│   └── esg/          # ESG-specific icons (leaf, recycle, certificate)\n└── images/\n    ├── avatars/      # User profile images\n    ├── products/     # Product imagery\n    └── brand/        # Brand assets\n```\n\n#### Icon Usage Pattern\n```jsx\n// Icon component with consistent sizing\nexport function Icon({ name, size = 16, className = \"\" }) {\n  return (\n    <Image\n      src={`/icons/${name}.svg`}\n      alt={`${name} icon`}\n      width={size}\n      height={size}\n      className={className}\n    />\n  );\n}\n```\n\n### 5. Responsive Design Strategy\n\n#### Breakpoint System (Tailwind defaults)\n- `sm`: 640px and up (tablet)\n- `md`: 768px and up (small laptop)  \n- `lg`: 1024px and up (desktop)\n- `xl`: 1280px and up (large desktop)\n\n#### Mobile-First Approach\n```jsx\n// Example responsive component\n<div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 lg:gap-8\">\n  <ProductCard />\n  <ProductCard />\n  <ProductCard />\n</div>\n```\n\n### 6. User Experience Patterns\n\n#### Buyer Flow Patterns\n- **Product Discovery**: Card grids, filters, search\n- **ESG Verification**: Modal overlays, certificate badges\n- **Checkout**: Multi-step forms, progress indicators\n\n#### Supplier Flow Patterns  \n- **Dashboard**: Metric cards, charts, data tables\n- **Product Management**: Form sections, image upload, bulk actions\n- **ESG Management**: Document upload, status tracking\n\n#### Admin Flow Patterns\n- **Data Management**: Tables with sorting, filtering, pagination\n- **Approval Workflows**: Review cards, action buttons\n- **Analytics**: Charts, KPI cards, export functions\n\n---\n\n## Figma Integration Guidelines\n\n### 1. Design Token Sync\nWhen importing designs from Figma:\n1. Extract color variables and map to CSS custom properties\n2. Convert typography scales to CSS font size/weight tokens  \n3. Map spacing values to the 8px grid system\n4. Document any new tokens in `globals.css`\n\n### 2. Component Documentation\nFor each Figma component:\n- Document component variants (states, sizes, types)\n- Note interaction behaviors\n- Specify responsive breakpoint behaviors\n- Map to appropriate React component structure\n\n### 3. Asset Export Guidelines\n- **Icons**: Export as SVG, optimize with SVGO\n- **Images**: Use appropriate formats (WebP for photos, SVG for graphics)\n- **Illustrations**: Export at 2x for retina displays\n\n### 4. Accessibility Requirements\n- Ensure color contrast ratios meet WCAG AA standards\n- Include focus states for interactive elements\n- Document keyboard navigation patterns\n- Specify screen reader friendly text alternatives\n\n---\n\n## Development Workflow\n\n### 1. Adding New Components\n1. Create component in appropriate `src/components/` directory\n2. Follow established naming conventions\n3. Use Tailwind classes mapped to design tokens\n4. Include accessibility attributes\n5. Add to component library documentation\n\n### 2. Design Updates\n1. Update design tokens in `globals.css` first\n2. Update affected components\n3. Test across user flows (Buyer, Supplier, Admin)\n4. Verify responsive behavior\n5. Test accessibility compliance\n\n### 3. Quality Checklist\n- [ ] Component follows design token system\n- [ ] Responsive design tested on all breakpoints  \n- [ ] Accessibility attributes included\n- [ ] Dark mode compatibility verified\n- [ ] Performance impact considered\n- [ ] Cross-browser compatibility checked\n\n---\n\n## Sustainability Theme Guidelines\n\n### Visual Identity\n- **Primary Color**: Deep forest green (#2d5d31) - represents growth and sustainability\n- **Accent Colors**: Sage and earth tones - natural, organic feel\n- **Typography**: Clean, modern fonts (Geist) for professional credibility\n- **Imagery**: Natural textures, organic shapes, environmental themes\n\n### ESG-Specific Design Elements\n- **Certification Badges**: Consistent style across all user types\n- **Sustainability Scores**: Visual progress indicators, color-coded ratings  \n- **Environmental Impact**: Icons and graphics emphasizing eco-friendliness\n- **Trust Indicators**: Professional design conveying reliability and transparency\n\n### User Role Differentiation\n- **Buyers**: Consumer-friendly, product-focused interface\n- **Suppliers**: Business-oriented, data-rich dashboard design\n- **Admins**: Functional, information-dense management interface\n\n---\n\n## Implementation Priority\n\n### Phase 1: Foundation\n1. Complete design token implementation\n2. Build core UI component library\n3. Establish layout components\n\n### Phase 2: Business Logic\n1. Implement user-specific components\n2. Build ESG verification interface\n3. Create AI chat component\n\n### Phase 3: Advanced Features\n1. Advanced analytics dashboards\n2. Complex form workflows  \n3. Mobile-optimized experiences\n\n---\n\nThis design guide should be treated as a living document, updated as the design system evolves and new requirements emerge.\n","path":null,"size_bytes":10959,"size_tokens":null},"src/services/adminService.js":{"content":"// Admin service layer - handles admin operations and API calls\nimport { tokens } from '../lib/api';\n\n// API Base URL\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:8000\";\n\n// Generic request handler\nasync function request(path, { method = \"GET\", body, token } = {}) {\n  const headers = { \"Content-Type\": \"application/json\" };\n  if (token) {\n    headers[\"Authorization\"] = `Bearer ${token}`;\n  }\n\n  const res = await fetch(`${API_BASE}${path}`, {\n    method,\n    headers,\n    body: body ? JSON.stringify(body) : undefined,\n  });\n\n  let data = null;\n  try {\n    data = await res.json();\n  } catch {\n    // non-JSON response\n  }\n\n  if (!res.ok) {\n    let message = `Request failed (${res.status})`;\n    if (data) {\n      if (typeof data.detail === \"string\") message = data.detail;\n      else if (Array.isArray(data.detail)) {\n        message = data.detail\n          .map((d) => (d?.msg ? `${d.msg}${d?.loc ? ` at ${d.loc.join('.')}` : ''}` : JSON.stringify(d)))\n          .join(\"; \");\n      } else if (data.message) message = data.message;\n    }\n    const error = new Error(message);\n    error.status = res.status;\n    error.data = data;\n    throw error;\n  }\n\n  return data;\n}\n\nclass AdminService {\n  constructor() {\n    this.cache = new Map();\n    this.cacheTimestamps = new Map();\n    this.CACHE_DURATION = 5 * 60 * 1000; // 5 minutes for admin data\n  }\n\n  // Get current auth token\n  getToken() {\n    const userTokens = tokens.get();\n    return userTokens?.access_token;\n  }\n\n  // Cache management\n  isCacheValid(key) {\n    const timestamp = this.cacheTimestamps.get(key);\n    return timestamp && (Date.now() - timestamp) < this.CACHE_DURATION;\n  }\n\n  setCache(key, data) {\n    this.cache.set(key, data);\n    this.cacheTimestamps.set(key, Date.now());\n  }\n\n  getCache(key) {\n    if (this.isCacheValid(key)) {\n      return this.cache.get(key);\n    }\n    return null;\n  }\n\n  // PRODUCTS API CALLS\n\n  // Get all pending products for review\n  async getPendingProducts(params = {}) {\n    try {\n      const cacheKey = `pending_products_${JSON.stringify(params)}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const queryParams = new URLSearchParams();\n      if (params.page) queryParams.append('page', params.page);\n      if (params.limit) queryParams.append('limit', params.limit);\n\n      const path = `/admin/products/pending${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const result = await request(path, { token });\n      \n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get pending products:', error);\n      throw error;\n    }\n  }\n\n  // Get all products with optional filters\n  async getAllProducts(params = {}) {\n    try {\n      const cacheKey = `all_products_${JSON.stringify(params)}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const queryParams = new URLSearchParams();\n      if (params.page) queryParams.append('page', params.page);\n      if (params.limit) queryParams.append('limit', params.limit);\n      if (params.status_filter) queryParams.append('status_filter', params.status_filter);\n\n      const path = `/admin/products${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const result = await request(path, { token });\n      \n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get all products:', error);\n      throw error;\n    }\n  }\n\n  // Get single product details\n  async getProduct(productId) {\n    try {\n      const cacheKey = `product_${productId}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await request(`/admin/products/${productId}`, { token });\n      \n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get product:', error);\n      throw error;\n    }\n  }\n\n  // Review (approve/reject) a product\n  async reviewProduct(productId, approved, approvalNotes = '') {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await request(`/admin/products/${productId}/review`, {\n        method: 'POST',\n        token,\n        body: {\n          approved,\n          approval_notes: approvalNotes\n        }\n      });\n\n      // Invalidate relevant caches\n      this.cache.delete(`product_${productId}`);\n      this.invalidateProductCaches();\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to review product:', error);\n      throw error;\n    }\n  }\n\n  // Delete a product\n  async deleteProduct(productId) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      await request(`/admin/products/${productId}`, {\n        method: 'DELETE',\n        token\n      });\n\n      // Invalidate relevant caches\n      this.cache.delete(`product_${productId}`);\n      this.invalidateProductCaches();\n      \n      return { success: true };\n    } catch (error) {\n      console.error('Failed to delete product:', error);\n      throw error;\n    }\n  }\n\n  // Update product status (enable/disable)\n  async updateProductStatus(productId, status) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const response = await request(`/admin/products/${productId}/status`, {\n        method: 'PUT',\n        token,\n        body: { status }\n      });\n\n      // Invalidate relevant caches\n      this.cache.delete(`product_${productId}`);\n      this.invalidateProductCaches();\n      \n      return response;\n    } catch (error) {\n      console.error('Failed to update product status:', error);\n      throw error;\n    }\n  }\n\n  // ORDERS API CALLS\n\n  // Get all orders with filters\n  async getAllOrders(params = {}) {\n    try {\n      const cacheKey = `all_orders_${JSON.stringify(params)}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const queryParams = new URLSearchParams();\n      if (params.page) queryParams.append('page', params.page);\n      if (params.limit) queryParams.append('limit', params.limit);\n      if (params.status) queryParams.append('status', params.status);\n      if (params.user_id) queryParams.append('user_id', params.user_id);\n      if (params.supplier_id) queryParams.append('supplier_id', params.supplier_id);\n\n      const path = `/orders/admin/orders${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const result = await request(path, { token });\n      \n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get all orders:', error);\n      throw error;\n    }\n  }\n\n  // Get order analytics\n  async getOrderAnalytics(params = {}) {\n    try {\n      const cacheKey = `order_analytics_${JSON.stringify(params)}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const queryParams = new URLSearchParams();\n      if (params.start_date) queryParams.append('start_date', params.start_date);\n      if (params.end_date) queryParams.append('end_date', params.end_date);\n      if (params.granularity) queryParams.append('granularity', params.granularity);\n\n      const path = `/orders/admin/analytics${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const result = await request(path, { token });\n      \n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get order analytics:', error);\n      throw error;\n    }\n  }\n\n  // SUPPLIER VERIFICATION\n\n  // Get all suppliers with verification status\n  async getAllSuppliers(params = {}) {\n    try {\n      const cacheKey = `all_suppliers_${JSON.stringify(params)}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const queryParams = new URLSearchParams();\n      if (params.page) queryParams.append('page', params.page);\n      if (params.limit) queryParams.append('limit', params.limit);\n      if (params.verification_status) queryParams.append('verification_status', params.verification_status);\n\n      // Using admin endpoint to get suppliers\n      const path = `/admin/suppliers${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const result = await request(path, { token });\n      \n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get all suppliers:', error);\n      throw error;\n    }\n  }\n\n  // Get supplier documents for verification\n  async getSupplierDocuments(supplierId) {\n    try {\n      const cacheKey = `supplier_docs_${supplierId}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      // Admin endpoint to get supplier documents\n      const result = await request(`/admin/suppliers/${supplierId}/documents`, { \n        token\n      });\n      \n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get supplier documents:', error);\n      throw error;\n    }\n  }\n\n  // Approve or reject supplier verification\n  async reviewSupplierVerification(supplierId, action, comment = '') {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await request(`/admin/suppliers/${supplierId}/review`, {\n        method: 'POST',\n        body: {\n          action, // 'approve' or 'reject'\n          comment\n        },\n        token\n      });\n\n      // Invalidate supplier-related caches\n      this.invalidateSupplierCaches();\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to review supplier:', error);\n      throw error;\n    }\n  }\n\n  // Update supplier verification status\n  async updateSupplierStatus(supplierId, isVerified, comment = '') {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      // Map boolean to backend enum values\n      const verification_status = isVerified ? 'verified' : 'rejected';\n      \n      const result = await request(`/admin/suppliers/${supplierId}/verification-status?verification_status=${verification_status}${comment ? `&verification_notes=${encodeURIComponent(comment)}` : ''}`, {\n        method: 'PUT',\n        token\n      });\n\n      // Invalidate supplier-related caches\n      this.invalidateSupplierCaches();\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to update supplier status:', error);\n      throw error;\n    }\n  }\n\n  // DASHBOARD ANALYTICS\n\n  // Get dashboard overview stats\n  async getDashboardStats() {\n    try {\n      const cacheKey = 'dashboard_stats';\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      // Combine multiple API calls for dashboard data\n      const [productsData, ordersData] = await Promise.all([\n        this.getAllProducts({ page: 1, limit: 1 }), // Just for counts\n        this.getAllOrders({ page: 1, limit: 1 }) // Just for counts\n      ]);\n\n      const stats = {\n        totalProducts: productsData.total || 0,\n        pendingProducts: 0, // We'll get this separately\n        totalOrders: ordersData.total || 0,\n        totalRevenue: 0, // Calculate from orders\n        totalSuppliers: 0, // We'll get this from suppliers endpoint\n        verifiedSuppliers: 0\n      };\n\n      // Get pending products count\n      try {\n        const pendingData = await this.getPendingProducts({ page: 1, limit: 1 });\n        stats.pendingProducts = pendingData.total || 0;\n      } catch (error) {\n        console.warn('Could not fetch pending products count:', error);\n      }\n\n      // Get suppliers count\n      try {\n        const suppliersData = await this.getAllSuppliers({ page: 1, limit: 1 });\n        stats.totalSuppliers = suppliersData.total || 0;\n        \n        // Get verified suppliers count\n        const verifiedSuppliersData = await this.getAllSuppliers({ \n          page: 1, \n          limit: 1, \n          verification_status: 'verified' \n        });\n        stats.verifiedSuppliers = verifiedSuppliersData.total || 0;\n      } catch (error) {\n        console.warn('Could not fetch suppliers count:', error);\n      }\n\n      this.setCache(cacheKey, stats);\n      return stats;\n    } catch (error) {\n      console.error('Failed to get dashboard stats:', error);\n      throw error;\n    }\n  }\n\n  // HELPER METHODS\n\n  // Invalidate product-related caches\n  invalidateProductCaches() {\n    const keysToDelete = Array.from(this.cache.keys()).filter(key => \n      key.includes('products') || key.includes('pending_products') || key.includes('dashboard_stats')\n    );\n    keysToDelete.forEach(key => {\n      this.cache.delete(key);\n      this.cacheTimestamps.delete(key);\n    });\n  }\n\n  // Invalidate order-related caches\n  invalidateOrderCaches() {\n    const keysToDelete = Array.from(this.cache.keys()).filter(key => \n      key.includes('orders') || key.includes('dashboard_stats')\n    );\n    keysToDelete.forEach(key => {\n      this.cache.delete(key);\n      this.cacheTimestamps.delete(key);\n    });\n  }\n\n  // Invalidate supplier-related caches\n  invalidateSupplierCaches() {\n    const keysToDelete = Array.from(this.cache.keys()).filter(key => \n      key.includes('supplier') || key.includes('dashboard_stats')\n    );\n    keysToDelete.forEach(key => {\n      this.cache.delete(key);\n      this.cacheTimestamps.delete(key);\n    });\n  }\n\n  // Get sales chart data\n  async getSalesChartData(params = {}) {\n    try {\n      const cacheKey = `sales_chart_${JSON.stringify(params)}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const queryParams = new URLSearchParams();\n      if (params.period) queryParams.append('period', params.period);\n      if (params.type) queryParams.append('type', params.type);\n\n      const path = `/admin/analytics/sales-chart${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const result = await request(path, { token });\n      \n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get sales chart data:', error);\n      // Return mock data as fallback\n      return this.getMockSalesData();\n    }\n  }\n\n  // USER MANAGEMENT API CALLS\n\n  // Get all users with filters\n  async getAllUsers(params = {}) {\n    try {\n      const cacheKey = `all_users_${JSON.stringify(params)}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const queryParams = new URLSearchParams();\n      if (params.page) queryParams.append('page', params.page);\n      if (params.limit) queryParams.append('limit', params.limit);\n      if (params.role) queryParams.append('role', params.role);\n      if (params.status) queryParams.append('status', params.status);\n      if (params.search) queryParams.append('search', params.search);\n\n      const path = `/admin/users${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const result = await request(path, { token });\n      \n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get all users:', error);\n      throw error;\n    }\n  }\n\n  // Get user details\n  async getUser(userId) {\n    try {\n      const cacheKey = `user_${userId}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await request(`/admin/users/${userId}`, { token });\n      \n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get user:', error);\n      throw error;\n    }\n  }\n\n  // Update user status\n  async updateUserStatus(userId, status, reason = '') {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await request(`/admin/users/${userId}/status`, {\n        method: 'PUT',\n        token,\n        body: { status, reason }\n      });\n\n      // Invalidate user caches\n      this.cache.delete(`user_${userId}`);\n      this.invalidateUserCaches();\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to update user status:', error);\n      throw error;\n    }\n  }\n\n  // Delete user\n  async deleteUser(userId) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      await request(`/admin/users/${userId}`, {\n        method: 'DELETE',\n        token\n      });\n\n      // Invalidate user caches\n      this.cache.delete(`user_${userId}`);\n      this.invalidateUserCaches();\n      \n      return { success: true };\n    } catch (error) {\n      console.error('Failed to delete user:', error);\n      throw error;\n    }\n  }\n\n  // ANALYTICS API CALLS\n\n  // Get comprehensive analytics\n  async getAnalytics(params = {}) {\n    try {\n      const cacheKey = `analytics_${JSON.stringify(params)}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const queryParams = new URLSearchParams();\n      if (params.start_date) queryParams.append('start_date', params.start_date);\n      if (params.end_date) queryParams.append('end_date', params.end_date);\n      if (params.granularity) queryParams.append('granularity', params.granularity);\n\n      const path = `/admin/analytics${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const result = await request(path, { token });\n      \n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get analytics:', error);\n      // Return mock data as fallback\n      return this.getMockAnalyticsData();\n    }\n  }\n\n  // Get revenue analytics\n  async getRevenueAnalytics(params = {}) {\n    try {\n      const cacheKey = `revenue_analytics_${JSON.stringify(params)}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const queryParams = new URLSearchParams();\n      if (params.period) queryParams.append('period', params.period);\n      if (params.granularity) queryParams.append('granularity', params.granularity);\n\n      const path = `/admin/analytics/revenue${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const result = await request(path, { token });\n      \n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get revenue analytics:', error);\n      throw error;\n    }\n  }\n\n  // Get user analytics\n  async getUserAnalytics(params = {}) {\n    try {\n      const cacheKey = `user_analytics_${JSON.stringify(params)}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const queryParams = new URLSearchParams();\n      if (params.period) queryParams.append('period', params.period);\n      if (params.granularity) queryParams.append('granularity', params.granularity);\n\n      const path = `/admin/analytics/users${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const result = await request(path, { token });\n      \n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get user analytics:', error);\n      throw error;\n    }\n  }\n\n  // SYSTEM SETTINGS API CALLS\n\n  // Get system settings\n  async getSettings() {\n    try {\n      const cacheKey = 'system_settings';\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await request('/admin/settings', { token });\n      \n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get settings:', error);\n      throw error;\n    }\n  }\n\n  // Update system settings\n  async updateSettings(settings) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await request('/admin/settings', {\n        method: 'PUT',\n        token,\n        body: settings\n      });\n\n      // Invalidate settings cache\n      this.cache.delete('system_settings');\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to update settings:', error);\n      throw error;\n    }\n  }\n\n  // Get top products data\n  async getTopProducts(params = {}) {\n    try {\n      const cacheKey = `top_products_${JSON.stringify(params)}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const queryParams = new URLSearchParams();\n      if (params.limit) queryParams.append('limit', params.limit);\n      if (params.period) queryParams.append('period', params.period);\n\n      const path = `/admin/analytics/top-products${queryParams.toString() ? `?${queryParams.toString()}` : ''}`;\n      const result = await request(path, { token });\n      \n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get top products:', error);\n      // Return mock data as fallback\n      return this.getMockTopProducts();\n    }\n  }\n\n  // Mock data fallbacks\n  getMockSalesData() {\n    return {\n      data: [\n        { day: \"10\", value: 20 },\n        { day: \"11\", value: 45 },\n        { day: \"12\", value: 30 },\n        { day: \"13\", value: 65 },\n        { day: \"14\", value: 50 },\n        { day: \"15\", value: 85 },\n        { day: \"16\", value: 90 },\n        { day: \"17\", value: 75 },\n        { day: \"18\", value: 60 },\n        { day: \"19\", value: 40 },\n        { day: \"20\", value: 55 },\n        { day: \"21\", value: 70 },\n        { day: \"22\", value: 80 },\n      ],\n      maxValue: 90,\n      minValue: 20\n    };\n  }\n\n  getMockTopProducts() {\n    return [\n      { name: \"Bamboo Spoons\", orders: 2345, likes: 2223, image: \"/spoons.png\" },\n      { name: \"Wooden Baskets\", orders: 1890, likes: 1856, image: \"/category1.png\" },\n      { name: \"Jute Bags\", orders: 1654, likes: 1423, image: \"/category1.png\" },\n      { name: \"Eco-friendly Plates\", orders: 1432, likes: 1289, image: \"/spoons.png\" },\n    ];\n  }\n\n  // Mock analytics data\n  getMockAnalyticsData() {\n    return {\n      overview: {\n        totalRevenue: 125430,\n        totalOrders: 342,\n        totalUsers: 1250,\n        totalProducts: 28,\n        revenueGrowth: 12.5,\n        ordersGrowth: 8.3,\n        usersGrowth: 15.2,\n        productsGrowth: 5.7\n      },\n      revenue: [\n        { month: \"Jan\", revenue: 15000, orders: 45 },\n        { month: \"Feb\", revenue: 18000, orders: 52 },\n        { month: \"Mar\", revenue: 22000, orders: 68 },\n        { month: \"Apr\", revenue: 25000, orders: 75 },\n        { month: \"May\", revenue: 28000, orders: 82 },\n        { month: \"Jun\", revenue: 32000, orders: 95 }\n      ],\n      users: [\n        { month: \"Jan\", new: 120, returning: 80 },\n        { month: \"Feb\", new: 150, returning: 95 },\n        { month: \"Mar\", new: 180, returning: 110 },\n        { month: \"Apr\", new: 200, returning: 125 },\n        { month: \"May\", new: 220, returning: 140 },\n        { month: \"Jun\", new: 250, returning: 160 }\n      ],\n      conversion: [\n        { source: \"Organic Search\", visitors: 1200, conversions: 48, rate: 4.0 },\n        { source: \"Social Media\", visitors: 800, conversions: 24, rate: 3.0 },\n        { source: \"Direct\", visitors: 600, conversions: 30, rate: 5.0 },\n        { source: \"Email\", visitors: 400, conversions: 28, rate: 7.0 },\n        { source: \"Referral\", visitors: 300, conversions: 18, rate: 6.0 }\n      ]\n    };\n  }\n\n  // Invalidate user-related caches\n  invalidateUserCaches() {\n    const keysToDelete = Array.from(this.cache.keys()).filter(key => \n      key.includes('user') || key.includes('analytics') || key.includes('dashboard_stats')\n    );\n    keysToDelete.forEach(key => {\n      this.cache.delete(key);\n      this.cacheTimestamps.delete(key);\n    });\n  }\n}\n\nexport default new AdminService();\n","path":null,"size_bytes":25462,"size_tokens":null},"ADMIN_DASHBOARD_README.md":{"content":"# AveoEarth Admin Dashboard\n\nA comprehensive admin dashboard for the AveoEarth sustainable e-commerce marketplace, built with Next.js 15.5.0, React 19.1.0, and Tailwind CSS v4.\n\n## 🌟 Features\n\n### 📊 **Analytics & Reporting**\n- **Real-time Dashboard**: Overview of key metrics, revenue trends, and user activity\n- **Advanced Analytics**: Revenue analytics, user growth charts, conversion tracking\n- **Custom Reports**: Exportable reports with multiple time ranges and filters\n- **Visual Charts**: Interactive charts for sales, users, products, and revenue data\n\n### 👥 **User Management**\n- **User Overview**: Complete user list with search and filtering\n- **Role Management**: Manage buyer, supplier, and admin roles\n- **Status Control**: Activate, suspend, or delete user accounts\n- **Bulk Actions**: Perform actions on multiple users simultaneously\n- **User Analytics**: Track user activity, orders, and spending patterns\n\n### 🏪 **Supplier Management**\n- **Supplier Verification**: Review and approve supplier applications\n- **Document Management**: View and verify business documents\n- **Performance Tracking**: Monitor supplier performance and ratings\n- **Revenue Analytics**: Track supplier-generated revenue\n- **Status Management**: Approve, reject, or suspend suppliers\n\n### 📦 **Product Management**\n- **Product Review**: Approve or reject product submissions\n- **Inventory Management**: Monitor stock levels and product status\n- **Category Management**: Organize products by categories\n- **Bulk Operations**: Enable/disable multiple products\n- **Product Analytics**: Track best-selling products and performance\n\n### 📋 **Order Management**\n- **Order Overview**: Complete order list with status tracking\n- **Order Details**: Detailed view of individual orders\n- **Status Updates**: Update order status and tracking information\n- **Order Analytics**: Revenue tracking and order trends\n- **Customer Support**: Handle order-related issues\n\n### ⚙️ **System Settings**\n- **General Settings**: Site configuration, timezone, currency\n- **Notification Settings**: Configure email and system notifications\n- **Security Settings**: Password policies, 2FA, session management\n- **Payment Settings**: Configure payment gateways and commission rates\n- **Feature Flags**: Enable/disable platform features\n- **Integrations**: Manage third-party integrations (Analytics, Email, etc.)\n\n## 🎨 **Design System**\n\n### **Color Palette**\n- **Primary**: Emerald Green (#047857) - Sustainable, eco-friendly theme\n- **Secondary**: Forest Green (#065f46) - Deep, professional\n- **Accent**: Sage Green (#6b9080) - Soft, natural\n- **Neutral**: Gray scale for text and backgrounds\n- **Status Colors**: Success (green), Warning (yellow), Error (red), Info (blue)\n\n### **Typography**\n- **Primary Font**: Poppins - Clean, modern, readable\n- **Secondary Font**: Reem Kufi - For Arabic text support\n- **Monospace**: Geist Mono - For code and data display\n\n### **Components**\n- **Cards**: Rounded corners with subtle shadows\n- **Buttons**: Consistent styling with hover states\n- **Forms**: Clean inputs with focus states\n- **Tables**: Responsive with sorting and filtering\n- **Modals**: Centered overlays with backdrop blur\n\n## 🚀 **Getting Started**\n\n### **Prerequisites**\n- Node.js 18+\n- Next.js 15.5.0\n- React 19.1.0\n- Tailwind CSS v4\n\n### **Installation**\n```bash\n# Install dependencies\nnpm install\n\n# Start development server\nnpm run dev\n\n# Access admin dashboard\nhttp://localhost:3000/admin/dashboard\n```\n\n### **Authentication**\n- Admin login: `/admin/login`\n- Role-based access control\n- JWT token authentication\n- Session management\n\n## 📁 **File Structure**\n\n```\nfrontend/src/\n├── app/admin/\n│   ├── dashboard/page.jsx          # Main dashboard\n│   ├── login/page.jsx              # Admin login\n│   └── layout.js                   # Admin layout wrapper\n├── components/admin/\n│   ├── AdminSidebar.jsx            # Navigation sidebar\n│   ├── AdminTopbar.jsx             # Top navigation bar\n│   ├── screens/                    # Dashboard screens\n│   │   ├── DashboardScreen.jsx     # Overview dashboard\n│   │   ├── AnalyticsScreen.jsx     # Analytics & reports\n│   │   ├── UsersScreen.jsx         # User management\n│   │   ├── SuppliersScreen.jsx     # Supplier management\n│   │   ├── ProductsScreen.jsx      # Product management\n│   │   ├── OrdersScreen.jsx        # Order management\n│   │   └── SettingsScreen.jsx      # System settings\n│   └── ui/                         # Reusable UI components\n└── services/\n    └── adminService.js             # Admin API service\n```\n\n## 🔧 **API Integration**\n\n### **Admin Service**\nThe `adminService.js` provides a comprehensive API layer for admin operations:\n\n```javascript\n// Dashboard analytics\nawait adminService.getDashboardStats();\nawait adminService.getAnalytics(params);\n\n// User management\nawait adminService.getAllUsers(params);\nawait adminService.updateUserStatus(userId, status);\n\n// Product management\nawait adminService.getAllProducts(params);\nawait adminService.reviewProduct(productId, approved, notes);\n\n// Order management\nawait adminService.getAllOrders(params);\nawait adminService.getOrderAnalytics(params);\n\n// Settings\nawait adminService.getSettings();\nawait adminService.updateSettings(settings);\n```\n\n### **Caching**\n- Intelligent caching system for API responses\n- 5-minute cache duration for admin data\n- Automatic cache invalidation on updates\n- Fallback to mock data when API fails\n\n## 📱 **Responsive Design**\n\n### **Breakpoints**\n- **Mobile**: < 768px - Collapsible sidebar, stacked layout\n- **Tablet**: 768px - 1024px - Adjusted spacing and sizing\n- **Desktop**: > 1024px - Full sidebar and multi-column layout\n\n### **Mobile Features**\n- Hamburger menu for navigation\n- Touch-friendly buttons and inputs\n- Swipe gestures for tables\n- Optimized forms for mobile input\n\n## 🔐 **Security Features**\n\n### **Authentication**\n- JWT token-based authentication\n- Role-based access control (RBAC)\n- Session timeout management\n- Secure password policies\n\n### **Authorization**\n- Admin-only access to dashboard\n- Feature-level permissions\n- API endpoint protection\n- Secure data transmission\n\n### **Data Protection**\n- Input validation and sanitization\n- XSS protection\n- CSRF protection\n- Secure API communication\n\n## 📊 **Analytics Features**\n\n### **Dashboard Metrics**\n- Total revenue and growth\n- Order count and trends\n- User registration and activity\n- Product performance\n- Supplier metrics\n\n### **Charts & Visualizations**\n- Revenue trend charts\n- User growth graphs\n- Product performance bars\n- Conversion funnel analysis\n- Geographic distribution maps\n\n### **Export Capabilities**\n- PDF report generation\n- CSV data export\n- Excel spreadsheet export\n- Custom date range reports\n\n## 🎯 **Performance Optimizations**\n\n### **Loading States**\n- Skeleton loaders for better UX\n- Progressive loading for large datasets\n- Optimistic updates for better responsiveness\n\n### **Caching Strategy**\n- API response caching\n- Component-level memoization\n- Image optimization\n- Bundle splitting\n\n### **Error Handling**\n- Graceful error boundaries\n- User-friendly error messages\n- Retry mechanisms\n- Fallback data display\n\n## 🧪 **Testing**\n\n### **Component Testing**\n```bash\n# Run component tests\nnpm run test:components\n\n# Run with coverage\nnpm run test:coverage\n```\n\n### **Integration Testing**\n```bash\n# Run integration tests\nnpm run test:integration\n```\n\n## 🚀 **Deployment**\n\n### **Production Build**\n```bash\n# Build for production\nnpm run build\n\n# Start production server\nnpm start\n```\n\n### **Environment Variables**\n```env\nNEXT_PUBLIC_API_BASE=http://localhost:8000\nNEXT_PUBLIC_ADMIN_URL=http://localhost:3000/admin\n```\n\n## 🔄 **Updates & Maintenance**\n\n### **Version Control**\n- Semantic versioning\n- Changelog maintenance\n- Feature flag system\n- Rollback capabilities\n\n### **Monitoring**\n- Error tracking\n- Performance monitoring\n- User analytics\n- System health checks\n\n## 📞 **Support**\n\n### **Documentation**\n- Component documentation\n- API documentation\n- User guides\n- Video tutorials\n\n### **Contact**\n- Technical support: admin@aveoearth.com\n- Bug reports: GitHub Issues\n- Feature requests: GitHub Discussions\n\n## 🎉 **Contributing**\n\n### **Development Setup**\n1. Fork the repository\n2. Create a feature branch\n3. Make your changes\n4. Add tests\n5. Submit a pull request\n\n### **Code Standards**\n- ESLint configuration\n- Prettier formatting\n- TypeScript support\n- Component documentation\n\n---\n\n**Built with ❤️ for sustainable e-commerce** 🌱\n","path":null,"size_bytes":8695,"size_tokens":null},"src/components/ui/Card.jsx":{"content":"/**\n * Card Component - Flexible container for content\n * \n * Features:\n * - Multiple variants (default, elevated, outlined)\n * - Consistent spacing and styling\n * - Support for interactive states\n */\n\nexport default function Card({ \n  variant = 'default', \n  className = '', \n  children, \n  interactive = false,\n  ...props \n}) {\n  const baseClasses = \"rounded-lg\";\n  \n  const variants = {\n  default: \"bg-[var(--color-surface-elevated)] border border-[var(--color-border)]\",\n  elevated: \"bg-[var(--color-surface-elevated)] shadow-sm hover:shadow-md transition-shadow duration-200\",\n  outlined: \"bg-transparent border-2 border-[var(--color-border-strong)]\",\n  subtle: \"bg-[var(--color-surface)] border border-[var(--color-border)]\"\n  };\n\n  const interactiveClasses = interactive ? \"cursor-pointer hover:scale-[1.02] transition-transform duration-200\" : \"\";\n\n  const combinedClasses = `${baseClasses} ${variants[variant]} ${interactiveClasses} ${className}`;\n\n  return (\n    <div className={combinedClasses} {...props}>\n      {children}\n    </div>\n  );\n}\n\n// Card sub-components for consistent structure\nexport function CardHeader({ className = '', children, ...props }) {\n  return (\n  <div className={`px-6 py-4 border-b border-[var(--color-border)] ${className}`} {...props}>\n      {children}\n    </div>\n  );\n}\n\nexport function CardContent({ className = '', children, ...props }) {\n  return (\n    <div className={`px-6 py-4 ${className}`} {...props}>\n      {children}\n    </div>\n  );\n}\n\nexport function CardFooter({ className = '', children, ...props }) {\n  return (\n  <div className={`px-6 py-4 border-t border-[var(--color-border)] ${className}`} {...props}>\n      {children}\n    </div>\n  );\n}\n","path":null,"size_bytes":1696,"size_tokens":null},"src/components/admin/TimeFilter.jsx":{"content":"\"use client\";\n\nexport default function TimeFilter({ selectedPeriod = \"Today\", onPeriodChange }) {\n  const periods = [\"Today\", \"This week\", \"This Month\"];\n  \n  return (\n    <div className=\"bg-gray-100 rounded-full p-1 inline-flex\">\n      {periods.map((period) => (\n        <button\n          key={period}\n          onClick={() => onPeriodChange?.(period)}\n          className={`px-3 py-1 text-xs font-semibold rounded-full transition-colors ${\n            selectedPeriod === period\n              ? \"bg-white text-gray-900 shadow-sm\"\n              : \"text-gray-600 hover:text-gray-900\"\n          }`}\n        >\n          {period}\n        </button>\n      ))}\n    </div>\n  );\n}\n","path":null,"size_bytes":672,"size_tokens":null},"src/app/category/[slug]/page.jsx":{"content":"import { redirect } from \"next/navigation\";\n\nexport default function CategorySlugPage({ params }) {\n  const { slug } = params || {};\n  // Redirect to explore with category filter to leverage existing backend wiring/UI\n  redirect(`/explore?category=${encodeURIComponent(slug || \"\")}`);\n}\n\n\n","path":null,"size_bytes":289,"size_tokens":null},"src/app/vendor/page.jsx":{"content":"\"use client\";\n\nimport { useState } from \"react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport Card, { CardContent } from \"../../components/ui/Card\";\nimport Button from \"../../components/ui/Button\";\n\nexport default function VendorLogin() {\n  const router = useRouter();\n  const [mode, setMode] = useState(\"login\"); // 'login' | 'register'\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n    confirmPassword: \"\",\n    businessName: \"\",\n    contactPerson: \"\",\n    phone: \"\",\n    agreeToTerms: false\n  });\n\n  const handleChange = (field, value) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      if (mode === \"register\") {\n        // Redirect to the detailed onboarding flow\n        router.push(\"/vendor/onboarding\");\n        return;\n      }\n      \n      // Handle login\n      console.log(\"Vendor auth data:\", formData);\n      \n      // For now, just redirect to dashboard\n      router.push(\"/vendor/dashboard\");\n    } catch (error) {\n      console.error(\"Authentication failed:\", error);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <nav className=\"bg-white border-b border-gray-200 px-6 py-4\">\n        <div className=\"flex items-center justify-between max-w-7xl mx-auto\">\n          <Link href=\"/\" className=\"flex items-center gap-2\">\n            <div className=\"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center\">\n              <span className=\"text-white font-bold text-sm\">A</span>\n            </div>\n            <span className=\"font-bold text-lg text-gray-900\">AveoEarth</span>\n            <span className=\"text-sm text-gray-500 ml-2\">Vendor Portal</span>\n          </Link>\n          \n          <Link href=\"/\" className=\"text-gray-600 hover:text-gray-900 flex items-center gap-2\">\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m0 7h18\" />\n            </svg>\n            Back to Marketplace\n          </Link>\n        </div>\n      </nav>\n\n      <div className=\"max-w-md mx-auto px-4 py-12\">\n        {/* Welcome Section */}\n        <div className=\"text-center mb-8\">\n          <div className=\"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n            <span className=\"text-2xl\">🏪</span>\n          </div>\n          <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">\n            <span className=\"font-['Beth_Ellen',cursive] font-normal\">Welcome</span> Vendor\n          </h1>\n          <p className=\"text-gray-600\">\n            {mode === \"login\" \n              ? \"Sign in to your vendor account\" \n              : \"Join AveoEarth as a sustainable vendor\"\n            }\n          </p>\n        </div>\n\n        {/* Auth Form */}\n        <Card>\n          <CardContent className=\"p-6\">\n            {/* Mode Toggle */}\n            <div className=\"flex bg-gray-100 rounded-lg p-1 mb-6\">\n              <button\n                onClick={() => setMode(\"login\")}\n                className={`flex-1 py-2 px-4 text-sm font-medium rounded-md transition-colors ${\n                  mode === \"login\"\n                    ? \"bg-white text-gray-900 shadow-sm\"\n                    : \"text-gray-500 hover:text-gray-700\"\n                }`}\n              >\n                Sign In\n              </button>\n              <button\n                onClick={() => setMode(\"register\")}\n                className={`flex-1 py-2 px-4 text-sm font-medium rounded-md transition-colors ${\n                  mode === \"register\"\n                    ? \"bg-white text-gray-900 shadow-sm\"\n                    : \"text-gray-500 hover:text-gray-700\"\n                }`}\n              >\n                Register\n              </button>\n            </div>\n\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              {mode === \"register\" && (\n                <>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Business Name\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={formData.businessName}\n                      onChange={(e) => handleChange(\"businessName\", e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                      placeholder=\"Enter your business name\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Contact Person\n                    </label>\n                    <input\n                      type=\"text\"\n                      value={formData.contactPerson}\n                      onChange={(e) => handleChange(\"contactPerson\", e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                      placeholder=\"Your full name\"\n                      required\n                    />\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Phone Number\n                    </label>\n                    <input\n                      type=\"tel\"\n                      value={formData.phone}\n                      onChange={(e) => handleChange(\"phone\", e.target.value)}\n                      className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                      placeholder=\"+1 (555) 123-4567\"\n                      required\n                    />\n                  </div>\n                </>\n              )}\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Email Address\n                </label>\n                <input\n                  type=\"email\"\n                  value={formData.email}\n                  onChange={(e) => handleChange(\"email\", e.target.value)}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"vendor@business.com\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Password\n                </label>\n                <input\n                  type=\"password\"\n                  value={formData.password}\n                  onChange={(e) => handleChange(\"password\", e.target.value)}\n                  className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                  placeholder=\"Create a secure password\"\n                  required\n                />\n              </div>\n\n              {mode === \"register\" && (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Confirm Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    value={formData.confirmPassword}\n                    onChange={(e) => handleChange(\"confirmPassword\", e.target.value)}\n                    className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                    placeholder=\"Confirm your password\"\n                    required\n                  />\n                </div>\n              )}\n\n              {mode === \"register\" && (\n                <div className=\"flex items-start gap-3\">\n                  <input\n                    type=\"checkbox\"\n                    id=\"terms\"\n                    checked={formData.agreeToTerms}\n                    onChange={(e) => handleChange(\"agreeToTerms\", e.target.checked)}\n                    className=\"mt-1 h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500\"\n                    required\n                  />\n                  <label htmlFor=\"terms\" className=\"text-sm text-gray-700\">\n                    I agree to the{\" \"}\n                    <Link href=\"/vendor/terms\" className=\"text-green-600 hover:text-green-700\">\n                      Terms of Service\n                    </Link>{\" \"}\n                    and{\" \"}\n                    <Link href=\"/vendor/privacy\" className=\"text-green-600 hover:text-green-700\">\n                      Privacy Policy\n                    </Link>\n                  </label>\n                </div>\n              )}\n\n              <Button type=\"submit\" className=\"w-full\">\n                {mode === \"login\" ? \"Sign In\" : \"Start Registration Process\"}\n              </Button>\n              \n              {mode === \"register\" && (\n                <div className=\"mt-3\">\n                  <Link href=\"/vendor/onboarding\">\n                    <Button variant=\"outline\" className=\"w-full\">\n                      Direct Registration (Recommended)\n                    </Button>\n                  </Link>\n                </div>\n              )}\n            </form>\n\n            {mode === \"login\" && (\n              <div className=\"mt-4 text-center\">\n                <Link href=\"/vendor/forgot-password\" className=\"text-sm text-green-600 hover:text-green-700\">\n                  Forgot your password?\n                </Link>\n              </div>\n            )}\n\n            <div className=\"mt-6 pt-6 border-t border-gray-200 text-center\">\n              <p className=\"text-sm text-gray-600\">\n                Need help?{\" \"}\n                <Link href=\"/vendor/support\" className=\"text-green-600 hover:text-green-700\">\n                  Contact Vendor Support\n                </Link>\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Benefits Section for Registration */}\n        {mode === \"register\" && (\n          <Card className=\"mt-8\">\n            <CardContent className=\"p-6\">\n              <h3 className=\"font-bold text-lg text-gray-800 mb-4\">Why Sell on AveoEarth?</h3>\n              <div className=\"space-y-3\">\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center\">\n                    <span className=\"text-green-600\">🌱</span>\n                  </div>\n                  <div>\n                    <div className=\"font-medium text-gray-800\">Sustainable Focus</div>\n                    <div className=\"text-sm text-gray-600\">Reach eco-conscious customers</div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center\">\n                    <span className=\"text-blue-600\">📊</span>\n                  </div>\n                  <div>\n                    <div className=\"font-medium text-gray-800\">Analytics & Insights</div>\n                    <div className=\"text-sm text-gray-600\">Track your performance</div>\n                  </div>\n                </div>\n                <div className=\"flex items-center gap-3\">\n                  <div className=\"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center\">\n                    <span className=\"text-amber-600\">💰</span>\n                  </div>\n                  <div>\n                    <div className=\"font-medium text-gray-800\">Competitive Fees</div>\n                    <div className=\"text-sm text-gray-600\">Low transaction costs</div>\n                  </div>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n    </div>\n  );\n}\n","path":null,"size_bytes":12078,"size_tokens":null},"src/services/productsService.js":{"content":"// Products service layer - handles business logic for product management\nimport { productsSupplier, productsBuyer, tokens } from '../lib/api';\n\nclass ProductsService {\n  constructor() {\n    this.cache = new Map();\n    this.cacheTimestamps = new Map();\n    this.CACHE_DURATION = 5 * 60 * 1000; // 5 minutes\n  }\n\n  // Get current auth token\n  getToken() {\n    const userTokens = tokens.get();\n    return userTokens?.access_token;\n  }\n\n  // Check if cache is valid\n  isCacheValid(key) {\n    const timestamp = this.cacheTimestamps.get(key);\n    return timestamp && (Date.now() - timestamp) < this.CACHE_DURATION;\n  }\n\n  // Set cache with timestamp\n  setCache(key, data) {\n    this.cache.set(key, data);\n    this.cacheTimestamps.set(key, Date.now());\n  }\n\n  // Get cache if valid\n  getCache(key) {\n    if (this.isCacheValid(key)) {\n      return this.cache.get(key);\n    }\n    return null;\n  }\n\n  // SUPPLIER METHODS\n\n  // Create new product\n  async createProduct(productData) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await productsSupplier.createProduct(productData, token);\n      \n      // Invalidate products list cache\n      this.cache.delete('supplier_products');\n      this.cacheTimestamps.delete('supplier_products');\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to create product:', error);\n      throw error;\n    }\n  }\n\n  // Get supplier's products with caching\n  async getSupplierProducts(params = {}) {\n    try {\n      const cacheKey = `supplier_products_${JSON.stringify(params)}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await productsSupplier.listProducts(params, token);\n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get supplier products:', error);\n      throw error;\n    }\n  }\n\n  // Get single product for supplier\n  async getSupplierProduct(productId) {\n    try {\n      const cacheKey = `supplier_product_${productId}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await productsSupplier.getProduct(productId, token);\n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get supplier product:', error);\n      throw error;\n    }\n  }\n\n  // Update product\n  async updateProduct(productId, productData) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await productsSupplier.updateProduct(productId, productData, token);\n      \n      // Invalidate caches\n      this.cache.delete(`supplier_product_${productId}`);\n      this.cache.delete('supplier_products');\n      this.cacheTimestamps.delete(`supplier_product_${productId}`);\n      this.cacheTimestamps.delete('supplier_products');\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to update product:', error);\n      throw error;\n    }\n  }\n\n  // Delete product\n  async deleteProduct(productId) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      await productsSupplier.deleteProduct(productId, token);\n      \n      // Invalidate caches\n      this.cache.delete(`supplier_product_${productId}`);\n      this.cache.delete('supplier_products');\n      this.cacheTimestamps.delete(`supplier_product_${productId}`);\n      this.cacheTimestamps.delete('supplier_products');\n    } catch (error) {\n      console.error('Failed to delete product:', error);\n      throw error;\n    }\n  }\n\n  // Update product status (active/inactive)\n  async updateProductStatus(productId, status) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      await productsSupplier.updateProduct(productId, { status }, token);\n      \n      // Invalidate caches\n      this.cache.delete(`supplier_product_${productId}`);\n      this.cache.delete('supplier_products');\n      this.cacheTimestamps.delete(`supplier_product_${productId}`);\n      this.cacheTimestrams.delete('supplier_products');\n    } catch (error) {\n      console.error('Failed to update product status:', error);\n      throw error;\n    }\n  }\n\n  // Toggle product visibility (visible/hidden)\n  async toggleProductVisibility(productId, currentVisibility) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      // Determine new visibility (opposite of current)\n      const newVisibility = currentVisibility === 'hidden' ? 'visible' : 'hidden';\n      \n      // Create form data for application/x-www-form-urlencoded\n      const formData = new URLSearchParams();\n      formData.append('visibility', newVisibility);\n\n      const response = await fetch(`${process.env.NEXT_PUBLIC_API_BASE || 'http://localhost:8000'}/supplier/products/${productId}/visibility`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n          'Authorization': `Bearer ${token}`\n        },\n        body: formData\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        console.log(errorData);\n        throw new Error(errorData.detail || `HTTP ${response.status}`);\n      }\n\n      const result = await response.json();\n      \n      // Invalidate caches\n      this.cache.delete(`supplier_product_${productId}`);\n      this.cache.delete('supplier_products');\n      this.cacheTimestamps.delete(`supplier_product_${productId}`);\n      this.cacheTimestamps.delete('supplier_products');\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to toggle product visibility:', error);\n      throw error;\n    }\n  }\n\n  // Publish product\n  async publishProduct(productId) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await productsSupplier.publishProduct(productId, token);\n      \n      // Invalidate caches\n      this.cache.delete(`supplier_product_${productId}`);\n      this.cache.delete('supplier_products');\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to publish product:', error);\n      throw error;\n    }\n  }\n\n  // Upload product images\n  async uploadProductImages(productId, files) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await productsSupplier.uploadImages(productId, files, token);\n      \n      // Invalidate product cache\n      this.cache.delete(`supplier_product_${productId}`);\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to upload product images:', error);\n      throw error;\n    }\n  }\n\n  // Delete product image\n  async deleteProductImage(productId, imageId) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const response = await fetch(`${process.env.NEXT_PUBLIC_API_BASE || 'http://localhost:8000'}/supplier/products/${productId}/images/${imageId}`, {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.detail || `HTTP ${response.status}`);\n      }\n\n      // Invalidate product cache\n      this.cache.delete(`supplier_product_${productId}`);\n      \n      return await response.json();\n    } catch (error) {\n      console.error('Failed to delete product image:', error);\n      throw error;\n    }\n  }\n\n  // Update inventory\n  async updateInventory(productId, inventoryData) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await productsSupplier.updateInventory(productId, inventoryData, token);\n      \n      // Invalidate product cache\n      this.cache.delete(`supplier_product_${productId}`);\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to update inventory:', error);\n      throw error;\n    }\n  }\n\n  // Get analytics\n  async getAnalytics() {\n    try {\n      const cacheKey = 'supplier_analytics';\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await productsSupplier.getAnalytics(token);\n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get analytics:', error);\n      throw error;\n    }\n  }\n\n  // Get low stock products\n  async getLowStockProducts() {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await productsSupplier.getLowStock(token);\n      return result;\n    } catch (error) {\n      console.error('Failed to get low stock products:', error);\n      throw error;\n    }\n  }\n\n  // Get categories for supplier\n  async getCategories() {\n    try {\n      const cacheKey = 'supplier_categories';\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await productsSupplier.getCategories(token);\n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get categories:', error);\n      throw error;\n    }\n  }\n\n  // Get brands for supplier\n  async getBrands() {\n    try {\n      const cacheKey = 'supplier_brands';\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await productsSupplier.getBrands(token);\n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get brands:', error);\n      throw error;\n    }\n  }\n\n  // BUYER METHODS (no auth required for most)\n\n  // Browse products for buyers\n  async browseProducts(params = {}) {\n    try {\n      const cacheKey = `buyer_products_${JSON.stringify(params)}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const result = await productsBuyer.listProducts(params);\n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to browse products:', error);\n      throw error;\n    }\n  }\n\n  // Get product details for buyers\n  async getBuyerProduct(productSlug) {\n    try {\n      const cacheKey = `buyer_product_${productSlug}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const result = await productsBuyer.getProduct(productSlug);\n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get buyer product:', error);\n      throw error;\n    }\n  }\n\n  // Get category tree for buyers\n  async getCategoryTree() {\n    try {\n      const cacheKey = 'buyer_categories_tree';\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const result = await productsBuyer.getCategoriesTree();\n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get category tree:', error);\n      throw error;\n    }\n  }\n\n  // Get active brands for buyers\n  async getActiveBrands() {\n    try {\n      const cacheKey = 'buyer_active_brands';\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const result = await productsBuyer.getActiveBrands();\n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get active brands:', error);\n      throw error;\n    }\n  }\n\n  // REVIEW METHODS\n\n  // Create product review\n  async createReview(productId, reviewData) {\n    try {\n      const token = this.getToken();\n      if (!token) throw new Error('Authentication required');\n\n      const result = await productsBuyer.createReview(productId, reviewData, token);\n      \n      // Invalidate related caches\n      this.cache.delete(`buyer_product_reviews_${productId}`);\n      this.cache.delete(`buyer_product_review_stats_${productId}`);\n      \n      return result;\n    } catch (error) {\n      console.error('Failed to create review:', error);\n      throw error;\n    }\n  }\n\n  // Get product reviews\n  async getProductReviews(productId, params = {}) {\n    try {\n      const cacheKey = `buyer_product_reviews_${productId}_${JSON.stringify(params)}`;\n      const cached = this.getCache(cacheKey);\n      if (cached) return cached;\n\n      const result = await productsBuyer.getReviews(productId, params);\n      this.setCache(cacheKey, result);\n      return result;\n    } catch (error) {\n      console.error('Failed to get product reviews:', error);\n      throw error;\n    }\n  }\n\n  // Clear all caches\n  clearCache() {\n    this.cache.clear();\n    this.cacheTimestamps.clear();\n  }\n\n  // Clear specific cache entries\n  clearProductCache(productId = null) {\n    if (productId) {\n      this.cache.delete(`supplier_product_${productId}`);\n      this.cache.delete(`buyer_product_${productId}`);\n      this.cacheTimestamps.delete(`supplier_product_${productId}`);\n      this.cacheTimestamps.delete(`buyer_product_${productId}`);\n    } else {\n      // Clear all product caches\n      for (const key of this.cache.keys()) {\n        if (key.includes('product')) {\n          this.cache.delete(key);\n          this.cacheTimestamps.delete(key);\n        }\n      }\n    }\n  }\n}\n\n// Create singleton instance\nexport const productsService = new ProductsService();\nexport default productsService;\n","path":null,"size_bytes":14137,"size_tokens":null},"src/app/gift/page.jsx":{"content":"export const metadata = { title: \"Gifts\" };\n\nexport default function GiftPage() {\n  return (\n    <div className=\"container mx-auto px-4 py-10\">\n      <h1 className=\"text-3xl font-semibold mb-3\">Gift Bundles</h1>\n      <p className=\"text-neutral-600\">Seasonal kits and curated gift sets.</p>\n    </div>\n  );\n}\n\n\n","path":null,"size_bytes":311,"size_tokens":null},"src/components/forms/VendorOnboarding.jsx":{"content":"\"use client\";\n\nimport { useState } from \"react\";\nimport Image from \"next/image\";\nimport Card, { CardContent, CardHeader } from \"../ui/Card\";\nimport Button from \"../ui/Button\";\n\nexport default function VendorOnboarding({ onComplete }) {\n  const [currentStep, setCurrentStep] = useState(1);\n  const [formData, setFormData] = useState({\n    // Business Information\n    businessName: \"\",\n    businessType: \"\",\n    registrationNumber: \"\",\n    taxId: \"\",\n    website: \"\",\n    description: \"\",\n    \n    // Bank Account Details\n    bankName: \"\",\n    accountNumber: \"\",\n    routingNumber: \"\",\n    accountHolderName: \"\",\n    \n    // File Uploads\n    logo: null,\n    banner: null,\n    kycDocuments: [],\n    \n    // Contact Information\n    contactPerson: \"\",\n    contactEmail: \"\",\n    contactPhone: \"\",\n    businessAddress: \"\",\n    city: \"\",\n    state: \"\",\n    zipCode: \"\",\n    country: \"\"\n  });\n\n  const [errors, setErrors] = useState({});\n\n  const steps = [\n    { id: 1, title: \"Business Information\", icon: \"🏢\" },\n    { id: 2, title: \"Contact & Address\", icon: \"📍\" },\n    { id: 3, title: \"Bank Details\", icon: \"🏦\" },\n    { id: 4, title: \"Documents & Media\", icon: \"📄\" },\n    { id: 5, title: \"Review & Submit\", icon: \"✅\" }\n  ];\n\n  const businessTypes = [\n    \"Sole Proprietorship\",\n    \"Partnership\",\n    \"LLC\",\n    \"Corporation\",\n    \"Cooperative\",\n    \"Non-Profit\"\n  ];\n\n  const handleInputChange = (field, value) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    if (errors[field]) {\n      setErrors(prev => ({ ...prev, [field]: null }));\n    }\n  };\n\n  const handleFileUpload = (field, files) => {\n    if (field === 'kycDocuments') {\n      const newFiles = Array.from(files).map(file => ({\n        file,\n        name: file.name,\n        type: file.type,\n        size: file.size,\n        preview: URL.createObjectURL(file)\n      }));\n      setFormData(prev => ({ \n        ...prev, \n        [field]: [...prev[field], ...newFiles]\n      }));\n    } else {\n      const file = files[0];\n      setFormData(prev => ({ \n        ...prev, \n        [field]: file ? {\n          file,\n          name: file.name,\n          preview: URL.createObjectURL(file)\n        } : null\n      }));\n    }\n  };\n\n  const removeFile = (field, index = null) => {\n    if (field === 'kycDocuments' && index !== null) {\n      setFormData(prev => ({\n        ...prev,\n        [field]: prev[field].filter((_, i) => i !== index)\n      }));\n    } else {\n      setFormData(prev => ({ ...prev, [field]: null }));\n    }\n  };\n\n  const validateStep = (step) => {\n    const newErrors = {};\n    \n    switch (step) {\n      case 1:\n        if (!formData.businessName.trim()) newErrors.businessName = \"Business name is required\";\n        if (!formData.businessType) newErrors.businessType = \"Business type is required\";\n        if (!formData.registrationNumber.trim()) newErrors.registrationNumber = \"Registration number is required\";\n        if (!formData.taxId.trim()) newErrors.taxId = \"Tax ID is required\";\n        break;\n      case 2:\n        if (!formData.contactPerson.trim()) newErrors.contactPerson = \"Contact person is required\";\n        if (!formData.contactEmail.trim()) newErrors.contactEmail = \"Contact email is required\";\n        if (!formData.contactPhone.trim()) newErrors.contactPhone = \"Contact phone is required\";\n        if (!formData.businessAddress.trim()) newErrors.businessAddress = \"Business address is required\";\n        break;\n      case 3:\n        if (!formData.bankName.trim()) newErrors.bankName = \"Bank name is required\";\n        if (!formData.accountNumber.trim()) newErrors.accountNumber = \"Account number is required\";\n        if (!formData.accountHolderName.trim()) newErrors.accountHolderName = \"Account holder name is required\";\n        break;\n      case 4:\n        if (!formData.logo) newErrors.logo = \"Company logo is required\";\n        if (formData.kycDocuments.length === 0) newErrors.kycDocuments = \"At least one KYC document is required\";\n        break;\n    }\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleNext = () => {\n    if (validateStep(currentStep)) {\n      setCurrentStep(prev => Math.min(prev + 1, 5));\n    }\n  };\n\n  const handlePrevious = () => {\n    setCurrentStep(prev => Math.max(prev - 1, 1));\n  };\n\n  const handleSubmit = async () => {\n    if (validateStep(4)) {\n      try {\n        // Here you would typically submit to your API\n        console.log(\"Vendor onboarding data:\", formData);\n        onComplete(formData);\n      } catch (error) {\n        console.error(\"Onboarding submission failed:\", error);\n      }\n    }\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      {/* Progress Steps */}\n      <Card className=\"mb-8\">\n        <CardContent className=\"p-6\">\n          <div className=\"flex items-center justify-between\">\n            {steps.map((step, index) => (\n              <div key={step.id} className=\"flex items-center\">\n                <div className={`flex items-center justify-center w-10 h-10 rounded-full text-sm font-medium ${\n                  currentStep >= step.id \n                    ? \"bg-green-600 text-white\" \n                    : \"bg-gray-200 text-gray-600\"\n                }`}>\n                  {currentStep > step.id ? \"✓\" : step.icon}\n                </div>\n                <div className=\"ml-3 hidden md:block\">\n                  <div className={`text-sm font-medium ${\n                    currentStep >= step.id ? \"text-green-600\" : \"text-gray-500\"\n                  }`}>\n                    {step.title}\n                  </div>\n                </div>\n                {index < steps.length - 1 && (\n                  <div className={`w-8 h-0.5 mx-4 ${\n                    currentStep > step.id ? \"bg-green-600\" : \"bg-gray-200\"\n                  }`} />\n                )}\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Step Content */}\n      <Card>\n        <CardHeader>\n          <h2 className=\"text-2xl font-bold text-gray-800\">\n            {steps.find(step => step.id === currentStep)?.title}\n          </h2>\n        </CardHeader>\n        <CardContent className=\"p-6\">\n          {currentStep === 1 && <BusinessInformationStep formData={formData} onChange={handleInputChange} errors={errors} businessTypes={businessTypes} />}\n          {currentStep === 2 && <ContactAddressStep formData={formData} onChange={handleInputChange} errors={errors} />}\n          {currentStep === 3 && <BankDetailsStep formData={formData} onChange={handleInputChange} errors={errors} />}\n          {currentStep === 4 && <DocumentsMediaStep formData={formData} onFileUpload={handleFileUpload} onRemoveFile={removeFile} errors={errors} />}\n          {currentStep === 5 && <ReviewSubmitStep formData={formData} />}\n\n          {/* Navigation Buttons */}\n          <div className=\"flex justify-between mt-8 pt-6 border-t border-gray-200\">\n            <Button \n              variant=\"outline\" \n              onClick={handlePrevious}\n              disabled={currentStep === 1}\n            >\n              Previous\n            </Button>\n            \n            {currentStep < 5 ? (\n              <Button onClick={handleNext}>\n                Next Step\n              </Button>\n            ) : (\n              <Button onClick={handleSubmit}>\n                Submit Application\n              </Button>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\n// Step 1: Business Information\nfunction BusinessInformationStep({ formData, onChange, errors, businessTypes }) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Business Name *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.businessName}\n            onChange={(e) => onChange('businessName', e.target.value)}\n            className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${\n              errors.businessName ? 'border-red-500' : 'border-gray-300'\n            }`}\n            placeholder=\"Enter your business name\"\n          />\n          {errors.businessName && <p className=\"mt-1 text-sm text-red-600\">{errors.businessName}</p>}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Business Type *\n          </label>\n          <select\n            value={formData.businessType}\n            onChange={(e) => onChange('businessType', e.target.value)}\n            className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${\n              errors.businessType ? 'border-red-500' : 'border-gray-300'\n            }`}\n          >\n            <option value=\"\">Select business type</option>\n            {businessTypes.map(type => (\n              <option key={type} value={type}>{type}</option>\n            ))}\n          </select>\n          {errors.businessType && <p className=\"mt-1 text-sm text-red-600\">{errors.businessType}</p>}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Registration Number *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.registrationNumber}\n            onChange={(e) => onChange('registrationNumber', e.target.value)}\n            className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${\n              errors.registrationNumber ? 'border-red-500' : 'border-gray-300'\n            }`}\n            placeholder=\"Enter registration number\"\n          />\n          {errors.registrationNumber && <p className=\"mt-1 text-sm text-red-600\">{errors.registrationNumber}</p>}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Tax ID *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.taxId}\n            onChange={(e) => onChange('taxId', e.target.value)}\n            className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${\n              errors.taxId ? 'border-red-500' : 'border-gray-300'\n            }`}\n            placeholder=\"Enter tax ID\"\n          />\n          {errors.taxId && <p className=\"mt-1 text-sm text-red-600\">{errors.taxId}</p>}\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Website\n          </label>\n          <input\n            type=\"url\"\n            value={formData.website}\n            onChange={(e) => onChange('website', e.target.value)}\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n            placeholder=\"https://yourwebsite.com\"\n          />\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Business Description\n          </label>\n          <textarea\n            value={formData.description}\n            onChange={(e) => onChange('description', e.target.value)}\n            rows={4}\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n            placeholder=\"Describe your business and the products you sell...\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Step 2: Contact & Address\nfunction ContactAddressStep({ formData, onChange, errors }) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Contact Person *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.contactPerson}\n            onChange={(e) => onChange('contactPerson', e.target.value)}\n            className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${\n              errors.contactPerson ? 'border-red-500' : 'border-gray-300'\n            }`}\n            placeholder=\"Full name\"\n          />\n          {errors.contactPerson && <p className=\"mt-1 text-sm text-red-600\">{errors.contactPerson}</p>}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Contact Email *\n          </label>\n          <input\n            type=\"email\"\n            value={formData.contactEmail}\n            onChange={(e) => onChange('contactEmail', e.target.value)}\n            className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${\n              errors.contactEmail ? 'border-red-500' : 'border-gray-300'\n            }`}\n            placeholder=\"contact@business.com\"\n          />\n          {errors.contactEmail && <p className=\"mt-1 text-sm text-red-600\">{errors.contactEmail}</p>}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Contact Phone *\n          </label>\n          <input\n            type=\"tel\"\n            value={formData.contactPhone}\n            onChange={(e) => onChange('contactPhone', e.target.value)}\n            className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${\n              errors.contactPhone ? 'border-red-500' : 'border-gray-300'\n            }`}\n            placeholder=\"+1 (555) 123-4567\"\n          />\n          {errors.contactPhone && <p className=\"mt-1 text-sm text-red-600\">{errors.contactPhone}</p>}\n        </div>\n\n        <div className=\"md:col-span-2\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Business Address *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.businessAddress}\n            onChange={(e) => onChange('businessAddress', e.target.value)}\n            className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${\n              errors.businessAddress ? 'border-red-500' : 'border-gray-300'\n            }`}\n            placeholder=\"Street address\"\n          />\n          {errors.businessAddress && <p className=\"mt-1 text-sm text-red-600\">{errors.businessAddress}</p>}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            City\n          </label>\n          <input\n            type=\"text\"\n            value={formData.city}\n            onChange={(e) => onChange('city', e.target.value)}\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n            placeholder=\"City\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            State/Province\n          </label>\n          <input\n            type=\"text\"\n            value={formData.state}\n            onChange={(e) => onChange('state', e.target.value)}\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n            placeholder=\"State or Province\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            ZIP/Postal Code\n          </label>\n          <input\n            type=\"text\"\n            value={formData.zipCode}\n            onChange={(e) => onChange('zipCode', e.target.value)}\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n            placeholder=\"ZIP or Postal Code\"\n          />\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Country\n          </label>\n          <input\n            type=\"text\"\n            value={formData.country}\n            onChange={(e) => onChange('country', e.target.value)}\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n            placeholder=\"Country\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Step 3: Bank Details\nfunction BankDetailsStep({ formData, onChange, errors }) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6\">\n        <div className=\"flex items-center gap-2 text-amber-800\">\n          <span className=\"text-lg\">🔒</span>\n          <span className=\"font-medium\">Secure Information</span>\n        </div>\n        <p className=\"text-sm text-amber-700 mt-1\">\n          Your banking information is encrypted and used only for payment processing.\n        </p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Bank Name *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.bankName}\n            onChange={(e) => onChange('bankName', e.target.value)}\n            className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${\n              errors.bankName ? 'border-red-500' : 'border-gray-300'\n            }`}\n            placeholder=\"Your bank name\"\n          />\n          {errors.bankName && <p className=\"mt-1 text-sm text-red-600\">{errors.bankName}</p>}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Account Holder Name *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.accountHolderName}\n            onChange={(e) => onChange('accountHolderName', e.target.value)}\n            className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${\n              errors.accountHolderName ? 'border-red-500' : 'border-gray-300'\n            }`}\n            placeholder=\"Name on account\"\n          />\n          {errors.accountHolderName && <p className=\"mt-1 text-sm text-red-600\">{errors.accountHolderName}</p>}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Account Number *\n          </label>\n          <input\n            type=\"text\"\n            value={formData.accountNumber}\n            onChange={(e) => onChange('accountNumber', e.target.value)}\n            className={`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent ${\n              errors.accountNumber ? 'border-red-500' : 'border-gray-300'\n            }`}\n            placeholder=\"Account number\"\n          />\n          {errors.accountNumber && <p className=\"mt-1 text-sm text-red-600\">{errors.accountNumber}</p>}\n        </div>\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Routing Number\n          </label>\n          <input\n            type=\"text\"\n            value={formData.routingNumber}\n            onChange={(e) => onChange('routingNumber', e.target.value)}\n            className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n            placeholder=\"Routing number (if applicable)\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Step 4: Documents & Media\nfunction DocumentsMediaStep({ formData, onFileUpload, onRemoveFile, errors }) {\n  const acceptedDocTypes = \".pdf,.doc,.docx,.jpg,.jpeg,.png\";\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Logo Upload */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          Company Logo *\n        </label>\n        <div className=\"flex items-start gap-4\">\n          <div className={`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:border-green-500 transition-colors ${\n            errors.logo ? 'border-red-500' : 'border-gray-300'\n          }`}>\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={(e) => onFileUpload('logo', e.target.files)}\n              className=\"hidden\"\n              id=\"logo-upload\"\n            />\n            <label htmlFor=\"logo-upload\" className=\"cursor-pointer\">\n              {formData.logo ? (\n                <div className=\"space-y-2\">\n                  <Image \n                    src={formData.logo.preview} \n                    alt=\"Logo preview\" \n                    width={64} \n                    height={64} \n                    className=\"mx-auto rounded\"\n                  />\n                  <p className=\"text-sm text-gray-600\">{formData.logo.name}</p>\n                </div>\n              ) : (\n                <div className=\"space-y-2\">\n                  <div className=\"w-16 h-16 mx-auto bg-gray-100 rounded-lg flex items-center justify-center\">\n                    <span className=\"text-2xl\">📷</span>\n                  </div>\n                  <p className=\"text-sm text-gray-600\">Upload logo</p>\n                  <p className=\"text-xs text-gray-400\">PNG, JPG up to 2MB</p>\n                </div>\n              )}\n            </label>\n          </div>\n          {formData.logo && (\n            <Button variant=\"outline\" size=\"sm\" onClick={() => onRemoveFile('logo')}>\n              Remove\n            </Button>\n          )}\n        </div>\n        {errors.logo && <p className=\"mt-1 text-sm text-red-600\">{errors.logo}</p>}\n      </div>\n\n      {/* Banner Upload */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          Banner Image (Optional)\n        </label>\n        <div className=\"flex items-start gap-4\">\n          <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-green-500 transition-colors w-full\">\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={(e) => onFileUpload('banner', e.target.files)}\n              className=\"hidden\"\n              id=\"banner-upload\"\n            />\n            <label htmlFor=\"banner-upload\" className=\"cursor-pointer\">\n              {formData.banner ? (\n                <div className=\"space-y-2\">\n                  <Image \n                    src={formData.banner.preview} \n                    alt=\"Banner preview\" \n                    width={200} \n                    height={80} \n                    className=\"mx-auto rounded\"\n                  />\n                  <p className=\"text-sm text-gray-600\">{formData.banner.name}</p>\n                </div>\n              ) : (\n                <div className=\"space-y-2\">\n                  <div className=\"w-24 h-12 mx-auto bg-gray-100 rounded-lg flex items-center justify-center\">\n                    <span className=\"text-2xl\">🖼️</span>\n                  </div>\n                  <p className=\"text-sm text-gray-600\">Upload banner image</p>\n                  <p className=\"text-xs text-gray-400\">PNG, JPG up to 5MB (1200x400 recommended)</p>\n                </div>\n              )}\n            </label>\n          </div>\n          {formData.banner && (\n            <Button variant=\"outline\" size=\"sm\" onClick={() => onRemoveFile('banner')}>\n              Remove\n            </Button>\n          )}\n        </div>\n      </div>\n\n      {/* KYC Documents */}\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          KYC Documents *\n        </label>\n        <p className=\"text-sm text-gray-600 mb-4\">\n          Upload business registration, tax documents, or other verification documents.\n        </p>\n        \n        <div className={`border-2 border-dashed rounded-lg p-6 text-center cursor-pointer hover:border-green-500 transition-colors ${\n          errors.kycDocuments ? 'border-red-500' : 'border-gray-300'\n        }`}>\n          <input\n            type=\"file\"\n            accept={acceptedDocTypes}\n            multiple\n            onChange={(e) => onFileUpload('kycDocuments', e.target.files)}\n            className=\"hidden\"\n            id=\"kyc-upload\"\n          />\n          <label htmlFor=\"kyc-upload\" className=\"cursor-pointer\">\n            <div className=\"space-y-2\">\n              <div className=\"w-16 h-16 mx-auto bg-gray-100 rounded-lg flex items-center justify-center\">\n                <span className=\"text-2xl\">📄</span>\n              </div>\n              <p className=\"text-sm text-gray-600\">Upload KYC documents</p>\n              <p className=\"text-xs text-gray-400\">PDF, DOC, DOCX, JPG, PNG up to 10MB each</p>\n            </div>\n          </label>\n        </div>\n\n        {/* Display uploaded documents */}\n        {formData.kycDocuments.length > 0 && (\n          <div className=\"mt-4 space-y-2\">\n            {formData.kycDocuments.map((doc, index) => (\n              <div key={index} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                <div className=\"flex items-center gap-3\">\n                  <span className=\"text-lg\">\n                    {doc.type.includes('image') ? '🖼️' : '📄'}\n                  </span>\n                  <div>\n                    <p className=\"text-sm font-medium\">{doc.name}</p>\n                    <p className=\"text-xs text-gray-500\">{(doc.size / 1024 / 1024).toFixed(2)} MB</p>\n                  </div>\n                </div>\n                <Button \n                  variant=\"outline\" \n                  size=\"sm\" \n                  onClick={() => onRemoveFile('kycDocuments', index)}\n                >\n                  Remove\n                </Button>\n              </div>\n            ))}\n          </div>\n        )}\n        {errors.kycDocuments && <p className=\"mt-1 text-sm text-red-600\">{errors.kycDocuments}</p>}\n      </div>\n    </div>\n  );\n}\n\n// Step 5: Review & Submit\nfunction ReviewSubmitStep({ formData }) {\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"bg-green-50 border border-green-200 rounded-lg p-6\">\n        <div className=\"flex items-center gap-2 text-green-800 mb-2\">\n          <span className=\"text-lg\">✅</span>\n          <span className=\"font-medium\">Review Your Information</span>\n        </div>\n        <p className=\"text-sm text-green-700\">\n          Please review all information before submitting. You can go back to make changes if needed.\n        </p>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {/* Business Information */}\n        <Card>\n          <CardHeader>\n            <h3 className=\"font-medium text-gray-800\">Business Information</h3>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-2 text-sm\">\n              <div><span className=\"font-medium\">Name:</span> {formData.businessName}</div>\n              <div><span className=\"font-medium\">Type:</span> {formData.businessType}</div>\n              <div><span className=\"font-medium\">Registration:</span> {formData.registrationNumber}</div>\n              <div><span className=\"font-medium\">Tax ID:</span> {formData.taxId}</div>\n              {formData.website && <div><span className=\"font-medium\">Website:</span> {formData.website}</div>}\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Contact Information */}\n        <Card>\n          <CardHeader>\n            <h3 className=\"font-medium text-gray-800\">Contact Information</h3>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-2 text-sm\">\n              <div><span className=\"font-medium\">Contact:</span> {formData.contactPerson}</div>\n              <div><span className=\"font-medium\">Email:</span> {formData.contactEmail}</div>\n              <div><span className=\"font-medium\">Phone:</span> {formData.contactPhone}</div>\n              <div><span className=\"font-medium\">Address:</span> {formData.businessAddress}</div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Bank Details */}\n        <Card>\n          <CardHeader>\n            <h3 className=\"font-medium text-gray-800\">Bank Information</h3>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-2 text-sm\">\n              <div><span className=\"font-medium\">Bank:</span> {formData.bankName}</div>\n              <div><span className=\"font-medium\">Account Holder:</span> {formData.accountHolderName}</div>\n              <div><span className=\"font-medium\">Account:</span> ***{formData.accountNumber.slice(-4)}</div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Documents */}\n        <Card>\n          <CardHeader>\n            <h3 className=\"font-medium text-gray-800\">Uploaded Documents</h3>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-2 text-sm\">\n              {formData.logo && <div><span className=\"font-medium\">Logo:</span> ✅ Uploaded</div>}\n              {formData.banner && <div><span className=\"font-medium\">Banner:</span> ✅ Uploaded</div>}\n              <div><span className=\"font-medium\">KYC Documents:</span> {formData.kycDocuments.length} files</div>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {formData.description && (\n        <Card>\n          <CardHeader>\n            <h3 className=\"font-medium text-gray-800\">Business Description</h3>\n          </CardHeader>\n          <CardContent>\n            <p className=\"text-sm text-gray-700\">{formData.description}</p>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":29766,"size_tokens":null},"src/components/search/SearchBar.jsx":{"content":"\"use client\";\n\nimport { useState, useEffect, useRef } from 'react';\nimport { productSearch } from '@/lib/api';\nimport { MagnifyingGlassIcon, XMarkIcon } from '@heroicons/react/24/outline';\n\nexport default function SearchBar({ \n  placeholder = \"Search products...\", \n  onSearch, \n  onSuggestionSelect,\n  value = \"\",\n  showSuggestions = true,\n  className = \"\"\n}) {\n  const [searchQuery, setSearchQuery] = useState(value);\n  const [suggestions, setSuggestions] = useState([]);\n  const [showSuggestionsList, setShowSuggestionsList] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [selectedSuggestionIndex, setSelectedSuggestionIndex] = useState(-1);\n  \n  const searchRef = useRef(null);\n  const suggestionsRef = useRef(null);\n  const debounceRef = useRef(null);\n\n  // Update local state when value prop changes\n  useEffect(() => {\n    setSearchQuery(value);\n  }, [value]);\n\n  // Fetch suggestions when query changes\n  useEffect(() => {\n    if (!showSuggestions || searchQuery.length < 2) {\n      setSuggestions([]);\n      setShowSuggestionsList(false);\n      return;\n    }\n\n    // Debounce suggestions API call\n    if (debounceRef.current) {\n      clearTimeout(debounceRef.current);\n    }\n\n    debounceRef.current = setTimeout(async () => {\n      try {\n        setLoading(true);\n        const response = await productSearch.autocomplete(searchQuery, 8);\n        setSuggestions(response.suggestions || []);\n        setShowSuggestionsList(true);\n      } catch (error) {\n        console.error('Error fetching suggestions:', error);\n        setSuggestions([]);\n      } finally {\n        setLoading(false);\n      }\n    }, 300);\n\n    return () => {\n      if (debounceRef.current) {\n        clearTimeout(debounceRef.current);\n      }\n    };\n  }, [searchQuery, showSuggestions]);\n\n  // Close suggestions when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (\n        searchRef.current && \n        !searchRef.current.contains(event.target) &&\n        suggestionsRef.current &&\n        !suggestionsRef.current.contains(event.target)\n      ) {\n        setShowSuggestionsList(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleInputChange = (e) => {\n    const value = e.target.value;\n    setSearchQuery(value);\n    setSelectedSuggestionIndex(-1);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (searchQuery.trim()) {\n      setShowSuggestionsList(false);\n      if (onSearch) {\n        onSearch(searchQuery.trim());\n      }\n    }\n  };\n\n  const handleSuggestionClick = (suggestion) => {\n    setSearchQuery(suggestion.text || suggestion);\n    setShowSuggestionsList(false);\n    \n    if (onSuggestionSelect) {\n      onSuggestionSelect(suggestion);\n    } else if (onSearch) {\n      onSearch(suggestion.text || suggestion);\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (!showSuggestionsList || suggestions.length === 0) {\n      if (e.key === 'Enter') {\n        handleSubmit(e);\n      }\n      return;\n    }\n\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        setSelectedSuggestionIndex(prev => \n          prev < suggestions.length - 1 ? prev + 1 : prev\n        );\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        setSelectedSuggestionIndex(prev => prev > 0 ? prev - 1 : -1);\n        break;\n      case 'Enter':\n        e.preventDefault();\n        if (selectedSuggestionIndex >= 0) {\n          handleSuggestionClick(suggestions[selectedSuggestionIndex]);\n        } else {\n          handleSubmit(e);\n        }\n        break;\n      case 'Escape':\n        setShowSuggestionsList(false);\n        setSelectedSuggestionIndex(-1);\n        break;\n    }\n  };\n\n  const clearSearch = () => {\n    setSearchQuery('');\n    setSuggestions([]);\n    setShowSuggestionsList(false);\n    if (onSearch) {\n      onSearch('');\n    }\n  };\n\n  return (\n    <div className={`relative ${className}`}>\n      <form onSubmit={handleSubmit} className=\"relative\">\n        <div className=\"relative\">\n          <MagnifyingGlassIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\n          <input\n            ref={searchRef}\n            type=\"text\"\n            value={searchQuery}\n            onChange={handleInputChange}\n            onKeyDown={handleKeyDown}\n            onFocus={() => {\n              if (suggestions.length > 0) {\n                setShowSuggestionsList(true);\n              }\n            }}\n            placeholder={placeholder}\n            className=\"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition-all duration-200\"\n          />\n          {searchQuery && (\n            <button\n              type=\"button\"\n              onClick={clearSearch}\n              className=\"absolute right-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400 hover:text-gray-600 transition-colors\"\n            >\n              <XMarkIcon className=\"h-5 w-5\" />\n            </button>\n          )}\n        </div>\n      </form>\n\n      {/* Suggestions Dropdown */}\n      {showSuggestionsList && (suggestions.length > 0 || loading) && (\n        <div\n          ref={suggestionsRef}\n          className=\"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-50 mt-1 max-h-80 overflow-y-auto\"\n        >\n          {loading ? (\n            <div className=\"p-4 text-center text-gray-500\">\n              <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-green-500 mx-auto\"></div>\n              <p className=\"mt-2 text-sm\">Searching...</p>\n            </div>\n          ) : (\n            <>\n              {suggestions.map((suggestion, index) => (\n                <button\n                  key={index}\n                  type=\"button\"\n                  onClick={() => handleSuggestionClick(suggestion)}\n                  className={`w-full text-left px-4 py-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0 ${\n                    index === selectedSuggestionIndex ? 'bg-green-50' : ''\n                  }`}\n                >\n                  <div className=\"flex items-center\">\n                    <MagnifyingGlassIcon className=\"h-4 w-4 text-gray-400 mr-3\" />\n                    <span className=\"text-gray-800\">\n                      {typeof suggestion === 'string' ? suggestion : suggestion.text}\n                    </span>\n                    {suggestion.category && (\n                      <span className=\"ml-auto text-sm text-gray-500\">\n                        in {suggestion.category}\n                      </span>\n                    )}\n                  </div>\n                </button>\n              ))}\n            </>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n","path":null,"size_bytes":6921,"size_tokens":null},"src/components/vendor/InventoryContent.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport supplierAnalyticsService from '../../services/supplierAnalyticsService';\n\n// Icons\nconst SearchIcon = () => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <circle cx=\"11\" cy=\"11\" r=\"8\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n    <path d=\"M21 21l-4.35-4.35\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nconst FilterIcon = () => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <polygon points=\"22,3 2,3 10,12.46 10,19 14,21 14,12.46\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nconst EditIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <path d=\"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nconst PackageIcon = () => (\n  <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M21 8a2 2 0 0 0-1-1.73L12 2 4 6.27A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73L12 22l8-4.27A2 2 0 0 0 21 16V8z\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <polyline points=\"3.27,6.96 12,12.01 20.73,6.96\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <line x1=\"12\" y1=\"22.08\" x2=\"12\" y2=\"12\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nconst CategoryIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <rect x=\"3\" y=\"3\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <rect x=\"14\" y=\"3\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <rect x=\"14\" y=\"14\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    <rect x=\"3\" y=\"14\" width=\"7\" height=\"7\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n  </svg>\n);\n\nconst MoreActionsIcon = () => (\n  <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <circle cx=\"12\" cy=\"12\" r=\"1\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n    <circle cx=\"12\" cy=\"5\" r=\"1\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n    <circle cx=\"12\" cy=\"19\" r=\"1\" stroke=\"currentColor\" strokeWidth=\"2\"/>\n  </svg>\n);\n\n// Stock Update Modal\nconst StockUpdateModal = ({ isOpen, onClose, product, onUpdate }) => {\n  // Try to get quantity from either available_quantity or quantity field\n  const getInventoryQuantity = (product) => {\n    const inventory = product?.inventory?.[0];\n    return inventory?.available_quantity || inventory?.quantity || 0;\n  };\n\n  const [quantity, setQuantity] = useState(getInventoryQuantity(product));\n  const [lowStockThreshold, setLowStockThreshold] = useState(product?.inventory?.[0]?.low_stock_threshold || 5);\n  const [location, setLocation] = useState(product?.inventory?.[0]?.location || '');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (product) {\n      setQuantity(getInventoryQuantity(product));\n      setLowStockThreshold(product.inventory?.[0]?.low_stock_threshold || 5);\n      setLocation(product.inventory?.[0]?.location || '');\n    }\n  }, [product]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!product) return;\n\n    setLoading(true);\n    try {\n      await supplierAnalyticsService.updateProductInventory(product.id, {\n        quantity: parseInt(quantity),\n        low_stock_threshold: parseInt(lowStockThreshold),\n        location: location.trim() || null\n      });\n      \n      onUpdate();\n      onClose();\n    } catch (error) {\n      console.error('Failed to update inventory:', error);\n      alert('Failed to update inventory: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!isOpen || !product) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg p-6 w-96\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 className=\"text-lg font-semibold\">Update Inventory</h2>\n          <button onClick={onClose} className=\"text-gray-500 hover:text-gray-700\">\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M18 6L6 18M6 6l12 12\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n            </svg>\n          </button>\n        </div>\n\n        <div className=\"mb-4\">\n          <h3 className=\"font-medium text-gray-900 mb-2\">{product.name}</h3>\n          <p className=\"text-sm text-gray-600\">SKU: {product.sku}</p>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Current Stock Quantity\n            </label>\n            <input\n              type=\"number\"\n              min=\"0\"\n              value={quantity}\n              onChange={(e) => setQuantity(e.target.value)}\n              className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2f6b4f] focus:border-transparent\"\n              required\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Low Stock Threshold\n            </label>\n            <input\n              type=\"number\"\n              min=\"1\"\n              value={lowStockThreshold}\n              onChange={(e) => setLowStockThreshold(e.target.value)}\n              className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2f6b4f] focus:border-transparent\"\n              required\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Storage Location (Optional)\n            </label>\n            <input\n              type=\"text\"\n              value={location}\n              onChange={(e) => setLocation(e.target.value)}\n              placeholder=\"e.g., Warehouse A, Section 1\"\n              className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-[#2f6b4f] focus:border-transparent\"\n            />\n          </div>\n\n          <div className=\"flex gap-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"flex-1 px-4 py-2 bg-[#2f6b4f] text-white rounded-md hover:bg-[#245a41] transition-colors disabled:opacity-50\"\n            >\n              {loading ? 'Updating...' : 'Update Stock'}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default function InventoryContent({ isCompact = false }) {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const [showUpdateModal, setShowUpdateModal] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [statusFilter, setStatusFilter] = useState('all');\n\n  useEffect(() => {\n    fetchInventoryData();\n  }, []);\n\n  const fetchInventoryData = async () => {\n    try {\n      setLoading(true);\n      const result = await supplierAnalyticsService.getInventoryOverview({\n        page: 1,\n        page_size: isCompact ? 6 : 50 // Show fewer items in compact mode\n      });\n      \n      const productsWithInventory = result.items || [];\n      \n      // Fetch individual inventory data for each product\n      const enhancedProducts = await Promise.all(\n        productsWithInventory.map(async (product) => {\n          try {\n            const inventoryData = await supplierAnalyticsService.getProductInventory(product.id);\n            return {\n              ...product,\n              inventory: inventoryData && Array.isArray(inventoryData) ? inventoryData : [inventoryData].filter(Boolean)\n            };\n          } catch (error) {\n            console.warn(`Failed to fetch inventory for product ${product.id}:`, error);\n            return {\n              ...product,\n              inventory: [] // Empty inventory if fetch fails\n            };\n          }\n        })\n      );\n      \n      setProducts(enhancedProducts);\n    } catch (error) {\n      console.error('Failed to fetch inventory data:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleUpdateStock = (product) => {\n    setSelectedProduct(product);\n    setShowUpdateModal(true);\n  };\n\n  const handleInventoryUpdate = () => {\n    fetchInventoryData(); // Refresh data after update\n  };\n\n  const getStockStatus = (product) => {\n    const inventory = product.inventory?.[0];\n    if (!inventory) return { status: 'No Data', color: '#9ca3af' };\n    \n    // Try both available_quantity and quantity fields\n    const available = inventory.available_quantity || inventory.quantity || 0;\n    const threshold = inventory.low_stock_threshold || 5;\n    \n    if (available === 0) {\n      return { status: 'Out of Stock', color: '#ef4444' };\n    } else if (available <= threshold) {\n      return { status: 'Low Stock', color: '#f59e0b' };\n    } else {\n      return { status: 'In Stock', color: '#10b981' };\n    }\n  };\n\n  // Helper function to get inventory quantity consistently\n  const getInventoryQuantity = (product) => {\n    const inventory = product?.inventory?.[0];\n    return inventory?.available_quantity || inventory?.quantity || 0;\n  };\n\n  const filteredProducts = products.filter(product => {\n    const matchesSearch = product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         product.sku.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    if (statusFilter === 'all') return matchesSearch;\n    \n    const stockStatus = getStockStatus(product);\n    return matchesSearch && stockStatus.status.toLowerCase().includes(statusFilter);\n  });\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD'\n    }).format(amount || 0);\n  };\n\n  if (loading) {\n    return (\n      <div className={isCompact ? \"\" : \"bg-white w-full h-full p-4 sm:p-7 pb-4\"}>\n        <div className=\"animate-pulse\">\n          {!isCompact && <div className=\"h-6 sm:h-8 bg-gray-200 rounded w-1/4 mb-4\"></div>}\n          <div className=\"space-y-4\">\n            {[1, 2, 3].map((i) => (\n              <div key={i} className=\"flex items-center space-x-4 p-4 border rounded\">\n                <div className=\"w-10 sm:w-12 h-10 sm:h-12 bg-gray-200 rounded\"></div>\n                <div className=\"flex-1 space-y-2\">\n                  <div className=\"h-3 sm:h-4 bg-gray-200 rounded w-1/3\"></div>\n                  <div className=\"h-2 sm:h-3 bg-gray-200 rounded w-1/2\"></div>\n                </div>\n                <div className=\"w-16 sm:w-20 h-3 sm:h-4 bg-gray-200 rounded\"></div>\n                <div className=\"w-12 sm:w-16 h-3 sm:h-4 bg-gray-200 rounded\"></div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className={isCompact ? \"text-center py-4\" : \"bg-white w-full h-full p-4 sm:p-7 pb-4\"}>\n        <div className=\"text-center py-8\">\n          <p className=\"text-red-500 mb-4\">Failed to load inventory: {error}</p>\n          <button \n            onClick={fetchInventoryData}\n            className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors\"\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (isCompact) {\n    // Compact view for dashboard\n    return (\n      <div className=\"space-y-3\">\n        {filteredProducts.length === 0 ? (\n          <div className=\"text-center py-4 text-gray-500\">\n            No products found\n          </div>\n        ) : (\n          filteredProducts.slice(0, 6).map((product) => {\n            const stockStatus = getStockStatus(product);\n            const inventory = product.inventory?.[0];\n            const primaryImage = product.images?.find(img => img.is_primary)?.url || \n                               product.images?.[0]?.url;\n\n            return (\n              <div key={product.id} className=\"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors\">\n                {/* Product Info */}\n                <div className=\"flex items-center gap-3 flex-1\">\n                  <div className=\"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden\">\n                    {primaryImage ? (\n                      <img \n                        src={primaryImage} \n                        alt={product.name}\n                        className=\"w-full h-full object-cover\"\n                      />\n                    ) : (\n                      <PackageIcon />\n                    )}\n                  </div>\n                  <div className=\"flex-1\">\n                    <div className=\"font-medium text-sm text-gray-900 truncate\">{product.name}</div>\n                    <div className=\"text-xs text-gray-500\">SKU: {product.sku}</div>\n                  </div>\n                </div>\n\n                {/* Stock & Status */}\n                <div className=\"flex items-center gap-4\">\n                  <div className=\"text-right\">\n                    <div className=\"text-sm font-medium text-gray-900\">\n                      {getInventoryQuantity(product)} units\n                    </div>\n                    <span \n                      className=\"inline-flex px-2 py-1 text-xs font-medium rounded-full\"\n                      style={{ \n                        backgroundColor: `${stockStatus.color}20`,\n                        color: stockStatus.color \n                      }}\n                    >\n                      {stockStatus.status}\n                    </span>\n                  </div>\n                  <button\n                    onClick={() => handleUpdateStock(product)}\n                    className=\"p-2 text-[#2f6b4f] hover:bg-[#2f6b4f] hover:text-white border border-[#2f6b4f] rounded transition-colors\"\n                  >\n                    <EditIcon />\n                  </button>\n                </div>\n              </div>\n            );\n          })\n        )}\n        \n        {/* Stock Update Modal for compact view */}\n        <StockUpdateModal\n          isOpen={showUpdateModal}\n          onClose={() => setShowUpdateModal(false)}\n          product={selectedProduct}\n          onUpdate={handleInventoryUpdate}\n        />\n      </div>\n    );\n  }\n\n  // Full inventory view\n  return (\n    <div className=\"bg-white w-full h-full p-4 sm:p-7 pb-4\">\n      <div className=\"w-full\">\n        {/* Header */}\n        <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 sm:mb-6 gap-4 sm:gap-0\">\n          <div>\n            <h1 className=\"font-poppins font-semibold text-[20px] sm:text-[24px] text-black tracking-[0.3px] mb-2\">\n              Inventory Management\n            </h1>\n            <p className=\"font-poppins text-[14px] sm:text-[16px] text-[#757575] tracking-[0.3px]\">\n              Manage your product stock levels and inventory\n            </p>\n          </div>\n          \n          <div className=\"flex items-center gap-4\">\n            <div className=\"text-sm text-gray-600\">\n              Total Products: {products.length}\n            </div>\n          </div>\n        </div>\n\n        {/* Search and Filters */}\n        <div className=\"flex flex-col sm:flex-row gap-4 mb-4 sm:mb-6\">\n          <div className=\"flex-1 relative\">\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n              <SearchIcon className=\"text-gray-400 w-4 h-4 sm:w-5 sm:h-5\" />\n            </div>\n            <input\n              type=\"text\"\n              placeholder=\"Search products by name or SKU...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2f6b4f] focus:border-transparent\"\n            />\n          </div>\n          \n          <div className=\"relative w-full sm:w-auto\">\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n              <FilterIcon className=\"text-gray-400 w-4 h-4 sm:w-5 sm:h-5\" />\n            </div>\n            <select\n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n              className=\"w-full sm:w-auto pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2f6b4f] focus:border-transparent appearance-none bg-white\"\n            >\n              <option value=\"all\">All Status</option>\n              <option value=\"stock\">In Stock</option>\n              <option value=\"low\">Low Stock</option>\n              <option value=\"out\">Out of Stock</option>\n            </select>\n          </div>\n        </div>\n\n        {/* Inventory Table */}\n        <div className=\"bg-white rounded-[14px] border border-[#c6c6c6] overflow-hidden\">\n          {/* Table Header - Hidden on Mobile */}\n          <div className=\"hidden sm:grid grid-cols-12 gap-4 items-center text-sm font-medium text-gray-700 bg-gray-50 px-4 sm:px-6 py-3 border-b border-gray-200\">\n            <div className=\"col-span-4\">Product</div>\n            <div className=\"col-span-2\">Price</div>\n            <div className=\"col-span-2\">Current Stock</div>\n            <div className=\"col-span-2\">Status</div>\n            <div className=\"col-span-2\">Actions</div>\n          </div>\n\n          {/* Table Body */}\n          <div className=\"divide-y divide-gray-200\">\n            {filteredProducts.length === 0 ? (\n              <div className=\"px-4 sm:px-6 py-8 text-center text-gray-500\">\n                {searchTerm || statusFilter !== 'all' ? 'No products match your filters' : 'No products found'}\n              </div>\n            ) : (\n              filteredProducts.map((product) => {\n                const stockStatus = getStockStatus(product);\n                const inventory = product.inventory?.[0];\n                const primaryImage = product.images?.find(img => img.is_primary)?.url || \n                                   product.images?.[0]?.url;\n\n                return (\n                  <div key={product.id} className=\"px-4 sm:px-6 py-4 hover:bg-gray-50 transition-colors\">\n                    {/* Mobile Layout */}\n                    <div className=\"block sm:hidden\">\n                      <div className=\"flex items-start gap-3 mb-3\">\n                        <div className=\"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0\">\n                          {primaryImage ? (\n                            <img \n                              src={primaryImage} \n                              alt={product.name}\n                              className=\"w-full h-full object-cover\"\n                            />\n                          ) : (\n                            <PackageIcon />\n                          )}\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"font-medium text-gray-900 text-sm mb-1\">{product.name}</div>\n                          <div className=\"text-xs text-gray-500 mb-2\">SKU: {product.sku}</div>\n                          {product.category && (\n                            <div className=\"flex items-center gap-1 text-xs text-gray-400 mb-2\">\n                              <CategoryIcon />\n                              <span>{product.category.name}</span>\n                            </div>\n                          )}\n                          <div className=\"flex items-center justify-between\">\n                            <div className=\"flex items-center gap-4\">\n                              <div className=\"text-sm font-medium text-gray-900\">\n                                {formatCurrency(product.price)}\n                              </div>\n                              <div className=\"text-sm font-medium text-gray-900\">\n                                {getInventoryQuantity(product)} units\n                              </div>\n                            </div>\n                            <span \n                              className=\"inline-flex px-2 py-1 text-xs font-medium rounded-full\"\n                              style={{ \n                                backgroundColor: `${stockStatus.color}20`,\n                                color: stockStatus.color \n                              }}\n                            >\n                              {stockStatus.status}\n                            </span>\n                          </div>\n                          <div className=\"mt-3 flex justify-end\">\n                            <button\n                              onClick={() => handleUpdateStock(product)}\n                              className=\"inline-flex items-center gap-1 px-3 py-1 text-sm text-[#2f6b4f] hover:bg-[#2f6b4f] hover:text-white border border-[#2f6b4f] rounded transition-colors\"\n                            >\n                              <EditIcon />\n                              Update Stock\n                            </button>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Desktop Layout */}\n                    <div className=\"hidden sm:grid grid-cols-12 gap-4 items-center\">\n                      {/* Product Info */}\n                      <div className=\"col-span-4 flex items-center gap-3\">\n                        <div className=\"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden\">\n                          {primaryImage ? (\n                            <img \n                              src={primaryImage} \n                              alt={product.name}\n                              className=\"w-full h-full object-cover\"\n                            />\n                          ) : (\n                            <PackageIcon />\n                          )}\n                        </div>\n                        <div>\n                          <div className=\"font-medium text-gray-900\">{product.name}</div>\n                          <div className=\"text-sm text-gray-500\">SKU: {product.sku}</div>\n                          {product.category && (\n                            <div className=\"flex items-center gap-1 text-xs text-gray-400 mt-1\">\n                              <CategoryIcon />\n                              <span>{product.category.name}</span>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n\n                      {/* Price */}\n                      <div className=\"col-span-2\">\n                        <div className=\"text-sm font-medium text-gray-900\">\n                          {formatCurrency(product.price)}\n                        </div>\n                      </div>\n\n                      {/* Stock */}\n                      <div className=\"col-span-2\">\n                        <div className=\"text-sm font-medium text-gray-900\">\n                          {getInventoryQuantity(product)} units\n                        </div>\n                        <div className=\"text-xs text-gray-500\">\n                          Threshold: {inventory?.low_stock_threshold || 5}\n                        </div>\n                      </div>\n\n                      {/* Status */}\n                      <div className=\"col-span-2\">\n                        <span \n                          className=\"inline-flex px-2 py-1 text-xs font-medium rounded-full\"\n                          style={{ \n                            backgroundColor: `${stockStatus.color}20`,\n                            color: stockStatus.color \n                          }}\n                        >\n                          {stockStatus.status}\n                        </span>\n                      </div>\n\n                      {/* Actions */}\n                      <div className=\"col-span-2\">\n                        <button\n                          onClick={() => handleUpdateStock(product)}\n                          className=\"inline-flex items-center gap-1 px-3 py-1 text-sm text-[#2f6b4f] hover:bg-[#2f6b4f] hover:text-white border border-[#2f6b4f] rounded transition-colors\"\n                        >\n                          <EditIcon />\n                          Update Stock\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Stock Update Modal - Available for both modes */}\n      <StockUpdateModal\n        isOpen={showUpdateModal}\n        onClose={() => setShowUpdateModal(false)}\n        product={selectedProduct}\n        onUpdate={handleInventoryUpdate}\n      />\n    </div>\n  );\n}\n","path":null,"size_bytes":25983,"size_tokens":null},"src/lib/fileUtils.js":{"content":"// File upload utilities and validation\nexport const FILE_CONSTRAINTS = {\n  MAX_SIZE: 2 * 1024 * 1024, // 2MB\n  SUPPORTED_IMAGE_FORMATS: [\n    \"image/jpeg\",\n    \"image/jpg\", \n    \"image/png\",\n    \"image/webp\",\n    \"image/gif\"\n  ],\n  SUPPORTED_DOCUMENT_FORMATS: [\n    \"application/pdf\",\n    \"application/msword\",\n    \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\",\n    \"application/vnd.ms-excel\",\n    \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\n    \"image/jpeg\",\n    \"image/jpg\",\n    \"image/png\",\n    \"text/plain\"\n  ]\n};\n\nexport const LEGAL_ENTITY_TYPES = [\n  { value: \"sole_proprietorship\", label: \"Sole Proprietorship\" },\n  { value: \"partnership_firms\", label: \"Partnership Firms\" },\n  { value: \"pvt_ltd\", label: \"Private Limited Company\" },\n  { value: \"limited_liability_partnership\", label: \"Limited Liability Partnership (LLP)\" },\n  { value: \"trusts_and_ngos\", label: \"Trusts and NGOs\" }\n];\n\nexport const DOCUMENT_TYPES = [\n  { value: \"pan_card\", label: \"PAN Card\" },\n  { value: \"address_proof\", label: \"Address Proof\" },\n  { value: \"fssai_license\", label: \"FSSAI License\" },\n  { value: \"trade_license\", label: \"Trade License\" },\n  { value: \"msme_certificate\", label: \"MSME Certificate\" },\n  { value: \"sustainability_certificate\", label: \"Sustainability Certificate\" },\n  { value: \"other\", label: \"Other Document\" }\n];\n\n// File validation functions\nexport const validateFile = (file, type = 'document') => {\n  const errors = [];\n  \n  if (!file) {\n    return { isValid: true, errors: [] }; // Optional file\n  }\n  \n  // Size validation\n  if (file.size > FILE_CONSTRAINTS.MAX_SIZE) {\n    errors.push(`File size must be less than ${FILE_CONSTRAINTS.MAX_SIZE / (1024 * 1024)}MB`);\n  }\n  \n  // Format validation\n  const allowedFormats = type === 'image' \n    ? FILE_CONSTRAINTS.SUPPORTED_IMAGE_FORMATS \n    : FILE_CONSTRAINTS.SUPPORTED_DOCUMENT_FORMATS;\n    \n  if (!allowedFormats.includes(file.type)) {\n    const formatList = allowedFormats.map(format => format.split('/')[1]).join(', ');\n    errors.push(`Supported formats: ${formatList}`);\n  }\n  \n  return {\n    isValid: errors.length === 0,\n    errors\n  };\n};\n\nexport const validateImageFile = (file) => validateFile(file, 'image');\nexport const validateDocumentFile = (file) => validateFile(file, 'document');\n\n// Form validation for onboarding\nexport const validateOnboardingData = (data) => {\n  const errors = {};\n  \n  // Required fields\n  if (!data.business_name?.trim()) {\n    errors.business_name = \"Business name is required\";\n  }\n  \n  if (!data.legal_entity_type) {\n    errors.legal_entity_type = \"Legal entity type is required\";\n  }\n  \n  if (!data.pan_gst_number?.trim() || data.pan_gst_number.length < 10) {\n    errors.pan_gst_number = \"PAN/GST number must be at least 10 characters\";\n  }\n  \n  if (!data.bank_name?.trim()) {\n    errors.bank_name = \"Bank name is required\";\n  }\n  \n  if (!data.bank_account_number?.trim() || data.bank_account_number.length < 9) {\n    errors.bank_account_number = \"Bank account number must be at least 9 characters\";\n  }\n  \n  if (!data.ifsc_code?.trim() || data.ifsc_code.length !== 11) {\n    errors.ifsc_code = \"IFSC code must be exactly 11 characters\";\n  }\n  \n  if (!data.business_address?.trim() || data.business_address.length < 10) {\n    errors.business_address = \"Business address must be at least 10 characters\";\n  }\n  \n  return {\n    isValid: Object.keys(errors).length === 0,\n    errors\n  };\n};\n\n// Helper to create FormData from object (handles files properly)\nexport const createFormData = (data) => {\n  const formData = new FormData();\n  \n  Object.entries(data).forEach(([key, value]) => {\n    if (value !== null && value !== undefined && value !== '') {\n      if (value instanceof File) {\n        formData.append(key, value);\n      } else if (Array.isArray(value)) {\n        value.forEach((item, index) => {\n          if (item instanceof File) {\n            formData.append(`${key}`, item);\n          } else {\n            formData.append(`${key}[${index}]`, item.toString());\n          }\n        });\n      } else {\n        formData.append(key, value.toString());\n      }\n    }\n  });\n  \n  return formData;\n};\n\n// Helper to format file size for display\nexport const formatFileSize = (bytes) => {\n  if (bytes === 0) return '0 Bytes';\n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n};\n\n// Helper to get file extension\nexport const getFileExtension = (fileName) => {\n  return fileName.split('.').pop()?.toLowerCase() || '';\n};\n","path":null,"size_bytes":4626,"size_tokens":null}},"version":2}